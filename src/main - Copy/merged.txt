
AdminProfileServlet.java

package com.computerlist.controller.Admin;

import com.computerlist.model.Computer;
import com.computerlist.model.User;
import com.computerlist.service.ComputerService;
import com.computerlist.service.UserService;
import com.computerlist.service.impl.ComputerServiceImpl;
import com.computerlist.service.impl.UserServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;

import java.io.IOException;
import java.util.List;

@WebServlet("/admin/profile")
public class AdminProfileServlet extends HttpServlet {

    private ComputerService computerService = new ComputerServiceImpl();
    private UserService userService = new UserServiceImpl();

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        if (session == null || session.getAttribute("user") == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }

        User admin = (User) session.getAttribute("user");
        if (admin.getRoleId() != 2) {
            resp.sendRedirect(req.getContextPath() + "index");
            return;
        }
        int adminId = admin.getId();

        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ —Ä–æ–ª—å –∏–∑–º–µ–Ω–∏–ª–∞—Å—å)
        admin = userService.getUserById(adminId);

        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç—É—Ä—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —ç—Ç–∏–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
        List<Computer> computers = computerService.getComputersByAdminCreatedId(adminId);

        req.setAttribute("admin", admin);
        req.setAttribute("computers", computers);

        req.getRequestDispatcher("/templates/admin/profile.jsp").forward(req, resp);
    }
}

Computer.java

package com.computerlist.model;
import java.time.LocalDate;
import java.util.List;

public class Computer {

    private int id;
    private String title;
    private String description;
    private int gamingZoneId;
    private GamingZone gamingZone;
    private LocalDate startDate;
    private LocalDate endDate;
    private double hourlyRate;
    private int creator_id;
    private User creator;


    private List<RoomOption> roomOptions;
    public Computer() {}

    public Computer(int id, String title,String description, int gamingZoneId, GamingZone gamingZone,
                LocalDate startDate, LocalDate endDate, double hourlyRate, int creator_id) {
        this.id = id;
        this.title = title;
        this.description = description;
        this.gamingZoneId = gamingZoneId;
        this.gamingZone = gamingZone;
        this.startDate = startDate;
        this.endDate = endDate;
        this.hourlyRate = hourlyRate;
        this.creator_id = creator_id;
    }

    public int getId() {
        return id;
    }

    public String getTitle() {
        return title;
    }

    public String getDescription() {
        return description;
    }

    public void setDescription(String description) {
        this.description = description;
    }


    public int getGamingZoneId() {
        return gamingZoneId;
    }

    public GamingZone getGamingZone() {
        return gamingZone;
    }

    public LocalDate getStartDate() {
        return startDate;
    }

    public LocalDate getEndDate() {
        return endDate;
    }

    public double getHourlyRate() {
        return hourlyRate;
    }

    public void setId(int id) {
        this.id = id;
    }

    public void setTitle(String title) {
        this.title = title;
    }

    public void setGamingZoneId(int gamingZoneId) {
        this.gamingZoneId = gamingZoneId;
    }

    public void setGamingZone(GamingZone gamingZone) {
        this.gamingZone = gamingZone;
    }

    public void setStartDate(LocalDate startDate) {
        this.startDate = startDate;
    }

    public void setEndDate(LocalDate endDate) {
        this.endDate = endDate;
    }

    public void setHourlyRate(double hourlyRate) {
        this.hourlyRate = hourlyRate;
    }

    public List<RoomOption> getRoomOptions() {
        return roomOptions;
    }

    public void setRoomOptions(List<RoomOption> roomOptions) {
        this.roomOptions = roomOptions;
    }

    public User getCreator() {
        return creator;
    }

    public void setCreator(User creator) {
        this.creator = creator;
    }

    public int getCreator_id() {
        return creator_id;
    }

    public void setCreator_id(int creator_id) {
        this.creator_id = creator_id;
    }

    @Override
    public String toString() {
        return "Computer{" +
                "id=" + id +
                ", title='" + title + '\'' +
                ", gamingZoneId=" + gamingZoneId +
                ", gamingZone=" + gamingZone +
                ", startDate=" + startDate +
                ", endDate=" + endDate +
                ", hourlyRate=" + hourlyRate +
                '}';
    }
}


ComputerDAO.java

package com.computerlist.dao;


import com.computerlist.model.Computer;

import java.sql.SQLException;
import java.util.List;

public interface ComputerDAO {
    public List<Computer> search(String query, String startDate, String gamingZoneId, int limit, int offset);
    Computer findById(int id);
    List<Computer> findAll();
    List<Computer> findByGamingZone(int gamingZoneId);
    public List<Computer> findComputersByAdminCreated(int user_id);
    boolean create(Computer computer);
    boolean update(Computer computer) throws SQLException, ClassNotFoundException;
    boolean delete(int id);
    public void clearRoomOptionsForComputer(int computerId);
    public void linkRoomOptionsToComputer(int computerId, List<Integer> roomOptionIds);
    public int countSearchComputers(String query, String startDate, String gamingZoneId);

}


ComputerDAOImpl.java

package com.computerlist.dao.impl;

import com.computerlist.dao.ComputerDAO;
import com.computerlist.model.RoomOption;
import com.computerlist.model.Computer;
import com.computerlist.model.User;
import com.computerlist.util.DBConnection;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class ComputerDAOImpl implements ComputerDAO {

    private static final Logger logger = LogManager.getLogger(ComputerDAOImpl.class);


    @Override
    public List<Computer> search(String query, String startDate, String gamingZoneId, int limit, int offset) {
        List<Computer> computers = new ArrayList<>();

        StringBuilder sql = new StringBuilder("SELECT * FROM computers WHERE 1=1");

        // –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ–º SQL –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤
        if (query != null && !query.isEmpty()) {
            sql.append(" AND LOWER(title) LIKE LOWER(?)");
        }
        if (startDate != null && !startDate.isEmpty()) {
            sql.append(" AND start_date >= ?");
        }
        if (gamingZoneId != null && !gamingZoneId.isEmpty()) {
            sql.append(" AND gamingZone_id = ?");
        }

        sql.append(" ORDER BY start_date ASC LIMIT ? OFFSET ?");

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql.toString())) {

            int paramIndex = 1;

            if (query != null && !query.isEmpty()) {
                ps.setString(paramIndex++, "%" + query + "%");
            }
            if (startDate != null && !startDate.isEmpty()) {
                ps.setDate(paramIndex++, Date.valueOf(startDate));
            }
            if (gamingZoneId != null && !gamingZoneId.isEmpty()) {
                ps.setInt(paramIndex++, Integer.parseInt(gamingZoneId));
            }


            ps.setInt(paramIndex++, limit);
            ps.setInt(paramIndex, offset);

            try (ResultSet rs = ps.executeQuery()) {
                while (rs.next()) {
                    computers.add(extractComputer(rs));
                }
            }
            logger.info("SQL: " + sql);
            logger.info("Params: query=" + query + ", startDate=" + startDate + ", gamingZoneId=" + gamingZoneId);
            logger.info("Found computers: " + computers.size());

        } catch (SQLException | ClassNotFoundException e) {
            logger.error("search computers error", e);
        }

        return computers;
    }

    @Override
    public Computer findById(int id) {
        String sql = "SELECT * FROM computers WHERE id = ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) return extractComputer(rs);
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findById error", e);
        }
        return null;
    }

    @Override
    public List<Computer> findAll() {
        List<Computer> list = new ArrayList<>();
        String sql = "SELECT * FROM computers";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql);
             ResultSet rs = ps.executeQuery()) {
            while (rs.next()) list.add(extractComputer(rs));
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findAll error", e);
        }
        return list;
    }

    @Override
    public List<Computer> findByGamingZone(int gamingZoneId) {
        List<Computer> list = new ArrayList<>();
        String sql = "SELECT * FROM computers WHERE gamingZone_id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, gamingZoneId);
            try (ResultSet rs = ps.executeQuery()) {
                while (rs.next()) list.add(extractComputer(rs));
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findByGamingZone error", e);
        }
        return list;
    }

    public List<Computer> findComputersByAdminCreated(int user_id) {
        String sql = "SELECT id, title, description, gamingZone_id, start_date, end_date, hourly_rate, creator_id FROM computers WHERE creator_id=?";
        List<Computer> list = new ArrayList<>();
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, user_id);
            try (ResultSet rs = ps.executeQuery()) {
                while (rs.next()) list.add(extractComputer(rs));
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findByGamingZone error", e);
        }
        return list;
    }

    @Override
    public boolean create(Computer computer) {
        String sql = "INSERT INTO computers (title, description, gamingZone_id, start_date, end_date, hourly_rate, creator_id) VALUES (?, ?, ?, ?, ?, ?, ?)";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setString(1, computer.getTitle());
            ps.setString(2, computer.getDescription());
            ps.setInt(3, computer.getGamingZoneId());
            ps.setDate(4, Date.valueOf(computer.getStartDate()));
            ps.setDate(5, Date.valueOf(computer.getEndDate()));
            ps.setDouble(6, computer.getHourlyRate());
            ps.setInt(7, computer.getCreator_id());
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("create computer error", e);
        }
        return false;
    }

    @Override
    public boolean update(Computer computer) {
        String sql = "UPDATE computers SET title=?, description=?, gamingZone_id=?, start_date=?, end_date=?, hourly_rate=? WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {

            ps.setString(1, computer.getTitle());
            ps.setString(2, computer.getDescription());
            ps.setInt(3, computer.getGamingZoneId());
            ps.setDate(4, Date.valueOf(computer.getStartDate()));
            ps.setDate(5, Date.valueOf(computer.getEndDate()));
            ps.setDouble(6, computer.getHourlyRate());
            ps.setInt(7, computer.getId());

            int rows = ps.executeUpdate();
            if (rows == 0) return false;

            // ‚Üê –í–æ—Ç —Ç—É—Ç –ø–æ–ª—É—á–∞–µ–º id –∏–∑ –ë–î
            try (ResultSet rs = ps.getGeneratedKeys()) {
                if (rs.next()) {
                    int generatedId = rs.getInt(1);
                    computer.setId(generatedId); // —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –æ–±—ä–µ–∫—Ç–µ
                }
            }

            return true;

        } catch (Exception e) {
            logger.error("create computer error", e);
            return false;
        }
    }

    @Override
    public boolean delete(int id) {
        String sql = "DELETE FROM computers WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("delete computer error", e);
        }
        return false;
    }
    // === –ù–û–í–´–ï –ú–ï–¢–û–î–´ –î–õ–Ø MANY-TO-MANY ===

    @Override
    public void clearRoomOptionsForComputer(int computerId) {
        String sql = "DELETE FROM computer_pc_configurations WHERE computer_id = ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, computerId);
            ps.executeUpdate();
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("clearRoomOptionsForComputer error", e);
        }
    }

    @Override
    public void linkRoomOptionsToComputer(int computerId, List<Integer> roomOptionIds) {
        if (roomOptionIds == null || roomOptionIds.isEmpty()) return;

        String sql = "INSERT INTO computer_pc_configurations (computer_id, pc_configuration_id) VALUES (?, ?)";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            for (int roomId : roomOptionIds) {
                ps.setInt(1, computerId);
                ps.setInt(2, roomId);
                ps.addBatch();
            }
            ps.executeBatch();
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("linkRoomOptionsToComputer error", e);
        }
    }
    @Override
    public int countSearchComputers(String query, String startDate, String gamingZoneId) {
        StringBuilder sql = new StringBuilder("SELECT COUNT(*) FROM computers WHERE 1=1");

        if (query != null && !query.isEmpty()) {
            sql.append(" AND LOWER(title) LIKE LOWER(?)");
        }
        if (startDate != null && !startDate.isEmpty()) {
            sql.append(" AND start_date >= ?");
        }
        if (gamingZoneId != null && !gamingZoneId.isEmpty()) {
            sql.append(" AND gamingZone_id = ?");
        }

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql.toString())) {

            int paramIndex = 1;

            if (query != null && !query.isEmpty()) {
                ps.setString(paramIndex++, "%" + query + "%");
            }
            if (startDate != null && !startDate.isEmpty()) {
                ps.setDate(paramIndex++, Date.valueOf(startDate));
            }
            if (gamingZoneId != null && !gamingZoneId.isEmpty()) {
                ps.setInt(paramIndex++, Integer.parseInt(gamingZoneId));
            }

            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) {
                    return rs.getInt(1);
                }
            }

        } catch (SQLException | ClassNotFoundException e) {
            logger.error("countSearchComputers error", e);
        }

        return 0;
    }


    private Computer extractComputer(ResultSet rs) throws SQLException {
        return new Computer(
                rs.getInt("id"),
                rs.getString("title"),
                rs.getString("description"),
                rs.getInt("gamingZone_id"),
                null, // gamingZone –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
                rs.getDate("start_date").toLocalDate(),
                rs.getDate("end_date").toLocalDate(),
                rs.getDouble("hourly_rate"),
                rs.getInt("creator_id"));
    }
}

computer-details.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<%@ include file="../fragments/header.jsp" %>

<div class="container" style="max-width: 900px; margin: 30px auto;">
    <c:if test="${not empty errorMessage}">
        <div style="color: red; background: #ffe6e6; padding: 12px; margin-bottom: 20px; border-radius: 5px;">
            ${errorMessage}
        </div>
    </c:if>

    <h1>${computer.title}</h1>

    <p><strong>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong> ${computer.gamingZone.name}</p>
    <p><strong>–î–∞—Ç—ã:</strong> ${computer.startDate} ‚Äì ${computer.endDate}</p>
    <p><strong>–¶–µ–Ω–∞ –æ—Ç:</strong> ${computer.hourlyRate} ‚ÇΩ</p>

    <h2>–û–ø–∏—Å–∞–Ω–∏–µ</h2>
    <p style="white-space: pre-wrap;">${computer.description}</p>

    <!-- –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç—É—Ä–∞ -->
    <div style="margin: 20px 0; display: flex; flex-wrap: wrap; gap: 12px; align-items: flex-start;">
        <c:forEach var="fileName" items="${photoFileNames}">
            <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/${fileName}"
                 alt="${fn:escapeXml(fileName)}"
                 onerror="this.style.display='none'"
                 style="max-width: 300px; max-height: 300px; object-fit: cover; border: 1px solid #eee; border-radius: 4px;">
        </c:forEach>
    </div>

    <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è -->
    <h2>–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è</h2>
    <c:choose>
        <c:when test="${empty roomOptions}">
            <p>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–æ–º–µ—Ä–∞—Ö –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.</p>
        </c:when>
        <c:otherwise>
            <div style="display: flex; flex-direction: column; gap: 15px;">
                <c:forEach var="room" items="${roomOptions}">
                    <div style="padding: 12px; border: 1px solid #ddd; border-radius: 6px; background: #f8f9fa;">
                        <strong>${room.roomType}</strong><br/>
                        –î–æ ${room.capacity} –≥–æ—Å—Ç–µ–π,
                        ${room.bed_count} ${room.bed_type} –∫—Ä–æ–≤–∞—Ç—å(–∏),
                        –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ü–µ–Ω—ã: ${room.priceMultiplier}
                    </div>
                </c:forEach>
            </div>
        </c:otherwise>
    </c:choose>

    <!-- –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∞) -->
    <c:if test="${not empty sessionScope.user && sessionScope.user.id == computer.creator_id}">
        <div style="margin: 25px 0; text-align: center;">
            <a href="${pageContext.request.contextPath}/admin/edit-computer?id=${computer.id}"
               style="padding: 10px 20px; background-color: #ffc107; color: #212529; text-decoration: none; border-radius: 5px; font-weight: bold;">
                –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ä
            </a>
        </div>
    </c:if>

    <!-- –§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <h2>–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ä</h2>
    <form method="post" style="background: #f1f3f5; padding: 20px; border-radius: 8px;">
        <input type="hidden" name="computerId" value="${computer.id}" />

        <div style="margin-bottom: 15px;">
            <label><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π:</strong></label><br/>
            <input type="number" name="peopleCount" min="1" value="1" required
                   style="padding: 8px; width: 100%; max-width: 200px;" />
        </div>

        <div style="margin-bottom: 15px;">
            <label><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç:</strong></label><br/>
            <input type="number" name="roomsCount" min="1" value="1" required
                   style="padding: 8px; width: 100%; max-width: 200px;" />
        </div>

        <button type="submit"
                style="padding: 10px 25px; background-color: #28a745; color: white; border: none; border-radius: 5px; font-size: 16px; cursor: pointer;">
            –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
        </button>
    </form>

    <div style="margin-top: 30px; text-align: center;">
        <a href="${pageContext.request.contextPath}/computers" style="color: #6c757d; text-decoration: none;">‚Üê –í—Å–µ —Ç—É—Ä—ã</a>
    </div>
</div>

<%@ include file="../fragments/footer.jsp" %>

ComputerDetailsServlet.java

package com.computerlist.controller.Computer;

import com.computerlist.model.Reservation;
import com.computerlist.model.RoomOption;
import com.computerlist.model.Computer;
import com.computerlist.model.User;
import com.computerlist.service.ReservationService;
import com.computerlist.service.RoomOptionService;
import com.computerlist.service.ComputerService;
import com.computerlist.service.impl.ReservationServiceImpl;
import com.computerlist.service.impl.RoomOptionServiceImpl;
import com.computerlist.service.impl.ComputerServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;

import java.io.File;
import java.io.IOException;
import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;

@WebServlet("/computers")
public class ComputerDetailsServlet extends HttpServlet {

    private ComputerService computerService;
    private RoomOptionService roomOptionService;
    private ReservationService reservationService;

    @Override
    public void init() {
        computerService = new ComputerServiceImpl();
        roomOptionService = new RoomOptionServiceImpl();
        reservationService = new ReservationServiceImpl();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        String idParam = req.getParameter("id");

        if (idParam == null || idParam.trim().isEmpty()) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "Computer ID is required");
            return;
        }
        String realPath = req.getServletContext().getRealPath("/img/computer/" + idParam);
        File photoDir = new File(realPath);
        try {
            int computerId = Integer.parseInt(idParam);
            Computer computer = computerService.getComputerById(computerId);

            if (computer == null) {
                resp.sendError(HttpServletResponse.SC_NOT_FOUND, "Computer not found");
                return;
            }
            List<String> photoFileNames = new ArrayList<>();

            if (photoDir.exists() && photoDir.isDirectory()) {
                File[] files = photoDir.listFiles((dir, name) -> {
                    String lower = name.toLowerCase();
                    return lower.endsWith(".jpg") || lower.endsWith(".jpeg") ||
                            lower.endsWith(".png") || lower.endsWith(".webp");
                });

                if (files != null) {
                    for (File file : files) {
                        photoFileNames.add(file.getName());
                    }
                }
            }

            req.setAttribute("photoFileNames", photoFileNames);

            List<RoomOption> roomOptions = roomOptionService.getRoomOptionsByComputer(computerId);

            req.setAttribute("computer", computer);
            req.setAttribute("roomOptions", roomOptions);

            req.getRequestDispatcher("/templates/computer/computer-details.jsp").forward(req, resp);

        } catch (NumberFormatException e) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "Invalid computer ID format");
        }
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ user.id —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å–µ—Å—Å–∏–∏)
        if (session == null || session.getAttribute("user") == null) {
            resp.sendRedirect(req.getContextPath() + "/login?error=unauthorized");
            return;
        }

        // –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å–µ—Å—Å–∏–∏
        User user = (User) session.getAttribute("user");
        int userId = user.getId();

        // –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–æ—Ä–º—ã
        String computerIdParam = req.getParameter("computerId");
        String peopleCountParam = req.getParameter("peopleCount");
        String roomsCountParam = req.getParameter("roomsCount");

        if (computerIdParam == null || peopleCountParam == null || roomsCountParam == null) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "Missing required reservation parameters");
            return;
        }

        try {
            int computerId = Integer.parseInt(computerIdParam);
            int peopleCount = Integer.parseInt(peopleCountParam);
            int roomsCount = Integer.parseInt(roomsCountParam);

            // –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
            if (peopleCount <= 0 || roomsCount <= 0) {
                req.setAttribute("errorMessage", "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π –∏ –∫–æ–º–Ω–∞—Ç –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ 0.");
                handleGetAndShowError(req, resp, computerId);
                return;
            }

            // –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            Reservation reservation = new Reservation();
            reservation.setUserId(userId);
            reservation.setComputerId(computerId);
            reservation.setPeopleCount(peopleCount);
            reservation.setRoomsCount(roomsCount);
            reservation.setReservationDate(LocalDateTime.now());
            // totalPrice –∏ status –±—É–¥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ ReservationServiceImpl

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –±—Ä–æ–Ω—å
            if (reservationService.createReservation(reservation)) {
                // –£—Å–ø–µ—à–Ω–æ ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–ª–∏ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
                resp.sendRedirect(req.getContextPath() + "/profile?reservation=success");
            } else {
                req.setAttribute("errorMessage", "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.");
                handleGetAndShowError(req, resp, computerId);
            }

        } catch (NumberFormatException e) {
            req.setAttribute("errorMessage", "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã.");
            handleGetAndShowError(req, resp, Integer.parseInt(computerIdParam));
        }
    }

    // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥: –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç—É—Ä –∏ –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
    private void handleGetAndShowError(HttpServletRequest req, HttpServletResponse resp, int computerId) throws ServletException, IOException {
        Computer computer = computerService.getComputerById(computerId);
        List<RoomOption> roomOptions = roomOptionService.getRoomOptionsByComputer(computerId);

        req.setAttribute("computer", computer);
        req.setAttribute("roomOptions", roomOptions);
        req.getRequestDispatcher("/templates/computer/computer-details.jsp").forward(req, resp);
    }
}

computer-results.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>

<c:if test="${not empty computers}">
    <div class="computers-grid" style="display: flex; flex-direction: column; gap: 25px; margin: 20px 0;">
        <c:forEach var="computer" items="${computers}">
            <div style="border: 1px solid #e0e0e0; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 6px rgba(0,0,0,0.1); background: white;">
                <!-- –§–æ—Ç–æ (–ø–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å photo1.jpg) -->
                <div style="height: 200px; background: #f5f5f5; display: flex; align-items: center; justify-content: center; overflow: hidden;">
                    <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/home.jpg"
                         onerror="this.style.display='none'"
                         style="width: 100%; height: 100%; object-fit: cover;"
                         alt="${computer.title}">
                </div>

                <div style="padding: 20px;">
                    <h2 style="margin-top: 0; color: #333;">${computer.title}</h2>

                    <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 15px; font-size: 14px; color: #555;">
                        <span>üìç ${computer.gamingZone.name}</span>
                        <span>üìÖ ${computer.startDate} ‚Äì ${computer.endDate}</span>
                        <span>üí∞ –û—Ç ${computer.hourlyRate} ‚ÇΩ</span>
                    </div>

                    <!-- –û–ø–∏—Å–∞–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 3 —Å–ª–æ–≤–∞) -->
                    <div style="margin: 15px 0; color: #333; line-height: 1.5;">
                        <c:choose>
                            <c:when test="${not empty computer.description}">
                                <c:set var="words" value="${fn:split(computer.description, ' ')}"/>
                                <c:choose>
                                    <c:when test="${fn:length(words) > 3}">
                                        <p style="margin: 0;">
                                            ${words[0]} ${words[1]} ${words[2]}...
                                        </p>
                                    </c:when>
                                    <c:otherwise>
                                        <p style="margin: 0;">${computer.description}</p>
                                    </c:otherwise>
                                </c:choose>
                            </c:when>
                            <c:otherwise>
                                <p style="margin: 0; color: #888;">–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.</p>
                            </c:otherwise>
                        </c:choose>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∞ -->
                    <div style="text-align: right; margin-top: 15px;">
                        <a href="${pageContext.request.contextPath}/computers?id=${computer.id}"
                           style="padding: 8px 16px; background: #007bff; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">
                            –ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí
                        </a>
                    </div>
                </div>
            </div>
        </c:forEach>
    </div>
</c:if>

<c:if test="${empty computers}">
    <div style="text-align: center; padding: 40px; color: #666; font-size: 18px;">
        <p>üïó –¢—É—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞.</p>
    </div>
</c:if>

<!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
<c:if test="${totalPages > 1}">
    <div style="margin: 30px 0; display: flex; justify-content: center; align-items: center; gap: 12px; flex-wrap: wrap;">
        <c:if test="${currentPage > 1}">
            <a href="#" class="pagination-link" data-page="${currentPage - 1}"
               style="padding: 8px 14px; text-decoration: none; background: #f1f3f5; color: #007bff; border-radius: 5px;">‚Üê –ù–∞–∑–∞–¥</a>
        </c:if>

        <span style="min-width: 120px; text-align: center; font-weight: 500;">
            –°—Ç—Ä–∞–Ω–∏—Ü–∞ ${currentPage} –∏–∑ ${totalPages}
        </span>

        <c:if test="${currentPage < totalPages}">
            <a href="#" class="pagination-link" data-page="${currentPage + 1}"
               style="padding: 8px 14px; text-decoration: none; background: #f1f3f5; color: #007bff; border-radius: 5px;">–í–ø–µ—Ä—ë–¥ ‚Üí</a>
        </c:if>
    </div>
</c:if>

computer-search.js

document.addEventListener("DOMContentLoaded", () => {
    const queryInput = document.getElementById("query");
    const suggestions = document.getElementById("computerSuggestions");
    const searchForm = document.getElementById("searchForm");
    const resultsDiv = document.getElementById("results");

    // --- AJAX –∞–≤—Ç–æ–ø–æ–¥—Å–∫–∞–∑–∫–∏ ---
    queryInput.addEventListener("input", function () {
        const query = this.value.trim();
        if (query.length < 2) {
            suggestions.style.display = "none";
            return;
        }

        const url = window.location.origin + "/computers/suggest?query=" + encodeURIComponent(query);

        fetch(url)
            .then(res => res.json())
            .then(data => {
                suggestions.innerHTML = "";
                data.forEach(title => {
                    const div = document.createElement("div");
                    div.textContent = title;
                    div.style.padding = "5px";
                    div.style.cursor = "pointer";
                    div.onclick = () => {
                        queryInput.value = title;
                        suggestions.style.display = "none";
                    };
                    suggestions.appendChild(div);
                });
                suggestions.style.display = data.length ? "block" : "none";
            })
            .catch(err => console.error("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ–ø–æ–¥—Å–∫–∞–∑–∫–∏:", err));
    });

    // --- AJAX –ø–æ–∏—Å–∫ ---
    searchForm.addEventListener("submit", function (e) {
        e.preventDefault();
        loadResults(1); // ‚Üê –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é
    });
});

document.addEventListener("click", function (e) {
    if (e.target.classList.contains("page-btn")) {
        const page = e.target.dataset.page;
        loadResults(page);
    }
});




function loadResults(page = 1) {
    const params = new URLSearchParams(new FormData(document.getElementById("searchForm")));
    params.append("ajax", "1");
    params.append("page", page);

    fetch(contextPath + "/computers/search?" + params.toString())
        .then(r => r.text())
        .then(html => document.querySelector("#results").innerHTML = html);
}


computer-search.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ include file="/templates/fragments/header.jsp" %>

<div class="container" style="max-width: 900px; margin: 30px auto;">
    <h2>–ü–æ–∏—Å–∫ —Ç—É—Ä–æ–≤</h2>

    <form id="searchForm" method="get" action="${pageContext.request.contextPath}/computers/search">
        <div style="position: relative; margin-bottom: 15px;">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–∞ –∏–ª–∏ –≥–æ—Ä–æ–¥–∞:</label><br>
            <input type="text" id="query" name="query" style="width: 100%; padding: 8px;" autocomplete="off">
            <div id="computerSuggestions"
                 style="position: absolute; z-index: 1000; background: white; border: 1px solid #ccc;
                        width: 100%; max-height: 200px; overflow-y: auto; display: none;">
            </div>
        </div>

        <div style="margin-top: 15px;">
            <label>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:</label><br>
            <input type="date" name="startDate" style="width: 100%; padding: 8px;">
        </div>

        <div style="position: relative; margin-top: 15px;">
            <label><strong>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong></label>
            <input type="text"
                   id="gamingZoneInput"
                   placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –≥–æ—Ä–æ–¥ –∏–ª–∏ —Å—Ç—Ä–∞–Ω—É..."
                   style="width: 100%; padding: 8px; margin-top: 5px;"
                   autocomplete="off">
            <input type="hidden" name="gamingZoneId" id="gamingZoneId">
            <div id="gamingZoneSuggestions"
                 style="position: absolute; z-index: 1000; background: white; border: 1px solid #ccc;
                        width: 100%; max-height: 200px; overflow-y: auto; display: none;">
            </div>
        </div>

        <button type="submit" style="margin-top: 20px; padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px;">
            –ù–∞–π—Ç–∏
        </button>
    </form>

    <hr>

    <div id="results">
        <%-- AJAX –≤—Å—Ç–∞–≤–∏—Ç —Å—é–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã --%>
    </div>
</div>

<script>
    const contextPath = '${pageContext.request.contextPath}';
</script>
<script src="${pageContext.request.contextPath}/js/gamingZone.js"></script>
<script src="${pageContext.request.contextPath}/js/computer-search.js"></script>

<%@ include file="/templates/fragments/footer.jsp" %>

ComputerSearchServlet.java

package com.computerlist.controller.Computer;

import com.computerlist.model.Computer;
import com.computerlist.service.GamingZoneService;
import com.computerlist.service.ComputerService;
import com.computerlist.service.impl.GamingZoneServiceImpl;
import com.computerlist.service.impl.ComputerServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;

import java.io.IOException;
import java.util.List;

@WebServlet("/computers/search")
public class ComputerSearchServlet extends HttpServlet {

    private ComputerService computerService;
    private GamingZoneService gamingZoneService = new GamingZoneServiceImpl();

    @Override
    public void init() {
        computerService = new ComputerServiceImpl();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {

        String ajax = req.getParameter("ajax");
        String query = req.getParameter("query");
        String startDate = req.getParameter("startDate");


        String gamingZoneIdParam = req.getParameter("gamingZoneId");
        Integer gamingZoneId = null;
        if (gamingZoneIdParam != null && !gamingZoneIdParam.isEmpty()) {
            try {
                gamingZoneId = Integer.parseInt(gamingZoneIdParam);
            } catch (NumberFormatException ignored) {
                // –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º, –µ—Å–ª–∏ –Ω–µ —á–∏—Å–ª–æ(unreal)
            }
        }

        int page = parseInt(req.getParameter("page"), 1);
        int pageSize = 10;

        List<Computer> computers = computerService.searchComputers(
                query,
                startDate,
                gamingZoneId != null ? gamingZoneId.toString() : null,
                page,
                pageSize
        );

        int totalComputers = computerService.countSearchComputers(
                query,
                startDate,
                gamingZoneId != null ? gamingZoneId.toString() : null
        );
        int totalPages = (int) Math.ceil((double) totalComputers / pageSize);

        req.setAttribute("computers", computers);
        req.setAttribute("page", page);
        req.setAttribute("totalPages", totalPages);
        req.setAttribute("currentPage", page);
        req.setAttribute("gamingZones", gamingZoneService.getAllGamingZones());


        if ("1".equals(ajax)) {
            req.getRequestDispatcher("/templates/computer/computer-results.jsp").forward(req, resp);

        } else {
            req.getRequestDispatcher("/templates/computer/computer-search.jsp").forward(req, resp);
        }
    }

    private int parseInt(String s, int def) {
        try { return Integer.parseInt(s); } catch (Exception e) { return def; }
    }
}

ComputerService.java

package com.computerlist.service;

import com.computerlist.model.Computer;

import java.sql.SQLException;
import java.util.List;

public interface ComputerService {
    public List<Computer> searchComputers(String query, String startDate, String gamingZoneId, int page, int limit);
    public List<Computer> getComputersByAdminCreatedId(int user_id);
    Computer getComputerById(int id);
    List<Computer> getAllComputers();
    List<Computer> getComputersByGamingZone(int gamingZoneId);
    boolean createComputer(Computer computer);
    boolean updateComputer(Computer computer) throws SQLException, ClassNotFoundException;
    boolean deleteComputer(int id);
    public int countSearchComputers(String query, String startDate, String gamingZoneId);
}

ComputerServiceImpl.java

package com.computerlist.service.impl;

import com.computerlist.dao.ComputerDAO;
import com.computerlist.dao.GamingZoneDAO;
import com.computerlist.dao.impl.RoomOptionDAOImpl;
import com.computerlist.dao.impl.ComputerDAOImpl;
import com.computerlist.dao.impl.GamingZoneDAOImpl;
import com.computerlist.model.RoomOption;
import com.computerlist.model.Computer;
import com.computerlist.model.GamingZone;
import com.computerlist.model.User;
import com.computerlist.service.ComputerService;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

public class ComputerServiceImpl implements ComputerService {

    private final ComputerDAOImpl computerDAO = new ComputerDAOImpl();
    private final GamingZoneDAO gamingZoneDAO = new GamingZoneDAOImpl();
    private final RoomOptionDAOImpl roomOptionDAO = new RoomOptionDAOImpl();

    public List<Computer> searchComputers(String query, String startDate, String gamingZoneId, int page, int limit) {
        int offset = (page - 1) * limit;
        return computerDAO.search(query, startDate, gamingZoneId, limit, offset);
    }

    public List<RoomOption> findAllRoomsByComputerId(int computer_id) {
        List<RoomOption> list = roomOptionDAO.findAllRoomsByComputerId(computer_id);
        return list;
    }

    @Override
    public Computer getComputerById(int id) {
        Computer computer = computerDAO.findById(id);
        if (computer != null) {
            GamingZone dest = gamingZoneDAO.findById(computer.getGamingZoneId());
            computer.setGamingZone(dest);
        }
        return computer;
    }

    @Override
    public List<Computer> getAllComputers() {
        List<Computer> computers = computerDAO.findAll();
        for (Computer t : computers) {
            t.setGamingZone(gamingZoneDAO.findById(t.getGamingZoneId()));
        }
        return computers;
    }

    @Override
    public List<Computer> getComputersByGamingZone(int gamingZoneId) {
        return computerDAO.findByGamingZone(gamingZoneId);
    }

    public List<Computer> getComputersByAdminCreatedId(int user_id) {
        return computerDAO.findComputersByAdminCreated(user_id);
    }

    @Override
    public boolean createComputer(Computer computer) {
        return computerDAO.create(computer);
    }

    @Override
    public boolean updateComputer(Computer computer) throws SQLException, ClassNotFoundException {
        return computerDAO.update(computer);
    }

    @Override
    public boolean deleteComputer(int id) {
        return computerDAO.delete(id);
    }

    public int countSearchComputers(String query, String startDate, String gamingZoneId) {
        return computerDAO.countSearchComputers(query,startDate, gamingZoneId);
    }
}


ComputerSuggestServlet.java

package com.computerlist.controller.Computer;

import com.computerlist.model.Computer;
import com.computerlist.service.ComputerService;
import com.computerlist.service.impl.ComputerServiceImpl;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;

import java.io.IOException;
import java.util.List;

@WebServlet("/computers/suggest")
public class ComputerSuggestServlet extends HttpServlet {
    private final ComputerService computerService = new ComputerServiceImpl();

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        String query = req.getParameter("query");
        List<Computer> all = computerService.getAllComputers();

        List<String> suggestions = all.stream()
                .map(Computer::getTitle)
                .filter(t -> t.toLowerCase().contains(query.toLowerCase()))
                .distinct()
                .limit(10)
                .toList();

        resp.setContentType("application/json;charset=UTF-8");
        resp.getWriter().write(new org.json.JSONArray(suggestions).toString());
    }
}


create-computer.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ include file="/templates/fragments/header.jsp" %>
<div class="container" style="max-width: 800px; margin: 30px auto;">
    <h2 style="text-align: center;">–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–≤–æ–π –ü–ö</h2>
    <c:if test="${not empty errorMessage}">
        <div style="color: red; background: #ffe6e6; padding: 10px; margin-bottom: 20px; border-radius: 4px;">
            ${errorMessage}
        </div>
    </c:if>
    <form method="post" enctype="multipart/form-data" style="display: flex; flex-direction: column; gap: 15px;">
        <div>
            <label><strong>–ù–∞–∑–≤–∞–Ω–∏–µ –ü–ö:</strong></label>
            <input type="text" name="title" required style="width: 100%; padding: 8px;" value="${param.title}">
        </div>
        <div>
            <label><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong></label>
            <textarea name="description" rows="4" style="width: 100%; padding: 8px;">${param.description}</textarea>
        </div>
        <div style="position: relative;">
            <label><strong>–ò–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞:</strong></label>
            <input type="text"
                   id="gamingZoneInput"
                   placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–æ–Ω—ã..."
                   style="width: 100%; padding: 8px; margin-top: 5px;"
                   autocomplete="off">
            <input type="hidden" name="gamingZoneId" id="gamingZoneId" required>
            <div id="gamingZoneSuggestions"
                 style="position: absolute; z-index: 1000; background: white; border: 1px solid #ccc;
                        width: 100%; max-height: 200px; overflow-y: auto; display: none;">
            </div>
        </div>
        <div style="display: flex; gap: 15px;">
            <div style="flex: 1;">
                <label><strong>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (—Å):</strong></label>
                <input type="time" name="startTime" required style="width: 100%; padding: 8px;" value="${param.startTime}">
            </div>
            <div style="flex: 1;">
                <label><strong>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (–¥–æ):</strong></label>
                <input type="time" name="endTime" required style="width: 100%; padding: 8px;" value="${param.endTime}">
            </div>
        </div>
        <div>
            <label><strong>–¶–µ–Ω–∞ –∑–∞ —á–∞—Å (‚ÇΩ):</strong></label>
            <input type="number" step="0.01" name="hourlyRate" required min="0" style="width: 100%; padding: 8px;" value="${param.hourlyRate}">
        </div>
        <!-- === –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ü–ö === -->
        <div>
            <label><strong>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ü–ö:</strong></label>
            <div style="display: flex; flex-wrap: wrap; gap: 12px; margin-top: 8px;">
                <c:forEach var="config" items="${allRoomOptions}">
                    <label style="display: flex; align-items: center; gap: 6px; background: #f8f9fa; padding: 10px; border-radius: 6px; border: 1px solid #e9ecef;">
                        <input type="checkbox" name="pcConfigurations" value="${config.id}"
                               <c:if test="${paramValues.pcConfigurations != null}">
                                   <c:forEach var="selectedId" items="${paramValues.pcConfigurations}">
                                       <c:if test="${selectedId == config.id}">checked</c:if>
                                   </c:forEach>
                               </c:if>>
                        <span>
                            <strong>${config.cpu} / ${config.gpu}</strong><br/>
                            <small>${config.ram} –ì–ë –û–ó–£, ${config.storage} –•—Ä–∞–Ω–∏–ª–∏—â–µ</small>
                        </span>
                    </label>
                </c:forEach>
            </div>
            <small style="color: #6c757d;">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</small>
        </div>
        <!-- === –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ === -->
        <div>
            <label><strong>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ü–ö (–º–∞–∫—Å. 5 —Ñ–∞–π–ª–æ–≤):</strong></label>
            <input type="file" name="photos" accept=".jpg,.jpeg,.png" multiple
                   style="width: 100%; padding: 8px;" />
            <small style="color: #6c757d;">
                –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è JPG, PNG. –ü–µ—Ä–≤–æ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ —Ñ–æ—Ç–æ —Å—Ç–∞–Ω–µ—Ç –æ–±–ª–æ–∂–∫–æ–π (<code>home.jpg</code>).
            </small>
        </div>
        <div style="text-align: center; margin-top: 20px;">
            <button type="submit" style="padding: 10px 25px; background: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer;">
                –î–æ–±–∞–≤–∏—Ç—å –ü–ö
            </button>
            <a href="${pageContext.request.contextPath}/manager/profile"
               style="display: inline-block; margin-left: 15px; padding: 10px 15px; text-decoration: none; color: #6c757d; border: 1px solid #ccc; border-radius: 5px;">
                –û—Ç–º–µ–Ω–∞
            </a>
        </div>
    </form>
</div>
<script>
    const contextPath = '${pageContext.request.contextPath}';
</script>
<script src="${pageContext.request.contextPath}/js/gamingZone.js"></script>
<%@ include file="/templates/fragments/footer.jsp" %>

CreateComputerServlet.java

package com.computerlist.controller.Admin;

import com.computerlist.model.GamingZone;
import com.computerlist.model.RoomOption;
import com.computerlist.model.Computer;
import com.computerlist.service.GamingZoneService;
import com.computerlist.service.RoomOptionService;
import com.computerlist.service.ComputerService;
import com.computerlist.service.UserService;
import com.computerlist.service.impl.GamingZoneServiceImpl;
import com.computerlist.service.impl.RoomOptionServiceImpl;
import com.computerlist.service.impl.ComputerServiceImpl;
import com.computerlist.service.impl.UserServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.MultipartConfig;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.*;

import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.nio.file.StandardCopyOption;
import java.time.LocalDate;
import java.util.Collection;
import java.util.List;

@MultipartConfig(
        fileSizeThreshold = 1024 * 1024, // 1 MB
        maxFileSize = 5 * 1024 * 1024,    // 5 MB –Ω–∞ —Ñ–∞–π–ª
        maxRequestSize = 25 * 1024 * 1024 // 25 MB –≤—Å–µ–≥–æ
)
@WebServlet("/admin/create-computer")
public class CreateComputerServlet extends HttpServlet {

    private ComputerService computerService = new ComputerServiceImpl();
    private GamingZoneService gamingZoneService = new GamingZoneServiceImpl();
    private UserService userService = new UserServiceImpl();
    private RoomOptionService roomOptionService = new RoomOptionServiceImpl();

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        if (session == null || session.getAttribute("user") == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }

        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–ª—è –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
        List<GamingZone> gamingZones = gamingZoneService.getAllGamingZones();
        req.setAttribute("gamingZones", gamingZones);
        List<RoomOption> allRoomOptions = roomOptionService.getAllRoomOptions();
        req.setAttribute("allRoomOptions", allRoomOptions);

        req.getRequestDispatcher("/templates/admin/create-computer.jsp").forward(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        if (session == null || session.getAttribute("user") == null) {
            resp.sendError(HttpServletResponse.SC_UNAUTHORIZED);
            return;
        }

        Object userObj = session.getAttribute("user");
        int adminId = (userObj instanceof com.computerlist.model.User)
                ? ((com.computerlist.model.User) userObj).getId()
                : (Integer) userObj;

        try {
            String title = req.getParameter("title");
            String description = req.getParameter("description");
            String gamingZoneIdStr = req.getParameter("gamingZoneId");
            String startDateStr = req.getParameter("startDate");
            String endDateStr = req.getParameter("endDate");
            String hourlyRateStr = req.getParameter("hourlyRate");

            if (title == null || title.trim().isEmpty() ||
                    gamingZoneIdStr == null || startDateStr == null || endDateStr == null || hourlyRateStr == null) {
                req.setAttribute("errorMessage", "–í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.");
                forwardWithError(req, resp);
                return;
            }

            int gamingZoneId = Integer.parseInt(gamingZoneIdStr);
            LocalDate startDate = LocalDate.parse(startDateStr);
            LocalDate endDate = LocalDate.parse(endDateStr);
            double hourlyRate = Double.parseDouble(hourlyRateStr);

            if (startDate.isAfter(endDate)) {
                req.setAttribute("errorMessage", "–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞.");
                forwardWithError(req, resp);
                return;
            }

            Computer computer = new Computer();
            computer.setTitle(title.trim());
            computer.setDescription(description != null ? description.trim() : "");
            computer.setGamingZoneId(gamingZoneId);
            computer.setStartDate(startDate);
            computer.setEndDate(endDate);
            computer.setHourlyRate(hourlyRate);
            computer.setCreator_id(adminId);

            // –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞—ë–º —Ç—É—Ä (–±–µ–∑ —Ñ–æ—Ç–æ)
            if (computerService.createComputer(computer)) {
                int computerId = computer.getId();

                // –ü–∞–ø–∫–∞ –¥–ª—è —Ñ–æ—Ç–æ: webapp/img/computer/{id}
                String uploadDir = req.getServletContext().getRealPath("/img/computer/" + computerId);
                File uploadFolder = new File(uploadDir);
                if (!uploadFolder.exists()) {
                    uploadFolder.mkdirs();
                }

                // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —á–∞—Å—Ç–∏ —Å –∏–º–µ–Ω–µ–º "photos"
                Collection<Part> photoParts = req.getParts().stream()
                        .filter(part -> "photos".equals(part.getName()))
                        .toList();

                int count = 0;
                for (Part photoPart : photoParts) {
                    if (photoPart.getSize() == 0) continue;
                    if (count >= 5) break; // –ú–∞–∫—Å–∏–º—É–º 5

                    String originalFileName = Paths.get(photoPart.getSubmittedFileName()).getFileName().toString();
                    String targetFileName;

                    if (count == 0) {
                        // –ü–µ—Ä–≤–æ–µ —Ñ–æ—Ç–æ ‚Üí home.jpg
                        targetFileName = "home.jpg";
                    } else {
                        targetFileName = sanitizeFileName(originalFileName);
                        // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É –∏ –∑–∞–º–µ–Ω—è–µ–º –ø—Ä–æ–±–µ–ª—ã
                        if (targetFileName.length() > 50) {
                            String ext = "";
                            int dot = targetFileName.lastIndexOf('.');
                            if (dot > 0) {
                                ext = targetFileName.substring(dot);
                                targetFileName = targetFileName.substring(0, dot);
                            }
                            targetFileName = targetFileName.substring(0, Math.min(40, targetFileName.length())) + ext;
                        }
                    }

                    Path targetPath = Paths.get(uploadDir, targetFileName);
                    try {
                        Files.copy(photoPart.getInputStream(), targetPath, StandardCopyOption.REPLACE_EXISTING);
                    } catch (IOException e) {
                        // –õ–æ–≥–∏—Ä—É–µ–º, –Ω–æ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ–º ‚Äî —Ç—É—Ä —É–∂–µ —Å–æ–∑–¥–∞–Ω
                        e.printStackTrace();
                    }

                    count++;
                }

                resp.sendRedirect(req.getContextPath() + "/admin/profile?created=success");
            } else {
                req.setAttribute("errorMessage", "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Ç—É—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.");
                forwardWithError(req, resp);
            }

        } catch (Exception e) {
            req.setAttribute("errorMessage", "–û—à–∏–±–∫–∞ –≤ –¥–∞–Ω–Ω—ã—Ö: " + e.getMessage());
            forwardWithError(req, resp);
        }
    }

    private void forwardWithError(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.setAttribute("gamingZones", gamingZoneService.getAllGamingZones());
        req.getRequestDispatcher("/templates/admin/create-computer.jsp").forward(req, resp);
    }
    private String sanitizeFileName(String name) {
        if (name == null || name.isEmpty()) {
            return "image.jpg";
        }
        // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
        return name.replaceAll("[^a-zA-Z0-9._-]", "_");
    }
}

DBConnection.java

package com.computerlist.util;

import java.sql.Connection;
import java.sql.SQLException;

import com.zaxxer.hikari.HikariConfig;
import com.zaxxer.hikari.HikariDataSource;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import javax.sql.DataSource;

public class DBConnection {

    final static Logger logger = LogManager.getLogger(DBConnection.class);

    private static DataSource dataSource;

    public static void init() throws ClassNotFoundException {
        Class.forName("org.postgresql.Driver");

        HikariConfig config = new HikariConfig();
        config.setJdbcUrl("jdbc:postgresql://localhost:5432/computermaster");
        config.setUsername("postgres");
        config.setPassword("postgres");
        config.setConnectionTimeout(50000); // –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
        config.setMaximumPoolSize(10);
        dataSource = new HikariDataSource(config);

        logger.debug("dataSource —Å–æ–∑–¥–∞–ª—Å—è —É—Å–ø–µ—à–Ω–æ");
    }

    public static Connection getConnection() throws SQLException, ClassNotFoundException {
        if (dataSource != null) {
            logger.debug("–æ—Ç–¥–∞–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ");
            return dataSource.getConnection();
        } else {
            try {
                init();
                return dataSource.getConnection();
            } catch (SQLException e) {
                throw new RuntimeException(e);
            }
        }
    }

    public static void destroy() {
        ((HikariDataSource)dataSource).close();
    }

}


DBContextListener.java

package com.computerlist.util;

import jakarta.servlet.ServletContextEvent;
import jakarta.servlet.ServletContextListener;
import jakarta.servlet.annotation.WebListener;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;
import com.computerlist.util.DBConnection; // –ò–º–ø–æ—Ä—Ç –≤–∞—à–µ–≥–æ –∫–ª–∞—Å—Å–∞ DBConnection

import java.sql.Connection;
import java.sql.SQLException;
import java.sql.Statement;

@WebListener
public class DBContextListener implements ServletContextListener {

    // –õ–æ–≥–≥–µ—Ä –¥–ª—è —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞
    final static Logger logger = LogManager.getLogger(DBContextListener.class);

    // SQL-–∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î (–ü—Ä–∏–º–µ—Ä—ã, –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã)
    private static final String CREATE_USERS_TABLE = "CREATE TABLE IF NOT EXISTS users (id SERIAL PRIMARY KEY, name VARCHAR(50) NOT NULL, email VARCHAR(100) UNIQUE NOT NULL, password_hash VARCHAR(64) NOT NULL, role_id INT NOT NULL)";
    private static final String CREATE_TOURS_TABLE = "CREATE TABLE IF NOT EXISTS computers (id SERIAL PRIMARY KEY, title VARCHAR(255) NOT NULL, description TEXT, gamingZone_id INT NOT NULL REFERENCES gaming_zones(id), start_date DATE NOT NULL, end_date DATE NOT NULL, hourly_rate DECIMAL(10,2) NOT NULL, creator_id INT NOT NULL REFERENCES users(id))";
    private static final String CREATE_GAMING_ZONES_TABLE = "CREATE TABLE IF NOT EXISTS gaming_zones (id SERIAL PRIMARY KEY, name VARCHAR(100) NOT NULL, location VARCHAR(255) NOT NULL)";


    public void contextInitialized(ServletContextEvent sce) {
        logger.debug("contextInitialized: Starting database initialization...");
        try {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º HikariCP DataSource —á–µ—Ä–µ–∑ –≤–∞—à –∫–ª–∞—Å—Å
            DBConnection.init();

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î (—Å–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—ã, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç)
            initializeDatabaseSchema();

        } catch (ClassNotFoundException | SQLException e) {
            logger.atError().withThrowable(e).log("Failed to initialize database schema or connection pool");
            e.printStackTrace();
            // –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            throw new RuntimeException("Failed to initialize database connection or schema", e);
        }
    }

    public void contextDestroyed(ServletContextEvent sce) {
        logger.debug("contextDestroyed: Closing database connection pool.");
        // –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
        DBConnection.destroy();
    }

    /**
     * –ú–µ—Ç–æ–¥ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è DDL-—Å–∫—Ä–∏–ø—Ç–æ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
     * –ó–∞–º–µ–Ω–∏—Ç–µ SQL-–∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ –Ω–∞ —Ç–µ, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –≤–∞—à–µ–π –ë–î computermaster.
     */
    private void initializeDatabaseSchema() throws SQLException, ClassNotFoundException {
        // –ü–æ–ª—É—á–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–∑ –ø—É–ª–∞
        try (Connection conn = DBConnection.getConnection();
             Statement stmt = conn.createStatement()) {

            logger.info("Executing DDL statements to create database schema (if not exists)...");

            // –í—ã–ø–æ–ª–Ω—è–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ç–∞–±–ª–∏—Ü
            stmt.execute(CREATE_GAMING_ZONES_TABLE);
            stmt.execute(CREATE_USERS_TABLE);
            stmt.execute(CREATE_TOURS_TABLE);

            logger.info("Database schema initialized successfully.");
        }
    }

    private void dropAllTables(Connection conn) throws SQLException {
        Statement stmt = conn.createStatement();
        stmt.execute("DROP TABLE IF EXISTS bookings CASCADE");
        stmt.execute("DROP TABLE IF EXISTS computer_room_options CASCADE");
        stmt.execute("DROP TABLE IF EXISTS computers CASCADE");
        stmt.execute("DROP TABLE IF EXISTS destinations CASCADE");
        stmt.execute("DROP TABLE IF EXISTS room_options CASCADE");
        stmt.execute("DROP TABLE IF EXISTS users CASCADE");
        stmt.execute("DROP TABLE IF EXISTS roles CASCADE");
    }
}

DeleteComputerServlet.java

package com.computerlist.controller.Admin;

import com.computerlist.model.User;
import com.computerlist.service.ComputerService;
import com.computerlist.service.impl.ComputerServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;

import java.io.IOException;

@WebServlet("/admin/delete-computer")
public class DeleteComputerServlet extends HttpServlet {

    private ComputerService computerService = new ComputerServiceImpl();

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        if (session == null || session.getAttribute("user") == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }

        User currentUser = (User) session.getAttribute("user");
        String idParam = req.getParameter("id");

        if (idParam == null) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "ID —Ç—É—Ä–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω");
            return;
        }

        try {
            int computerId = Integer.parseInt(idParam);
            var computer = computerService.getComputerById(computerId);

            if (computer == null) {
                resp.sendError(HttpServletResponse.SC_NOT_FOUND, "–¢—É—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω");
                return;
            }

            // –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å
            if (computer.getCreator_id() != currentUser.getId()) {
                resp.sendRedirect(req.getContextPath() + "/admin/profile");
                return;
            }

            if (computerService.deleteComputer(computerId)) {
                resp.sendRedirect(req.getContextPath() + "/admin/profile?deleted=success");
            } else {
                resp.sendRedirect(req.getContextPath() + "/admin/profile?deleted=error");
            }

        } catch (NumberFormatException e) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "–ù–µ–≤–µ—Ä–Ω—ã–π ID");
        }
    }
}

edit-computer.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />

<%@ include file="/templates/fragments/header.jsp" %>

<div class="container" style="max-width: 800px; margin: 30px auto;">
    <h2 style="text-align: center;">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ä</h2>

    <c:if test="${not empty errorMessage}">
        <div style="color: red; background: #ffe6e6; padding: 10px; margin-bottom: 20px; border-radius: 4px;">
            ${errorMessage}
        </div>
    </c:if>

    <form method="post" style="display: flex; flex-direction: column; gap: 15px;">
        <input type="hidden" name="id" value="${computer.id}">

        <div>
            <label><strong>–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–∞:</strong></label>
            <input type="text" name="title" required style="width: 100%; padding: 8px;" value="${computer.title}">
        </div>

        <div>
            <label><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong></label>
            <textarea name="description" rows="4" style="width: 100%; padding: 8px;">${computer.description}</textarea>
        </div>

        <div style="position: relative;">
            <label><strong>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong></label>
            <input type="text"
                   id="gamingZoneInput"
                   value="${computer.gamingZone.name}"
                   placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –≥–æ—Ä–æ–¥ –∏–ª–∏ —Å—Ç—Ä–∞–Ω—É..."
                   style="width: 100%; padding: 8px; margin-top: 5px;"
                   autocomplete="off">
            <input type="hidden" name="gamingZoneId" id="gamingZoneId" value="${computer.gamingZoneId}" required>

            <div id="suggestions"
                 style="position: absolute; z-index: 1000; background: white; border: 1px solid #ccc;
                        width: 100%; max-height: 200px; overflow-y: auto; display: none;">
            </div>
        </div>

        <div style="display: flex; gap: 15px;">
            <div style="flex: 1;">
                <label><strong>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:</strong></label>
                <input type="date" name="startDate" required style="width: 100%; padding: 8px;" value="${computer.startDate}">
            </div>
            <div style="flex: 1;">
                <label><strong>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:</strong></label>
                <input type="date" name="endDate" required style="width: 100%; padding: 8px;" value="${computer.endDate}">
            </div>
        </div>

        <div>
            <label><strong>–ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ (‚ÇΩ):</strong></label>
            <input type="number" step="0.01" name="hourlyRate" required min="0" style="width: 100%; padding: 8px;" value="${computer.hourlyRate}">
        </div>

        <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è -->
        <div>
            <label><strong>–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è:</strong></label>
            <div style="display: flex; flex-wrap: wrap; gap: 12px; margin-top: 8px;">
                <c:forEach var="room" items="${allRoomOptions}">
                    <c:set var="isChecked" value="false"/>
                    <c:forEach var="selectedId" items="${selectedRoomOptionIds}">
                        <c:if test="${room.id == selectedId}">
                            <c:set var="isChecked" value="true"/>
                        </c:if>
                    </c:forEach>
                    <label style="display: flex; align-items: center; gap: 6px; background: #f8f9fa; padding: 10px; border-radius: 6px; border: 1px solid #e9ecef;">
                        <input type="checkbox" name="roomOptions" value="${room.id}"
                               <c:if test="${isChecked}">checked</c:if>>
                        <span>
                            <strong>${room.roomType}</strong><br/>
                            <small>${room.capacity} –≥–æ—Å—Ç–µ–π, ${room.bed_count} ${room.bed_type} –∫—Ä–æ–≤–∞—Ç—å(–∏)</small>
                        </span>
                    </label>
                </c:forEach>
            </div>
            <small style="color: #6c757d;">–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</small>
        </div>
        <!-- === –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç—É—Ä–∞ === -->
        <div>
            <label><strong>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏:</strong></label>

            <!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–æ—Ç–æ -->
            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin: 10px 0;">
                <!-- home.jpg (–æ–±–ª–æ–∂–∫–∞) -->
                <div style="position: relative; width: 100px; height: 100px; border: 1px solid #ddd; border-radius: 4px; overflow: hidden;">
                    <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/home.jpg"
                         onerror="this.parentElement.style.display='none'"
                         style="width: 100%; height: 100%; object-fit: cover;"
                         alt="–û–±–ª–æ–∂–∫–∞">
                </div>

                <!-- photo2.jpg -->
                <div style="position: relative; width: 100px; height: 100px; border: 1px solid #ddd; border-radius: 4px; overflow: hidden;">
                    <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/photo2.jpg"
                         onerror="this.parentElement.style.display='none'"
                         style="width: 100%; height: 100%; object-fit: cover;"
                         alt="–§–æ—Ç–æ 2">
                </div>

                <!-- photo3.jpg -->
                <div style="position: relative; width: 100px; height: 100px; border: 1px solid #ddd; border-radius: 4px; overflow: hidden;">
                    <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/photo3.jpg"
                         onerror="this.parentElement.style.display='none'"
                         style="width: 100%; height: 100%; object-fit: cover;"
                         alt="–§–æ—Ç–æ 3">
                </div>

                <!-- photo4.jpg -->
                <div style="position: relative; width: 100px; height: 100px; border: 1px solid #ddd; border-radius: 4px; overflow: hidden;">
                    <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/photo4.jpg"
                         onerror="this.parentElement.style.display='none'"
                         style="width: 100%; height: 100%; object-fit: cover;"
                         alt="–§–æ—Ç–æ 4">
                </div>

                <!-- photo5.jpg -->
                <div style="position: relative; width: 100px; height: 100px; border: 1px solid #ddd; border-radius: 4px; overflow: hidden;">
                    <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/photo5.jpg"
                         onerror="this.parentElement.style.display='none'"
                         style="width: 100%; height: 100%; object-fit: cover;"
                         alt="–§–æ—Ç–æ 5">
                </div>
            </div>

            <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤—ã—Ö —Ñ–æ—Ç–æ -->
            <div style="margin-top: 15px;">
                <input type="file" name="newPhotos" accept="image/*" multiple
                       style="width: 100%; padding: 8px;" />
                <small style="color: #6c757d;">
                    –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–æ 5 –Ω–æ–≤—ã—Ö —Ñ–æ—Ç–æ. –ü–µ—Ä–≤–æ–µ –∑–∞–º–µ–Ω–∏—Ç –æ–±–ª–æ–∂–∫—É (<code>home.jpg</code>), –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–±–∞–≤—è—Ç—Å—è –∫–∞–∫ <code>photo2.jpg</code>, <code>photo3.jpg</code> –∏ —Ç.–¥.<br>
                    –§–æ—Ä–º–∞—Ç—ã: JPG, PNG.
                </small>
            </div>
        </div>

        <div style="text-align: center; margin-top: 20px; display: flex; justify-content: center; gap: 15px;">
            <button type="submit" style="padding: 10px 25px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
            </button>

            <!-- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è -->
            <button type="button"
                    onclick="confirmDelete(${computer.id})"
                    style="padding: 10px 25px; background: #dc3545; color: white; border: none; border-radius: 5px; cursor: pointer;">
                –£–¥–∞–ª–∏—Ç—å —Ç—É—Ä
            </button>

            <a href="${pageContext.request.contextPath}/admin/profile"
               style="padding: 10px 15px; text-decoration: none; color: #6c757d; border: 1px solid #ccc; border-radius: 5px;">
                –û—Ç–º–µ–Ω–∞
            </a>
        </div>
    </form>
</div>

<script>
    const contextPath = '${pageContext.request.contextPath}';
</script>
<script src="${pageContext.request.contextPath}/js/gamingZone.js"></script>

<script>
    function confirmDelete(computerId) {
        if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç—É—Ä? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
            window.location.href = contextPath + '/admin/delete-computer?id=' + computerId;
        }
    }
</script>

<%@ include file="/templates/fragments/footer.jsp" %>

EditComputerServlet.java

package com.computerlist.controller.Admin;

import com.computerlist.model.RoomOption;
import com.computerlist.model.Computer;
import com.computerlist.model.User;
import com.computerlist.service.GamingZoneService;
import com.computerlist.service.RoomOptionService;
import com.computerlist.service.ComputerService;
import com.computerlist.service.impl.GamingZoneServiceImpl;
import com.computerlist.service.impl.RoomOptionServiceImpl;
import com.computerlist.service.impl.ComputerServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;

import java.io.IOException;
import java.time.LocalDate;
import java.util.ArrayList;
import java.util.List;

@WebServlet("/admin/edit-computer")
public class EditComputerServlet extends HttpServlet {

    private ComputerService computerService = new ComputerServiceImpl();
    private GamingZoneService gamingZoneService = new GamingZoneServiceImpl();
    private RoomOptionService roomOptionService = new RoomOptionServiceImpl();

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        if (session == null || session.getAttribute("user") == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }

        User currentUser = (User) session.getAttribute("user");
        String idParam = req.getParameter("id");

        if (idParam == null || idParam.trim().isEmpty()) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "ID —Ç—É—Ä–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω");
            return;
        }

        try {
            int computerId = Integer.parseInt(idParam);
            Computer computer = computerService.getComputerById(computerId);

            if (computer == null) {
                resp.sendError(HttpServletResponse.SC_NOT_FOUND, "–¢—É—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω");
                return;
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞: —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
            if (computer.getCreator_id() != currentUser.getId()) {
                resp.sendRedirect(req.getContextPath() + "/admin/profile");
                return;
            }

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ñ–æ—Ä–º—ã
            req.setAttribute("computer", computer);
            req.setAttribute("gamingZones", gamingZoneService.getAllGamingZones());
            req.setAttribute("allRoomOptions", roomOptionService.getAllRoomOptions());
            req.setAttribute("selectedRoomOptionIds", getSelectedRoomOptionIds(computerId));

            req.getRequestDispatcher("/templates/admin/edit-computer.jsp").forward(req, resp);

        } catch (NumberFormatException e) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ID");
        }
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        if (session == null || session.getAttribute("user") == null) {
            resp.sendError(HttpServletResponse.SC_UNAUTHORIZED);
            return;
        }

        User currentUser = (User) session.getAttribute("user");
        String idParam = req.getParameter("id");

        if (idParam == null) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "ID —Ç—É—Ä–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω");
            return;
        }

        try {
            int computerId = Integer.parseInt(idParam);
            Computer existingComputer = computerService.getComputerById(computerId);

            if (existingComputer == null) {
                resp.sendError(HttpServletResponse.SC_NOT_FOUND, "–¢—É—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω");
                return;
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
            if (existingComputer.getCreator_id() != currentUser.getId()) {
                resp.sendRedirect(req.getContextPath() + "/admin/profile");
                return;
            }

            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
            String title = req.getParameter("title");
            String description = req.getParameter("description");
            String gamingZoneIdStr = req.getParameter("gamingZoneId");
            String startDateStr = req.getParameter("startDate");
            String endDateStr = req.getParameter("endDate");
            String hourlyRateStr = req.getParameter("hourlyRate");

            if (title == null || title.trim().isEmpty() ||
                    gamingZoneIdStr == null || startDateStr == null || endDateStr == null || hourlyRateStr == null) {
                req.setAttribute("errorMessage", "–í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.");
                forwardWithError(req, resp, computerId);
                return;
            }

            int gamingZoneId = Integer.parseInt(gamingZoneIdStr);
            LocalDate startDate = LocalDate.parse(startDateStr);
            LocalDate endDate = LocalDate.parse(endDateStr);
            double hourlyRate = Double.parseDouble(hourlyRateStr);

            if (startDate.isAfter(endDate)) {
                req.setAttribute("errorMessage", "–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞.");
                forwardWithError(req, resp, computerId);
                return;
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç—É—Ä
            existingComputer.setTitle(title.trim());
            existingComputer.setDescription(description != null ? description.trim() : "");
            existingComputer.setGamingZoneId(gamingZoneId);
            existingComputer.setStartDate(startDate);
            existingComputer.setEndDate(endDate);
            existingComputer.setHourlyRate(hourlyRate);

            if (computerService.updateComputer(existingComputer)) {
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–≤—è–∑—å —Å RoomOption
                String[] selectedRoomIds = req.getParameterValues("roomOptions");
                List<Integer> roomOptionIds = new ArrayList<>();
                if (selectedRoomIds != null) {
                    for (String id : selectedRoomIds) {
                        try {
                            roomOptionIds.add(Integer.parseInt(id));
                        } catch (NumberFormatException ignored) {}
                    }
                }
                computerService.assignRoomOptionsToComputer(computerId, roomOptionIds);

                resp.sendRedirect(req.getContextPath() + "/admin/profile?updated=success");
            } else {
                req.setAttribute("errorMessage", "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å —Ç—É—Ä.");
                forwardWithError(req, resp, computerId);
            }

        } catch (Exception e) {
            req.setAttribute("errorMessage", "–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏: " + e.getMessage());
            forwardWithError(req, resp, Integer.parseInt(idParam));
        }
    }

    // –ú–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–∂–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö RoomOption
    private List<Integer> getSelectedRoomOptionIds(int computerId) {
        List<RoomOption> selected = roomOptionService.getRoomOptionsByComputer(computerId);
        List<Integer> ids = new ArrayList<>();
        for (RoomOption r : selected) {
            ids.add(r.getId());
        }
        return ids;
    }

    private void forwardWithError(HttpServletRequest req, HttpServletResponse resp, int computerId) throws ServletException, IOException {
        Computer computer = computerService.getComputerById(computerId);
        req.setAttribute("computer", computer);
        req.setAttribute("gamingZones", gamingZoneService.getAllGamingZones());
        req.setAttribute("allRoomOptions", roomOptionService.getAllRoomOptions());
        req.setAttribute("selectedRoomOptionIds", getSelectedRoomOptionIds(computerId));
        req.getRequestDispatcher("/templates/admin/edit-computer.jsp").forward(req, resp);
    }
}

footer.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
</main>
<footer style="background:#f1f1f1; padding:15px; text-align:center; margin-top:30px;">
    <p>&copy; 2025 ComputerList. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
</footer>
</body>
</html>

GamingZone.java

package com.computerlist.model;

public class GamingZone {

    private int id;
    private String name;
    private String location;

    public GamingZone(int id, String name, String location) {
        this.id = id;
        this.name = name;
        this.location = location;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getLocation() {
        return location;
    }

    public void setLocation(String location) {
        this.location = location;
    }

    @Override
    public String toString() {
        return "GamingZone{" +
                "id=" + id +
                ", name='" + name + '\'' +
                ", location='" + location + '\'' +
                '}';
    }
}

gamingZone.js


// –ü–æ–ª—É—á–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –ø—É—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, "/computerlist")

let debounceTimer;
const suggestionsContainer = document.getElementById('gamingZoneSuggestions');
const gamingZoneInput = document.getElementById('gamingZoneInput');
const gamingZoneIdInput = document.getElementById('gamingZoneId');

gamingZoneInput.addEventListener('input', function () {
    clearTimeout(debounceTimer);
    const query = this.value.trim();

    if (query.length < 2) {
        suggestionsContainer.style.display = 'none';
        return;
    }

    debounceTimer = setTimeout(() => {
        const url = contextPath + '/gamingZones/search?q=' + encodeURIComponent(query);
        fetch(url)
            .then(response => {
                if (!response.ok) {
                    throw new Error('–°–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ' + response.status);
                }
                return response.json();
            })
            .then(gamingZones => {
                if (gamingZones.length === 0) {
                    suggestionsContainer.innerHTML = '<div style="padding: 8px; color: #888;">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>';
                } else {
                    suggestionsContainer.innerHTML = gamingZones.map(d =>
                        `<div onclick="selectGamingZone(${d.id}, \`${d.name.replace(/`/g, '\\`')}\`)"`
                             + " style=\"padding: 8px 12px; cursor: pointer; border-bottom: 1px solid #eee;\">"
                             + d.name +
                        '</div>'
                    ).join('');
                }
                suggestionsContainer.style.display = 'block';
            })
            .catch(err => {
                console.error('AJAX –æ—à–∏–±–∫–∞:', err);
                suggestionsContainer.innerHTML = '<div style="padding: 8px; color: red;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>';
                suggestionsContainer.style.display = 'block';
            });
    }, 300);
});

function selectGamingZone(id, name) {
    gamingZoneInput.value = name;
    gamingZoneIdInput.value = id;
    suggestionsContainer.style.display = 'none';
}

document.addEventListener('click', function(e) {
    if (!gamingZoneInput.contains(e.target) && !suggestionsContainer.contains(e.target)) {
        suggestionsContainer.style.display = 'none';
    }
});

GamingZoneDAO.java

package com.computerlist.dao;


import com.computerlist.model.GamingZone;

import java.util.List;

public interface GamingZoneDAO {
    GamingZone findById(int id);
    List<GamingZone> findAll();
    boolean create(GamingZone gamingZone);
    boolean update(GamingZone gamingZone);
    boolean delete(int id);
    List<GamingZone> findByNameContaining(String namePart, int limit);
}

GamingZoneDAOImpl.java

package com.computerlist.dao.impl;


import com.computerlist.dao.GamingZoneDAO;
import com.computerlist.model.GamingZone;
import com.computerlist.util.DBConnection;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class GamingZoneDAOImpl implements GamingZoneDAO {

    private static final Logger logger = LogManager.getLogger(GamingZoneDAOImpl.class);

    @Override
    public GamingZone findById(int id) {
        String sql = "SELECT * FROM gamingZones WHERE id = ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) return extractGamingZone(rs);
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findById error", e);
        }
        return null;
    }

    @Override
    public List<GamingZone> findAll() {
        List<GamingZone> list = new ArrayList<>();
        String sql = "SELECT * FROM gamingZones";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql);
             ResultSet rs = ps.executeQuery()) {
            while (rs.next()) list.add(extractGamingZone(rs));
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findAll error", e);
        }
        return list;
    }

    @Override
    public boolean create(GamingZone gamingZone) {
        String sql = "INSERT INTO gamingZones (name, country) VALUES (?, ?)";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setString(1, gamingZone.getName());
            ps.setString(2, gamingZone.getCountry());
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("create error", e);
        }
        return false;
    }

    @Override
    public boolean update(GamingZone gamingZone) {
        String sql = "UPDATE gamingZones SET name=?, country=? WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setString(1, gamingZone.getName());
            ps.setString(2, gamingZone.getCountry());
            ps.setInt(3, gamingZone.getId());
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("update error", e);
        }
        return false;
    }

    @Override
    public boolean delete(int id) {
        String sql = "DELETE FROM gamingZones WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("delete error", e);
        }
        return false;
    }
    @Override
    public List<GamingZone> findByNameContaining(String namePart, int limit) {
        String sql = "SELECT id, name, country FROM gamingZones WHERE LOWER(name) LIKE LOWER(?) ORDER BY name LIMIT ?";
        List<GamingZone> list = new ArrayList<>();
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setString(1, "%" + namePart + "%");
            ps.setInt(2, limit);
            try (ResultSet rs = ps.executeQuery()) {
                while (rs.next()) list.add(extractGamingZone(rs));
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findByGamingZone error", e);
        }
        return list;
    }

    private GamingZone extractGamingZone(ResultSet rs) throws SQLException {
        return new GamingZone(
                rs.getInt("id"),
                rs.getString("name"),
                rs.getString("country")
        );
    }
}


GamingZoneSearchServlet.java

package com.computerlist.controller.GamingZone;

import com.computerlist.model.GamingZone;
import com.computerlist.service.GamingZoneService;
import com.computerlist.service.impl.GamingZoneServiceImpl;
import com.computerlist.util.JsonResponseWriter;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

@WebServlet("/gamingZones/search")
public class GamingZoneSearchServlet extends HttpServlet {

    private GamingZoneService gamingZoneService = new GamingZoneServiceImpl();

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        String query = req.getParameter("q");

        List<GamingZone> results = new ArrayList<>();
        if (query != null && !query.trim().isEmpty()) {
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
            results = gamingZoneService.searchByName(query.trim(), 5);
        }

        // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–≤–æ—é —É—Ç–∏–ª–∏—Ç—É
        JsonResponseWriter.writeJson(resp, results);
    }

}

GamingZoneService.java

package com.computerlist.service;

import com.computerlist.model.GamingZone;
import java.util.List;

public interface GamingZoneService {
    GamingZone getGamingZoneById(int id);
    List<GamingZone> getAllGamingZones();
    boolean addGamingZone(GamingZone gamingZone);
    boolean updateGamingZone(GamingZone gamingZone);
    boolean removeGamingZone(int id);
    List<GamingZone> searchByName(String namePart, int limit);
}

GamingZoneServiceImpl.java

package com.computerlist.service.impl;

import com.computerlist.dao.GamingZoneDAO;
import com.computerlist.dao.impl.GamingZoneDAOImpl;
import com.computerlist.model.GamingZone;
import com.computerlist.service.GamingZoneService;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import java.util.List;

public class GamingZoneServiceImpl implements GamingZoneService {

    private static final Logger logger = LogManager.getLogger(GamingZoneServiceImpl.class);
    private final GamingZoneDAO gamingZoneDAO = new GamingZoneDAOImpl();


    @Override
    public GamingZone getGamingZoneById(int id) {
        if (id <= 0) {
            logger.warn("Invalid gamingZone id: {}", id);
            return null;
        }
        return gamingZoneDAO.findById(id);
    }

    @Override
    public List<GamingZone> getAllGamingZones() {
        return gamingZoneDAO.findAll();
    }

    @Override
    public boolean addGamingZone(GamingZone gamingZone) {
        if (gamingZone == null || gamingZone.getName() == null || gamingZone.getName().isEmpty()) {
            logger.warn("Cannot add gamingZone: invalid data");
            return false;
        }
        return gamingZoneDAO.create(gamingZone);
    }

    @Override
    public boolean updateGamingZone(GamingZone gamingZone) {
        if (gamingZone == null || gamingZone.getId() <= 0) {
            logger.warn("Cannot update gamingZone: invalid id");
            return false;
        }
        return gamingZoneDAO.update(gamingZone);
    }

    @Override
    public boolean removeGamingZone(int id) {
        if (id <= 0) {
            logger.warn("Cannot remove gamingZone: invalid id");
            return false;
        }
        return gamingZoneDAO.delete(id);
    }
    @Override
    public List<GamingZone> searchByName(String namePart, int limit) {
        return gamingZoneDAO.findByNameContaining(namePart, limit);
    }
}

header.jsp

<%@ page contentType="text/html;charset=UTF-8" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>ComputerList</title>
    <link rel="stylesheet" href="${pageContext.request.contextPath}/css/style.css">
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
</head>
<body>
<header style="background:#007bff; padding:15px; color:white; text-align:center;">
    <h2>PCGamer ‚Äî –±—Ä–æ–Ω–∏—Ä—É–π –∏–≥—Ä–æ–≤—ã–µ –ü–ö –∑–∞ –ø–∞—Ä—É –∫–ª–∏–∫–æ–≤!</h2>
    <nav style="margin-top:10px;">
        <a href="${pageContext.request.contextPath}/index" style="color:white; margin:0 10px;">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="${pageContext.request.contextPath}/computers/search" style="color:white; margin:0 10px;">–¢—É—Ä—ã</a>

        <!-- –ü—Ä–æ–≤–µ—Ä–∫–∞, –∑–∞–ª–æ–≥–∏–Ω–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å -->
        <c:choose>
            <c:when test="${not empty sessionScope.user}">
                <!-- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–æ–ª—å -->
                <c:choose>
                    <c:when test="${sessionScope.user.roleId == 2}">
                        <a href="${pageContext.request.contextPath}/admin/profile" style="color:white; margin:0 10px;">
                            –ü—Ä–æ—Ñ–∏–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞
                        </a>
                    </c:when>
                    <c:otherwise>
                        <a href="${pageContext.request.contextPath}/profile" style="color:white; margin:0 10px;">
                            –ü—Ä–æ—Ñ–∏–ª—å
                        </a>
                    </c:otherwise>
                </c:choose>

                <a href="${pageContext.request.contextPath}/logout" style="color:white; margin:0 10px;">
                    –í—ã–π—Ç–∏
                </a>
            </c:when>
            <c:otherwise>
                <a href="${pageContext.request.contextPath}/login" style="color:white; margin:0 10px;">
                    –í–æ–π—Ç–∏
                </a>
            </c:otherwise>
        </c:choose>
    </nav>
</header>
<main>

home.jpg


home_1.jpg

ÔøΩÔøΩÔøΩÔøΩ JFIF      ÔøΩÔøΩ ÔøΩ 	"( %!2!%)+../383,7(-.+



/% %--------------------------------------------------ÔøΩÔøΩ  ÔøΩ>" ÔøΩÔøΩ              ÔøΩÔøΩ =  ! 1A"Qa2qÔøΩBÔøΩÔøΩ#RÔøΩÔøΩÔøΩÔøΩÔøΩbrÔøΩCÔøΩÔøΩÔøΩÔøΩ3ÔøΩÔøΩ               ÔøΩÔøΩ %          !1AQqaÔøΩ"ÔøΩÔøΩÔøΩÔøΩ   ? ÔøΩÔøΩÔøΩÔøΩ≈•ÔøΩÔøΩMÔøΩ-ÔøΩ<cÔøΩr`ÔøΩ*<ÔøΩbÔøΩÔøΩ maÔøΩ3HÔøΩ«åxÔøΩÔøΩÔøΩÔøΩSÔøΩÔøΩÔøΩÔøΩÔøΩ?ÔøΩ ÔøΩÔøΩÔøΩ ÔøΩ8ÔøΩ_ÔøΩ.ÔøΩDpN ÔøΩ»øÔøΩÔøΩÔøΩƒü|P~ÔøΩ6sÔøΩÔøΩxÔøΩqzÔøΩÔøΩÔøΩrf
ÔøΩGÃçÔøΩÔøΩSÔøΩhÔøΩ3cÔøΩÔøΩ‹≠ÔøΩÔøΩ(89	ÔøΩÔøΩÔøΩÔøΩUK~ÔøΩwÔøΩÔøΩFÔøΩ'»ú1\ÔøΩ≈É%ÔøΩÔøΩL;GÔøΩÔøΩ\cÔøΩÔøΩÔøΩÔøΩ@ÔøΩi7%4ÔøΩ}ÔøΩbÔøΩÔøΩÔøΩ2YÔøΩÔøΩÔøΩSÔøΩÔøΩÔøΩÔøΩFÔøΩ  cÔøΩ7ÔøΩÔøΩMÔøΩÔøΩ√®“üfÔøΩ<mÔøΩ4YÔøΩÔøΩCÔøΩÔøΩÔøΩ*ÔøΩl8uÔøΩÔøΩÔøΩ)ÔøΩÔøΩÔøΩe|ÔøΩÔøΩ'ÔøΩÔøΩeÔøΩÔøΩ0ÔøΩÔøΩ6(lÔøΩÔøΩ‚ÇäÔøΩJmiÔøΩÔøΩr0WÔøΩÔøΩBÔøΩÔøΩqgÔøΩ~
fÔøΩTlÔøΩÔøΩ_ÔøΩÔøΩÔøΩÔøΩ~ÔøΩÔøΩÔøΩbÔøΩK
ÔøΩ&PÔøΩ8ÔøΩÔøΩkÔøΩaÔøΩLAÔøΩbGÔøΩÔøΩÔøΩb#ÔøΩ_ÔøΩÔøΩÔøΩ =ÔøΩÔøΩJ0ÔøΩÔøΩÔøΩÔøΩgÔøΩÔøΩ
ZÔøΩ i·äãÔøΩcÔøΩÔøΩ@<ÔøΩ4ÔøΩÔøΩÔøΩÔøΩ÷¶ÔøΩÔøΩÔøΩÔøΩh(ÔøΩ5VhÔøΩ
ÔøΩu&ÔøΩÔøΩÔøΩrÔøΩÔøΩÔøΩÔøΩÔøΩD„ûÅÔøΩX(ÔøΩ{ÔøΩÔøΩÔøΩwÔøΩx@ÔøΩÔøΩÔøΩ‘îq|8LVÔøΩLDYÔøΩ<ÔøΩÔøΩÔøΩ(ÔøΩ∆éÔøΩOÔøΩÔøΩ-MBÔøΩ«åKÔøΩ1
yÔøΩqÔøΩbÔøΩÔøΩÔøΩÔøΩÿ≠ÔøΩQSS1OÔøΩÔøΩÔøΩÔøΩ\WÔøΩÔøΩÔøΩpÔøΩ&ÔøΩ%?lJÔøΩLÔøΩÔøΩ1}<ÔøΩÔøΩ0ÔøΩ
ÔøΩÔøΩ)ÔøΩÔøΩLÔøΩÔøΩÔøΩÀô>FaCÔøΩÔøΩZÔøΩ0ÔøΩÔøΩuÔøΩM`49ÔøΩlÔøΩ3hÔøΩÔøΩÔøΩIÔøΩ+ÔøΩhÔøΩVÔøΩ"|-ÔøΩOÔøΩÔøΩFÔøΩSÔøΩAÔøΩÔøΩÔøΩ5T,ÔøΩTÔøΩ+ »∞|2ÔøΩÔøΩiÔøΩÔøΩÔøΩVÔøΩÔøΩÔøΩÔøΩ2BÔøΩÔøΩ ÔøΩÔøΩÔøΩ0ÔøΩÔøΩ`ÔøΩ}RNÔøΩÔøΩkiÔøΩwÔøΩÔøΩÔøΩ7ÔøΩ8ÔøΩÔøΩGOÔøΩ*ÔøΩÔøΩcÔøΩHx«ΩÔøΩÔøΩu$`ÔøΩ~mÔøΩÔøΩÔøΩÔøΩsÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩsÔøΩÔøΩÔøΩÔøΩœ¢ÔøΩ E|b>ÔøΩÔøΩÔøΩÔøΩjÔøΩ%ÔøΩ@lÔøΩÔøΩQ<ZwÔøΩÔøΩﬁ≥ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩ í5iÔøΩÔøΩÔøΩÔøΩqÔøΩÔøΩœ§1D`ÔøΩWi;ÔøΩÔøΩK	ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ1ÔøΩÔøΩ:RMTÔøΩpÔøΩÔøΩÔøΩÔøΩ{_ÔøΩ0ÔøΩ{QÔøΩÔøΩÔøΩZjÔøΩ&ÔøΩ8ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ_ÔøΩÔøΩÔøΩ0 )ÔøΩÔøΩ-ÔøΩusPÔøΩ@ÔøΩÿÅÔøΩaÔøΩ8ÔøΩÔøΩ@\rÿèÔøΩÔøΩÔøΩÔøΩ
ÔøΩÔøΩ„øÜÔøΩÔøΩÔøΩÔøΩ|xÔøΩÔøΩÔøΩ1ÔøΩÔøΩ	ÔøΩÔøΩ5ÔøΩyÔøΩlÔøΩÔøΩÔøΩÔøΩ_ÔøΩÔøΩÔøΩÔøΩÔøΩb ÔøΩF÷™0QÔøΩÔøΩy|ÔøΩÔøΩ8ÔøΩINÔøΩÔøΩÔøΩ5
JbH6ÔøΩmÔøΩÔøΩ}-ÔøΩÔøΩÔøΩuTDv–¶ÔøΩ  ÔøΩ`qbbwÔøΩlW(.4*ÔøΩPxÔøΩqAÍã¥HÔøΩ<ÔøΩ?ÔøΩÔøΩ
ÔøΩ(:ghÔøΩMÔøΩ1ÔøΩÔøΩbÔøΩÔøΩÔøΩ'PÔøΩ›Ä18ÔøΩOÔøΩÔøΩÔøΩÔøΩi?ÔøΩÔøΩÔøΩCÔøΩdÔøΩoÔøΩgÔøΩÔøΩ8NÔøΩV ÔøΩÔøΩÔøΩIÔøΩÔøΩÔøΩqÔøΩ~ÔøΩÔøΩT’§ÔøΩÔøΩÔøΩÔøΩÔøΩ«òÔøΩÔøΩ
ÔøΩœ∂
>(sWÔøΩjÔøΩLÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ≈øÔøΩÔøΩÔøΩÔøΩDÔøΩEÔøΩÔøΩa9 *XÔøΩ:ÔøΩÔøΩ‰Ç∂ÔøΩÔøΩ;ÔøΩ’¶	ÔøΩ0n'ÔøΩ"ÔøΩÔøΩÔøΩ |(À™fVÔøΩD~eÔøΩÔøΩﬂèÔøΩq—ñ*ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ}gÔøΩl	ÔøΩjhdÔøΩ
ÔøΩÔøΩ 	ÔøΩÔøΩÔøΩ0fEÔøΩÔøΩÔøΩÀ¶ÔøΩ@ÔøΩÔøΩÔøΩ	ÔøΩpÔøΩrÔøΩPzVR@ÔøΩÔøΩÔøΩ<ÔøΩcaÔøΩgÔøΩÔøΩ(ÔøΩZÔøΩEÔøΩÔøΩ}ÔøΩ
ÔøΩÔøΩÔøΩÔøΩÔøΩœòÔøΩL@€û|ÔøΩÔøΩ&jÔøΩÔøΩ;G"ﬂßÔøΩÔøΩ
ÔøΩ"=#>rÔøΩuÔøΩ`j ÔøΩ=ÔøΩZv√óÔøΩÔøΩÔøΩÔøΩ%ÔøΩÔøΩÔøΩc$l/ÔøΩÔøΩ{a:ÔøΩÔøΩÔøΩÔøΩb%LÔøΩ9ÔøΩÔøΩ2nÔøΩÔøΩ]`OmÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ~ÔøΩÔøΩÔøΩ◊¨~ÔøΩÔøΩÔøΩKoÔøΩÔøΩŸ±ÔøΩÔøΩÔøΩÔøΩVÔøΩn<ÔøΩÔøΩ”¨ÔøΩj{ÔøΩÔøΩÔøΩÔøΩÔøΩS+\ÔøΩÔøΩÔøΩI3ayÔøΩÔøΩÔøΩÔøΩ*ÔøΩrÔøΩ*HÔøΩAÔøΩÔøΩyÔøΩÔøΩÔøΩ9!BÔøΩÔøΩÔøΩ [«û1ÔøΩw&AÔøΩA€ëÔøΩ!TÔøΩ71ÔøΩÔøΩÔøΩÔøΩÔøΩ)ÔøΩDÔøΩÔøΩw_ÔøΩ)iÔøΩÔøΩr9ÔøΩJÔøΩ+,fÔøΩÔøΩÔøΩÔøΩ ÔøΩqgAÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÓ∏ß-G@*IÔøΩ~YÔøΩDmnÔøΩÔøΩ.ÔøΩ4ÔøΩ$ÔøΩmÔøΩf/ÔøΩ(ÔøΩÔøΩLÔøΩ;0ÔøΩ >ÔøΩÔøΩq5ÔøΩÔøΩÔøΩDÔøΩiÔøΩJÔøΩÔøΩÔøΩÔøΩ H~ÔøΩﬂü8ÔøΩeÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩl(ÔøΩjÔøΩoÔøΩÔøΩÔøΩœèÔøΩIRÔøΩOÔøΩÔøΩÔøΩ`ÔøΩ1]L›åBA?^8ÔøΩÔøΩS’∫À•pQÔøΩÔøΩÔøΩ`ÔøΩ(8{KÔøΩÔøΩ*XƒçÔøΩÔøΩÔøΩdÔøΩÔøΩÔøΩ
R	ÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩ1ÔøΩQÔøΩ8" ÔøΩGÔøΩi√É—≥NÔøΩLÔøΩzÔøΩÔøΩÔøΩÔøΩyLÔøΩÔøΩWMVÔøΩÔøΩ ÔøΩAÔøΩÔøΩÔøΩ\ÔøΩT6V?`NÔøΩl(ÔøΩÔøΩ«ÜdyÔøΩÔøΩD3ÔøΩ\HfÔøΩ.ÔøΩÔøΩÔøΩns_ÔøΩ„Ü∏ÔøΩ ÔøΩÔøΩ0#…ΩÔøΩÔøΩoÔøΩÔøΩMÔøΩ~ÔøΩÔøΩaÔøΩpÔøΩ y«õ0<ÔøΩ$ÔøΩœõÔøΩÔøΩÔøΩÿàÔøΩxÔøΩ=ÔøΩÔøΩoÔøΩ`~$bÔøΩ ÔøΩÔøΩ%LÔøΩÔøΩÔøΩol]ÔøΩ"ÔøΩÔøΩÔøΩ$ÔøΩÔøΩÔøΩÔøΩÔøΩ‹å'ÔøΩaÔøΩsHÔøΩÔøΩ ÔøΩ)9ÔøΩÔøΩaWQÔøΩ*ÔøΩV L@ÔøΩmÔøΩÔøΩÔøΩÔøΩ ÔøΩOÔøΩÔøΩÔøΩÔøΩÔøΩ&ÔøΩh3yÔøΩ
ÔøΩÔøΩcÔøΩI"ÔøΩÔøΩs;ÔøΩÔøΩ0l»ùÔøΩ OÔøΩÔøΩÔøΩÔøΩ<ƒ®1ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ5ÔøΩ@ÃõÔøΩpÔøΩÔµæÔøΩÔøΩSPNÔøΩzÔøΩqcÔøΩÔøΩÔøΩÔøΩUÔøΩÔøΩc}ÔøΩÔøΩ~ÔøΩÔøΩvÔøΩhRÔøΩiŸ†ÔøΩyÔøΩÔøΩ ÔøΩÔøΩwÔøΩÔøΩpNÔøΩ!4ÔøΩÔøΩH>bx?cÔøΩÔøΩd4j9ÔøΩÔøΩÔøΩqaZÔøΩ-sÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩx""xÔøΩMÔøΩÔøΩÔøΩRÔøΩ:ÔøΩWrÔøΩaÔøΩMÔøΩÔøΩÔøΩÿüÔøΩZÔøΩrÔøΩÔøΩÔøΩÔøΩBÔøΩYÔøΩÔøΩyÔøΩBÔøΩ«àÔøΩrzUÔøΩÔøΩ2& ÔøΩÔøΩZÔøΩ|G%EÔøΩjÔøΩ4ÔøΩÔøΩÔøΩqÔøΩÔøΩmÔøΩÔøΩASzÔøΩÔøΩIÔøΩIÔøΩÔøΩA*Œ≠&|ÔøΩmÔøΩÔøΩLÔøΩÔøΩÔøΩÔøΩ)=ÔøΩr#ÔøΩÔøΩ_ÔøΩ<ÔøΩÔøΩÔøΩqxÔøΩv;ÔøΩ5\5ÔøΩÔøΩÔøΩ\HÔøΩÔøΩTDÔøΩÔøΩÔøΩGÔøΩÕ∑ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ nD|RÔøΩ#PbÔøΩ—§ÔøΩÔøΩÔøΩgÔøΩ1*TÔøΩ!ÔøΩÔøΩPQ$ÔøΩx-ÔøΩÔøΩ «ÉÔøΩÔøΩ5*ÔøΩÔøΩ7ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ8}{ÔøΩÔøΩ~ÔøΩÔøΩ «æ(^ÔøΩIl^ÔøΩD6ÔøΩc;ÔøΩÔøΩÔøΩoÔøΩ8ÔøΩÔøΩDHuÔøΩÔøΩÔøΩKmÔøΩÔøΩkÔøΩNÔøΩjÔøΩ6ÔøΩ3XÔøΩoÔøΩÔøΩwÔøΩÔøΩWÔøΩÔøΩÔøΩÔøΩV“ûÔøΩÔøΩL8eNÔøΩj ÔøΩÔøΩ?6ÔøΩFÔøΩÔøΩjTdÔøΩYÔøΩuÔøΩÔøΩÔøΩÔøΩ.	ÔøΩÔøΩgÔøΩÔøΩ á6ÔøΩÔøΩÔøΩÔøΩÔøΩ’ΩÔøΩÔøΩMÔøΩÔøΩfÔøΩpÔøΩÔøΩbÔøΩU}
*ÔøΩ\ÔøΩÔøΩ's;ÔøΩDÔøΩ#ÔøΩÔøΩÔøΩÔøΩtÔøΩHÔøΩÔøΩÔøΩXÔøΩ+ÔøΩ ∆™”¶\ÔøΩ ¶LÔøΩÔøΩÔøΩ,ÔøΩoÔøΩÔøΩegRﬁìÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ;[aÔøΩÔøΩ‚ôèSÔøΩÔøΩM
ÔøΩÔøΩ(ÔøΩÔøΩHÔøΩÔøΩÔøΩ/ÔøΩVf—øÔøΩÔøΩ«ùÔøΩÔøΩj"4ÔøΩÔøΩÔøΩÔøΩLÔøΩIÔøΩEo2QÔøΩÔøΩ◊ëÔøΩÔøΩÔøΩN$ﬂç__8ÔøΩÔøΩÔøΩmÔøΩuMÔøΩÔøΩ5:ÔøΩÔøΩÔøΩÔøΩÔøΩxÔøΩdÔøΩÔøΩÃøP]:M#;ÔøΩa
6ÔøΩÔøΩxÔøΩxg\ÔøΩÔøΩÔøΩÔøΩXÔøΩÔøΩÔøΩÔøΩLÔøΩ@oMÔøΩÔøΩ8ÔøΩp`H_\]ÔøΩÔøΩFÔøΩTÔøΩ$ÔøΩÔøΩOÔøΩn=ÔøΩ5%ÔøΩÔøΩjÿ∞7ÔøΩÔøΩÔøΩÔøΩÔøΩJÔøΩCÔøΩÔøΩ1ÔøΩu%ÔøΩÔøΩ"myÔøΩvÔøΩ8ÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩmÔøΩÔøΩÔøΩÔøΩÔøΩRukÔøΩÔøΩÔøΩÔøΩAÔøΩ7ÔøΩ8ÔøΩÔøΩ#ÔøΩÔøΩIÔøΩÔøΩ$ÔøΩ∆©<qÔøΩBÔøΩÔøΩ3ÔøΩÔøΩÔøΩeÔøΩÔøΩÔøΩ|_RÔøΩ"ÔøΩJÿ©ÔøΩÔøΩÔøΩGÔøΩZeAI'T|ÔøΩ<Lo?ÔøΩ%ÔøΩI?EÔøΩdMÔøΩ$ÔøΩÔøΩGÔøΩRÔøΩÔøΩfÔøΩÔøΩ :ÔøΩ2
ÔøΩÔøΩ8,ÔøΩÔøΩ{i3ÔøΩMÔøΩ[ÔøΩÔøΩÔøΩ2 [rÔøΩ$^oÔøΩ.FÔøΩ"ÔøΩ&ÔøΩÔøΩ ÔøΩÔøΩ~f@ÔøΩhÔøΩ$ÔøΩÍîî
ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩPÔøΩFAÔøΩSHÔøΩÔøΩx}pÔøΩVÔøΩÔøΩ.7 ÔøΩÔøΩ ÔøΩÔøΩÔøΩlXÔøΩÔøΩIÔøΩ:A0ÔøΩxÔøΩ;ÔøΩ ÔøΩsÔøΩaÔøΩC
ÔøΩÔøΩÔøΩ}d2f⁄£ÔøΩ@ÔøΩWÔøΩÔøΩÔøΩZÔøΩÔøΩÔøΩ#yÔøΩÔøΩoÔøΩ
*’íJÔøΩ)ÔøΩ  Dno?XÔøΩÔøΩ*ÔøΩMÔøΩ ƒê)S{ÔøΩÔøΩ_c◊†ÔøΩ"ÔøΩ+"ÔøΩ OÔøΩ9WÔøΩÔøΩlÔøΩÔøΩÔøΩÔøΩmÔøΩ?ÔøΩsÔøΩm JÔøΩ}?ÔøΩÔøΩSÔøΩÔøΩSÔøΩÔøΩ|ÔøΩfÔøΩÔøΩÔøΩXÔøΩÔøΩÔøΩÔøΩrÔøΩÔøΩHÔøΩÔøΩÔøΩ,9ÔøΩQHÔøΩÔøΩT
ÔøΩÔøΩHÔøΩpHAÔøΩÔøΩ	ÔøΩgZTÔøΩÔøΩfÔøΩÔøΩÔøΩwÔøΩÔøΩbÔøΩÔøΩÔøΩ +iÔøΩHÔøΩÔøΩÔøΩmÔøΩÔøΩ{◊ÅÔøΩS4$ÔøΩ5	ÔøΩGÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩ \.ÔøΩ0^÷ñ4ÔøΩÔøΩfÔøΩ1ÔøΩ7ÔøΩÔøΩMÔøΩÔøΩIÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩS*4ÔøΩ4ÔøΩ:ÔøΩIÔøΩH&dÔøΩÔøΩÔøΩlÔøΩ7|ÔøΩRÔøΩ*JÔøΩÔøΩÔøΩÔøΩ DÔøΩ6ÔøΩÔøΩÔøΩw=ÔøΩ~ÔøΩÔøΩL\zÔøΩ
ÔøΩ2ƒµÔøΩXÔøΩDÔøΩÔøΩS€êÔøΩnp.bÔøΩÔøΩÔøΩ[o'ÔøΩ:ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩH2A ÔøΩÔøΩÔøΩÔøΩ"'ÔøΩÔøΩ8R4ÔøΩdÔøΩ-ÔøΩÔøΩÔøΩ$(ÔøΩlfpÔøΩ%ÔøΩÔøΩÔøΩ,>ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ>mÔøΩ<ÔøΩÔøΩÔøΩÔøΩÔøΩAfÔøΩ@*aÔøΩÔøΩÔøΩÔøΩqÔøΩdEU3:ÔøΩ‘ÅÔøΩÔøΩÔøΩÔøΩgÔøΩÔøΩÔøΩ1e#LÔøΩÔøΩÔøΩÔøΩkÔøΩÔøΩÔøΩZ`{1ÔøΩÔøΩ+ ÔøΩDÔøΩm;ÔøΩ'yÔøΩQÔøΩe ÔøΩÔøΩÔøΩÔøΩX7ÔøΩÔøΩÔøΩbÔøΩBÔøΩÔøΩÔøΩÔøΩFÔøΩ"ÔøΩTÔøΩÔøΩ;MÔøΩ÷∞ÔøΩNcÔøΩJÔøΩÔøΩc»Ç ÔøΩcÔøΩÔøΩ*mHLÔøΩÔøΩÔøΩpOÔøΩÔøΩq3‘êÔøΩÔøΩiÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩ ÔøΩ*ÔøΩQÔøΩzÔøΩ;wÔøΩ .pÔøΩ5ÔøΩÔøΩIÔøΩÔøΩ ÔøΩÔøΩA ÔøΩOÔøΩÔøΩÔøΩzmZÔøΩ1PÔøΩ,7S6ÔøΩ 6ÔøΩgÀ∂ÔøΩtÔøΩÔøΩÔøΩZÔøΩoÔøΩ?|+ÔøΩzÔøΩ7^ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ5rÌëÄ◊´0ÔøΩ ÔøΩfx&ÔøΩ~ÔøΩÔøΩÔøΩ0@ÔøΩÔøΩÔøΩÔøΩÔøΩNqÔøΩÔøΩWÔøΩA3> ÔøΩÔøΩmL*ÔøΩXPOÔøΩD|ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩC5ÔøΩ5ÔøΩÔøΩ	I.$ÔøΩÔøΩÔøΩ/Om%ÔøΩÔøΩÔøΩÔøΩÔøΩyÔøΩÔøΩÔøΩÔøΩZÔøΩ=8ÔøΩÔøΩÔøΩÔøΩ7ÔøΩ«æ%ÔøΩXÔøΩwÔøΩqÔøΩÔøΩlcQ`	Rƒ®ÔøΩ?ÔøΩÔøΩÔøΩ:ÔøΩ\ÔøΩÔøΩÔøΩŒ¶}FÔøΩÔøΩbÔøΩÔøΩbMÔøΩÔøΩ{ÔøΩ=SÔøΩf2ÔøΩ=Aﬂ®ÔøΩaÔøΩÔøΩ";KuÔøΩÔøΩÔøΩÔøΩÔøΩ&ÔøΩfÔøΩÔøΩ.jld4ÔøΩ"4ÔøΩGÔøΩÔøΩ.O#ÔøΩÔøΩ)ﬁπÔøΩÔøΩÔøΩ*ÔøΩÔøΩeÔøΩ âÔøΩIÔøΩÔøΩ}ÔøΩvÔøΩÔøΩCM;ÔøΩc*{u " ÔøΩ‹åf>ÈôêFÔøΩ%ÔøΩ√¢ÔøΩÔøΩ‹Ç
ÔøΩEÔøΩÔøΩG]} ÔøΩWXÔøΩlÔøΩ	:bÔøΩFÔøΩÔøΩÔøΩ÷åRÔøΩ}zuÔøΩÔøΩrÔøΩ"jsÔøΩNÔøΩP⁄ÑÃÄIÔøΩÔøΩÔøΩ3I‘òÔøΩ-ÔøΩ ZÔøΩ+5ÔøΩk(ÔøΩ-LH‘∑CÔøΩ+MÔøΩÔøΩxÔøΩ6[ÔøΩVÔøΩÔøΩÔøΩÔøΩ$>6ÔøΩV1(seÔøΩ-ÔøΩÔøΩZÔøΩ+mÔøΩf|œà√™]C*ÔøΩZÔøΩ ]ÔøΩÔøΩ}ÔøΩ2uib/ÔøΩdÔøΩÔøΩÔøΩÔøΩÔøΩcpÔøΩÔøΩÔøΩ49ÔøΩ⁄¶ÔøΩÔøΩÔøΩq6>÷éÔøΩKÔøΩÔøΩÔøΩCÔøΩÔøΩ\ÔøΩTÔøΩdÔøΩoÔøΩÔøΩ[ÔøΩÔøΩ*!qNÔøΩÔøΩ&‹ÄÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩZTW”©ÔøΩÔøΩkÔøΩ6ÔøΩWIJÔøΩ:ÔøΩWÔøΩÔøΩb]/rÔøΩ√≥*ÔøΩÔøΩÔøΩ	:IÔøΩÔøΩqÔøΩ;^ÔøΩ)ÔøΩfÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ”ÖY:ÔøΩÔøΩjefÔøΩ5AÔøΩZ?YÔøΩ>qvsÔøΩT.B!T,cx"x[HÔøΩ
2ÔøΩ
UÔøΩvÔøΩÔøΩEÔøΩcÔøΩÔøΩÔøΩUz'TÔøΩ5 'aÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ++ÔøΩ(U5)*ÔøΩ~'ÔøΩX`ÔøΩÔøΩÔøΩÔøΩlÔøΩÔøΩÔøΩ=ÔøΩ8 ÔøΩÔøΩ>ÔøΩMÔøΩÔøΩ‹•f[(ÔøΩ.ÔøΩ>ÔøΩH1ÔøΩÔøΩÔøΩ‹ëÔøΩZ`ÔøΩ'ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩUÔøΩÔøΩJÔøΩÂçòÔøΩÔøΩJÔøΩÔøΩ	ÔøΩ	;ÔøΩÔøΩRmb%\ÔøΩ0ÔøΩÔøΩ"ÔøΩdÔøΩDÔøΩÔøΩZBÔøΩ.ÔøΩm"ÔøΩFÔøΩ{[qsÔøΩÔøΩ|E`=ÔøΩÔøΩÔøΩoaÔøΩÔøΩ=MÔøΩU$ÔøΩIÔøΩ$ÔøΩÔøΩhÔøΩ ÔøΩÔøΩ
:-
ÔøΩÔøΩƒûÔøΩ%I€ΩIÔøΩÔøΩlCÔøΩbÔøΩZÔøΩÔøΩÔøΩ1EÔøΩÔøΩ-=ÔøΩ;}ÔøΩ:fÔøΩÔøΩÔøΩÔøΩ(ÔøΩÔøΩÔøΩLpÔøΩMÔøΩÔøΩtÔøΩÔøΩÔøΩÔøΩÔøΩiÔøΩ>ÔøΩÔøΩÔøΩÔøΩ2BÔøΩqÔøΩÔøΩ`,ÔøΩ@ÔøΩfÔøΩ5ÔøΩ"uwÔøΩÔøΩÔøΩÔøΩ)ÔøΩÔøΩÔøΩlgÔøΩÔøΩÏøá/FQ3ÔøΩÔøΩÔøΩÔøΩOmÔøΩÔøΩ ÔøΩÔøΩ';FÔøΩÔøΩ4ZÔøΩ<ÔøΩÔøΩÔøΩÔøΩÔøΩ`Œ≠ÔøΩeÔøΩÔøΩ.ÔøΩÔøΩvœÖÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
WÔøΩZÔøΩÔøΩ
@y$\BÔøΩ6ÔøΩEÔøΩ4ÔøΩÔøΩmw-\ÔøΩ
XTÔøΩbo$oxÔøΩ.ÔøΩÔøΩWf+R2HUÔøΩ	:ÔøΩÔøΩ ÔøΩÔøΩcÔøΩÔøΩÔøΩ  +T`5P.D\ÔøΩsÔøΩÔøΩÔøΩiÔøΩ%ÔøΩÔøΩAÔøΩ"ÔøΩÔøΩiÔøΩ:Df3%ÔøΩÔøΩÔøΩÔøΩ-c G>0&mÔøΩÔøΩ0h7ÔøΩ$ÔøΩ
ÔøΩÔøΩÔøΩÔøΩÔøΩrÃ¢UDÔøΩ|oa{mÔøΩÔøΩÔøΩ \4O"ÔøΩMÔøΩÔøΩG(UÔøΩuYÔøΩÔøΩq+ÔøΩÔøΩ$IÔøΩÔøΩQÕï n#rÔøΩÔøΩiÔøΩxÔøΩÔøΩÔøΩÊ∫å íÔøΩÔøΩfÔøΩÔøΩÔøΩÿ∂ÔøΩ3(:IÔøΩ ÔøΩÔøΩ-2ÔøΩ>ÔøΩÔøΩCÔøΩÔøΩ?ÔøΩÔøΩÔøΩÔøΩÔøΩhÔøΩÔøΩÔøΩÔøΩ7ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩI`$qrÔøΩÔøΩY"n/PÔøΩ8BÔøΩÔøΩpLÔøΩÔøΩÔøΩÔøΩÔøΩ"ÔøΩÔøΩ4ÔøΩ 
ÔøΩÔøΩdQÔøΩÔøΩ ÔøΩ	ÔøΩ?B1Z'a}.ÔøΩÔøΩ3T0VÔøΩ ÔøΩÔøΩvn-lYÔøΩÔøΩ»ÜÔøΩÔøΩ ÔøΩhÔøΩ7ÔøΩ7ÔøΩÔøΩÔøΩ5;HX(,c`&wÔøΩ
ÔøΩÎÄì+SÔøΩÔøΩÔøΩ	ÔøΩAPÔøΩÔøΩmÔøΩÔøΩD[ÔøΩpÔøΩV¬´U~ÔøΩÔøΩÔøΩKÔøΩMÔøΩÔøΩ2ÔøΩiefÔøΩ`ÔøΩ@LÔøΩÿÇFÔøΩÔøΩ>ÔøΩÔøΩ[ !@P ÔøΩÔøΩLG2OÔøΩ45RÔøΩÔøΩÔøΩ
ÔøΩÔøΩEÔøΩLÔøΩ7ÔøΩÔøΩolMHqÔøΩÔøΩÔøΩfZ~ÔøΩÔøΩR7ÔøΩ}7&ÔøΩ MÔøΩS"ÔøΩCTr@ÔøΩÔøΩKyÔøΩHÔøΩYW/QÔøΩ
ÔøΩÔøΩÔøΩÔøΩ'P%O6ÔøΩaÔøΩÔøΩru7M"ÔøΩ#ÃâÔøΩ`ÔøΩÔøΩ5ÔøΩ&ÔøΩÔøΩ[I
hÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ[ÔøΩiÔøΩ#Q ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ8ÔøΩÔøΩÔøΩ>ÔøΩ$OÔøΩ#ÔøΩ≈ÇÔøΩ1ÔøΩHÔøΩÔøΩ ÔøΩÔøΩÔøΩIs/-$«µÔøΩÔøΩl>ÔøΩ‘©XÔøΩZÔøΩQaÔøΩ\ÔøΩ
(ÔøΩ7ÔøΩÔøΩcÔøΩÔøΩÔøΩÔøΩ j2WkdÔøΩÔøΩÔøΩÔøΩ(ÔøΩ!UKV÷πÔøΩÔøΩÔøΩÔøΩUÔøΩ&ÔøΩÔøΩÔøΩ ÔøΩÔøΩk03ÔøΩÔøΩ$@)∆†V5ÔøΩqÔøΩÔøΩ8"ÔøΩjzÔøΩSWÔøΩÔøΩÔøΩIZÔøΩ"ÔøΩaÔøΩÔøΩiÔøΩ-ÔøΩÔøΩÔøΩÍúµ5ÔøΩtÔøΩÔøΩ›¥ÔøΩÔøΩbÔøΩTp
ÔøΩ}<ÔøΩ5ÔøΩÔøΩ;ÔøΩÔøΩA'ÔøΩ
$ÔøΩ ÔøΩÔøΩ,R/.ÔøΩÔøΩÔøΩ#ÔøΩ!ÔøΩÔøΩ5 ÔøΩBÔøΩm!ÔøΩLAÔøΩ ÔøΩÔøΩÔøΩqÔøΩÔøΩ€´ÔøΩ’ªÔøΩjRÔøΩÔøΩI,ÔøΩÔøΩH$ ÔøΩ.cÔøΩÔøΩuNÔøΩÔøΩÔøΩÔøΩi(J+#^ÔøΩ*AÔøΩÔøΩFÔøΩÔøΩWÔøΩR{ÔøΩf0%ÔøΩÔøΩ:LÔøΩsÔøΩÔøΩÔøΩZ/ÔøΩÔøΩÔøΩj!eÔøΩ.ÔøΩÔøΩ
ÔøΩÔøΩÔøΩÔøΩMÔøΩÔøΩaÔøΩÔøΩÔøΩ^MÔøΩ"G‘ô7ÔøΩÔøΩÔøΩÔøΩ&ÔøΩ{@SÔøΩHÔøΩ0ÔøΩÔøΩÔøΩH;AÔøΩÔøΩ4—ùc.ÔøΩP5]NÔøΩÔøΩ+ÔøΩ-p837ÔøΩÔøΩÔøΩÔøΩ9AÔøΩ»ÜÔøΩ	ÔøΩHÔøΩÔøΩÔøΩaÔøΩ:p}_√ùFÔøΩÔøΩkMÔøΩaÔøΩÔøΩTjÔøΩŒâ ÔøΩ
ÔøΩ{ÔøΩl	ÔøΩÔøΩ@ÔøΩcnÔøΩÔøΩ4ÔøΩIÔøΩÔøΩ&›¶6ÔøΩÔøΩ”üu:ÔøΩFÔøΩm,?0aOÿ©ÔøΩÔøΩÔøΩ?l[ÔøΩÔøΩÔøΩÔøΩLÔøΩƒ∞+`XÔøΩÔøΩÔøΩOÔøΩÔøΩq^g.dÔøΩ$ÔøΩJÔøΩÔøΩ$ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩQÔøΩÔøΩWcLÔøΩÔøΩm;ÔøΩ?ÔøΩÔøΩÔøΩfÔøΩ|ÔøΩXÔøΩ11ÔøΩ!ÔøΩEÔøΩ}ÔøΩÔøΩÔøΩgÔøΩÔøΩWT4ÔøΩ,ÔøΩl€ÇÔøΩrw’ç$jÔøΩÔøΩaaÔøΩaDÔøΩcr$ÔøΩÔøΩrbÔøΩÔøΩÔøΩÔøΩÔøΩcÔøΩjÔøΩÔøΩ.ÔøΩ:iÔøΩ ÔøΩg!vÔøΩ[9ÔøΩ=*,K
ÔøΩFÔøΩsc…à6ÔøΩÔøΩÔøΩ|ÔøΩÔøΩÔøΩ1FÔøΩH⁄∑ÔøΩeÔøΩ0bÔøΩÿæÔøΩÔøΩÔøΩÔøΩQÔøΩÔøΩJÔøΩÔøΩ@ÔøΩÔøΩÔøΩmÔøΩÔøΩ(ÔøΩ⁄äwm!xMÔøΩÔøΩÔøΩÔøΩpÔøΩtÔøΩMÔøΩU"ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ#ÔøΩT¬†UQÔøΩÔøΩÔøΩH$ w
"BÔøΩÔøΩ7ÔøΩq%ÔøΩUXÔøΩÔøΩÔøΩ$ÔøΩzÔøΩH-X≈¶xÔøΩaÔøΩeÔøΩ‘¢ÔøΩÔøΩ:LÔøΩL=ÔøΩ`ƒéÔøΩÔøΩORÔøΩÍä¶ÔøΩ
ÔøΩÔøΩTVZ %XXÔøΩcÔøΩF*ÔøΩJÔøΩÔøΩ%Ÿ≠3q}ÔøΩÔøΩÔøΩyÔøΩÔøΩ
*ÔøΩ'ÔøΩÔøΩÔøΩ:DÔøΩLÔøΩIÔøΩl~>4Õ™ÔøΩÔøΩÔøΩÔøΩÔøΩeRdwI”®iÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ-ÔøΩhÔøΩÔøΩÔøΩÔøΩ R%ÔøΩ.,NÔøΩÔøΩÔøΩÔøΩtÔøΩGÔøΩÔøΩGq*
ÔøΩÔøΩ:ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩZEbY;|ÔøΩÔøΩHÔøΩ{ÔøΩÔøΩÔøΩ]?FÔøΩ&wÔøΩTœáibÔøΩÔøΩÔøΩÔøΩKÔøΩ2?6ÔøΩÔøΩi%#PÔøΩ
ÔøΩ0ÔøΩg{I‹Ä ÔøΩ-?l]JÔøΩ!aÔøΩÔøΩ |ÔøΩÔøΩÔøΩZÔøΩÔøΩ9Í´∑{ÔøΩ0$ÔøΩgIÔøΩf'ÔøΩÔøΩ)cÔøΩÔøΩÔøΩ'ÔøΩ'~ÔøΩÔøΩ2@ÔøΩAÔøΩÔøΩ<_ÔøΩL›ëÔøΩHÔøΩMÔøΩÔøΩÔøΩÔøΩcÔøΩÔøΩBBÔøΩ“ª+ÔøΩÔøΩdÔøΩÔøΩcÔøΩƒà78ÔøΩ+MÔøΩrÀ®ÔøΩ"ÔøΩ
ÔøΩÔøΩÔøΩ!UÔøΩÔøΩU Z	ÔøΩDÔøΩÔøΩÔøΩÿòÔøΩQÔøΩ4ÔøΩMJÔøΩV$ÔøΩ 4laÔøΩ4ÔøΩ—àÔøΩ|)$ÔøΩÔøΩ	
HÔøΩÔøΩÔøΩOÔøΩÔøΩÔøΩÔøΩ3$$ÔøΩ ÔøΩ!ÔøΩ…ùÔøΩÔøΩoÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ<^MÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩQ@Zb  Ai[ÔøΩbDÔøΩ#ÔøΩÎ§∫iC8`ÔøΩ&ÔøΩnZ<ÔøΩÔøΩ| ÔøΩÔøΩÔøΩSm:jÔøΩ#L	ÔøΩÕÖÔøΩÔøΩ:ÔøΩÔøΩÔøΩEb“¨ÔøΩ ‘∫ÔøΩtÔøΩ[ÔøΩÔøΩÔøΩÔøΩNmKÔøΩÔøΩÔøΩÔøΩ:V@
$ÔøΩ#ÔøΩ+ÔøΩ$ÔøΩZLÔøΩI$K(ÔøΩ “†ÔøΩÔøΩ6«≤ÔøΩ@2ÔøΩ8!ÔøΩVÔøΩMÔøΩ ÔøΩTDA&}ÔøΩuÔøΩ7ÔøΩZ.ÔøΩUZÔøΩÔøΩj I`HÔøΩD
ÔøΩ0bÔøΩdÔøΩx:ÔøΩÔøΩœ∂ÔøΩZYÔøΩPÔøΩ+1$BÔøΩÔøΩÔøΩÔøΩuE-LÔøΩÔøΩÔøΩ
ÔøΩÔøΩÔøΩÔøΩSÔøΩ FÔøΩ>÷öyz'SÔøΩÔøΩÔøΩJN%ZÔøΩÔøΩrAÔøΩ ÔøΩ>ÔøΩpCÔøΩ&⁄êXÔøΩPÔøΩ…∏ÔøΩœÅ1ÔøΩÔøΩ>ÔøΩÔøΩ7rÔøΩÔøΩHÔøΩ
mÔøΩ|yÔøΩ.ÔøΩgÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩGtÔøΩÔøΩÔøΩRXÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ6ﬁÇÔøΩÔøΩY:FÔøΩÔøΩÔøΩÔøΩ:NÔøΩÔøΩÔøΩyÔøΩ5n ÔøΩFÔøΩ8ÔøΩq#ÔøΩÔøΩ.ÔøΩÔøΩÔøΩÔøΩ9ÔøΩÔøΩÿæÔøΩ`ÔøΩ4 ÄUKn-yÔøΩÔøΩ5Z◊ãcÔøΩDÔøΩÔøΩ3ÔøΩÔøΩc@ÔøΩ7OÔøΩ;ÔøΩÔøΩJÔøΩFEÔøΩÔøΩÔøΩ⁄¨ÔøΩÔøΩkA ÔøΩ ÔøΩEÔøΩp 8bvÔøΩÔøΩgÔøΩ UÔøΩÔøΩÔøΩPoÔøΩÔøΩÔøΩtÔøΩiÔøΩDlc3ÔøΩÔøΩuDÔøΩ6ÔøΩFÔøΩwÔøΩcWSÔøΩTAÔøΩ/ÔøΩ ÔøΩeH@ÔøΩX7dÔøΩlAÔøΩ,ÔøΩr7ÔøΩÔøΩÔøΩÔøΩÔøΩgJ- ÔøΩJÔøΩÔøΩÔøΩa.}œ∂ÔøΩ|A](1+HÔøΩyrb;ÔøΩ¬≠C?ÔøΩÔøΩÔøΩmÔøΩK<ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ é5JÔøΩÔøΩÔøΩÔøΩpT4–ïÔøΩ.ÔøΩJÔøΩ!ÔøΩeL	“∫uFÔøΩ`ÔøΩ{;ÔøΩÔøΩÔøΩÔøΩ
ÔøΩÔøΩ@ÔøΩÔøΩÔøΩlBÔøΩa	ÔøΩ H6ÔøΩ%ÔøΩÔøΩœõS\ÔøΩ\NÔøΩÔøΩÔøΩ5ÔøΩjjÔøΩ4ÔøΩÔøΩÔøΩÔøΩU,	ÔøΩXÔøΩÔøΩÔøΩÔøΩÔøΩtgPÔøΩbÔøΩÔøΩ9ÔøΩLÿôÔøΩsÔøΩvÔøΩÔøΩ#ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩjÔøΩE:uÔøΩÔøΩÔøΩT"DeÔøΩÔøΩpÔøΩmÔøΩEÔøΩCOÔøΩAlÔøΩ ÔøΩ:ÔøΩÔøΩ
ÔøΩÔøΩ«ÅÔøΩf~ZÔøΩ!}ÔøΩ ÔøΩh0@ÔøΩÔøΩÔøΩÔøΩÔøΩfzGMÔøΩRÔøΩuÔøΩ–¥ÔøΩÔøΩ`ÔøΩÔøΩÔøΩÔøΩÔøΩ }ÔøΩLÔøΩÔøΩÔøΩ 8V,j]ÔøΩÔøΩÔøΩ9ÔøΩ?aÔøΩLp-ÔøΩHÔøΩIÔøΩÔøΩ(ÔøΩÔøΩH,ÔøΩÔøΩÔøΩ- ÔøΩÔøΩ?ÔøΩu*LÔøΩBÔøΩÔøΩEÔøΩÔøΩ1ÔøΩÔøΩ<EÔøΩÔøΩ%ÔøΩ÷≠ÔøΩTRiÔøΩx
bÔøΩÔøΩ¬ÇÔøΩÔøΩÔøΩMÔøΩÔøΩF*SÔøΩNK!ÔøΩÔøΩfÔøΩ,tÔøΩÔøΩaÔøΩÔøΩqÔøΩ8S≈µD’≥*B2ÔøΩÔøΩ<)ÔøΩcÔøΩÔøΩÔøΩÔøΩ
ÔøΩeGÔøΩmÔøΩÔøΩqÔøΩÔøΩfÔøΩSÔøΩÔøΩvÔøΩMÔøΩe …âÔøΩÔøΩÔøΩ3ÔøΩo9ÔøΩr
ÔøΩ4
ÔøΩÔøΩÔøΩ 4ÔøΩÔøΩÔøΩ{ÔøΩVyÔøΩ5ÔøΩ7ÔøΩ%RJÔøΩÔøΩ  ÔøΩ5,IÔøΩ ÔøΩÔøΩÔøΩÔøΩ
ÔøΩÔøΩCÔøΩÔøΩÔøΩj I4ÔøΩP qÔøΩÔøΩ/ÔøΩÔøΩjBÔøΩÔøΩx*GvÔøΩ.ÔøΩ6ÔøΩÔøΩoÔøΩÔøΩÔøΩhÔøΩ⁄â?, ÔøΩw%ÔøΩ}ÔøΩÔøΩZÔøΩk5ÔøΩtÔøΩ.DREÔøΩÔøΩÔøΩ12@6$XÔøΩÔøΩÿÆÔøΩnÔøΩKÔøΩhŸö
ÔøΩÔøΩkÔøΩwÔøΩÔøΩ"ÔøΩÔøΩÔøΩSUrÔøΩPÔøΩmÔøΩ6TÔøΩÔøΩÔøΩÔøΩ√êMÔøΩjjt++$\ÔøΩVÔøΩ;BÔøΩÔøΩÔøΩ4ÔøΩÔøΩ[#ÔøΩÔøΩHÔøΩÔøΩ?ÔøΩckÔøΩÔøΩÔøΩÔøΩÔøΩwÔøΩaÔøΩÔøΩÔøΩÔøΩ2WÔøΩÔøΩ&ÔøΩÔøΩXÔøΩÔøΩÔøΩÔøΩÔøΩeÔøΩS`TÔøΩ'IYZÔøΩ0 7 ÔøΩÔøΩÔøΩ8ÔøΩ3*KÔøΩ`ÔøΩPH
bÔøΩÔøΩ ÔøΩ	ÔøΩÔøΩIÔøΩÔøΩJÔøΩBÔøΩ›ÄÔøΩÔøΩf3"$02'ÔøΩ'OÔøΩÔøΩ»¢TÔøΩÃ∫|l@2VÔøΩÔøΩÔøΩÔøΩ|`ÔøΩ48”°XÀñÔøΩo&ÔøΩgÔøΩ>ÿ£<ÔøΩtÔøΩg:ÔøΩNÔøΩÔøΩÔøΩ cxÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
oe=GÔøΩSÔøΩE5!iÔøΩ&ÔøΩ&ÔøΩ1ÔøΩÔøΩÔøΩÔøΩ`ÔøΩÔøΩ*^ÔøΩÔøΩÊö•WÔøΩÔøΩ»¢$iÔøΩÔøΩÔøΩ@ÔøΩ8ÔøΩÔøΩTÔøΩÔøΩÔøΩLÔøΩÔøΩÔøΩÔøΩxÔøΩÔøΩqÔøΩÔøΩ‚ÆïXÔøΩÔøΩÔøΩÔøΩÔøΩU&IÔøΩ#ÔøΩ?sÔøΩjSÔøΩTÔøΩ2ÔøΩcPUÔøΩ1ÔøΩ%ÔøΩ  IÔøΩÔøΩÔøΩ*ÔøΩÔøΩÔøΩÔøΩ`
»®ÔøΩG7ÔΩÅÔøΩ>ÔøΩÔøΩÍøÉÔøΩÔøΩÔøΩJÔøΩA
9ÔøΩAÔøΩÔøΩ ÔøΩ$arugÔøΩÔøΩÔøΩuh)ÔøΩÔøΩÔøΩSpÔøΩPÔøΩÔøΩÔøΩgl$SÔøΩ?ÔøΩ≈Ø)ÔøΩÔøΩÔøΩÔøΩÔøΩ	ÔøΩÔøΩÔøΩ“äÔøΩfÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ‡º∂fÔøΩ+H2ÔøΩÔøΩÔøΩbNÔøΩÔøΩÔøΩ1*ÔøΩkG{ÔøΩF:ÔøΩU9ÔøΩHWÔøΩiq8BÔøΩu4FÔøΩ6@`3ÔøΩÔøΩOZÔøΩRNÔøΩLÔøΩÔøΩbdÔøΩiOÔøΩÔøΩdjÔøΩÔøΩM|ÔøΩÔøΩAÔøΩA-ÔøΩ	2ÔøΩmÔøΩÔøΩ%ÔøΩe_bÔøΩÔøΩFÔøΩR'ÔøΩh 1ÔøΩ`cÔøΩLÔøΩ  ÔøΩzÔøΩÔøΩÔøΩÔøΩÔøΩ —ß|ÔøΩÔøΩT1Q:`ÔøΩ	aÔøΩ|ÔøΩ/@ÔøΩRÔøΩÔøΩÔøΩ ÔøΩHÔøΩmÔøΩÔøΩ6jÔøΩÔøΩkÔøΩÔøΩÔøΩÔøΩ:;`ÔøΩÔøΩ.ÔøΩÔøΩÔøΩqs<b&ÔøΩIJÔøΩÔøΩÔøΩ]T']( ÔøΩ 
IÂ∂õÔøΩ”êBÔøΩÔøΩÔøΩpÔøΩÔøΩÔøΩÔøΩÔøΩSÔøΩ‘™ÔøΩAÔøΩiÔøΩÔøΩÔøΩÔøΩ LjaÔøΩÔøΩÔøΩÔøΩcÔøΩÔøΩE*ÔøΩÔøΩÔøΩC0ÔøΩGÔøΩ\ÔøΩÔøΩcÔøΩZ3b7ÔøΩÔøΩÔøΩ>ÔøΩÔøΩ*–∞ÔøΩÔøΩo }ÔøΩ≈ΩÔøΩÔøΩJegEMBÔøΩÔøΩÔøΩ$ÔøΩÔøΩ l[GÔøΩVÔøΩÔøΩ8ÔøΩuAÔøΩÔøΩLÔøΩ@ÔøΩ ÔøΩ&ÔøΩÔøΩbÔøΩÔøΩ}nÔøΩEju('EMD JÔøΩÔøΩ ÔøΩ=ÔøΩl(ÔøΩ"SrÔøΩA ÔøΩj$\lJÔøΩÔøΩsqÔøΩ`ÔøΩ.ÔøΩÔøΩhÕ¶BÔøΩrÔøΩÔøΩÔøΩ0ÔøΩHÔøΩ&ÔøΩÔøΩOÔøΩÔøΩÔøΩQÔøΩÔøΩÔøΩ1uXbÔøΩÔøΩÔøΩFÔøΩPÔøΩ;wÔøΩ?\KkÔøΩÔøΩÔøΩ6ÔøΩÔøΩcÔøΩÔøΩCOjÔøΩ_iÔøΩ0@"fÔøΩ0unÔøΩÔøΩj:hL	ÔøΩÔøΩUÔøΩÔøΩ`ÔøΩ}ÔøΩÔøΩoMÔøΩÔøΩÔøΩ9dÔøΩŒùQÔøΩÔøΩ}p^CÔøΩÔøΩfÔøΩÔøΩsﬁ∂ÔøΩskÔøΩÔøΩ≈§ÔøΩ]ƒôLÔøΩ23ÔøΩ:SLÔøΩÔøΩÔøΩÔøΩ&[ÌâØÔøΩÔøΩXÔøΩÔøΩÔøΩÔøΩÔøΩq'ÔøΩÔøΩ$ÔøΩÔøΩ2!7ÔøΩÔøΩÔøΩF,ÔøΩPÔøΩSÔøΩÂúÇ;FÔøΩyÔøΩl)ÔøΩ\EÔøΩ?,ÔøΩuÔøΩÔøΩT3 |ÔøΩ	ÔøΩÔøΩÔøΩ^ÔøΩsÔøΩÔøΩoJ5uÔøΩÔøΩÔøΩuD‰®øﬂå_GÔøΩÔøΩd5};ÔøΩÔøΩÔøΩÔøΩ38mUÔøΩÔøΩ *ÔøΩ åblgÔøΩÔøΩ0O&g1ÔøΩZ:t-7d,C0$ÔøΩGl* XÔøΩw `ÔøΩÔøΩÔøΩÔøΩZÔøΩDze*
&dÔøΩlÔøΩ(ÔøΩ≈ßÔøΩÔøΩ4ÔøΩeHÔøΩCj"ÔøΩÔøΩ, ÔøΩÔøΩÔøΩÔøΩs9d$RÔøΩLÔøΩGÔøΩÔøΩÔøΩDdÔøΩÔøΩa≈éÔøΩ!OÔøΩÔøΩ…ΩzbÔøΩÔøΩj(ÔøΩÔøΩÔøΩÔøΩfÔøΩÔøΩÔøΩÔøΩ1”≤ÔøΩ äUÔøΩÔøΩ3&KÔøΩVÔøΩX[ÔøΩ
>ÔøΩ9ÔøΩjÔøΩÔøΩE0EÔøΩÔøΩPÔøΩÔøΩ—ØHÔøΩŒ´ÔøΩÔøΩÔøΩJÔøΩÔøΩOÔøΩOMÔøΩ…íiÔøΩÿà/ÔøΩ>	>pÔøΩÔøΩ,QÔøΩÔøΩÔøΩÔøΩUÔøΩÔøΩwYÔøΩ ÔøΩmÔøΩ ÔøΩÔøΩÔøΩÔøΩ∆≠ZuÔøΩÔøΩEÔøΩÔøΩFÔøΩvÔøΩhÔøΩÔøΩÔøΩdÔøΩ}@ ÔøΩ @ÔøΩzÔøΩAÔøΩuÔøΩ{ÔøΩ;}ÔøΩÔøΩÔøΩ5ÔøΩJÔøΩhÔøΩ{$ÔøΩÔøΩÔøΩÔøΩ$)ÔøΩ/ÔøΩÔøΩldzBÔøΩ]+NÔøΩÔøΩ	Pu}ÔøΩÔøΩÔøΩÔøΩ0ÔøΩ·ú∫ÔøΩiÔøΩÔøΩ}QÔøΩg%{ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩoÔøΩ<ÔøΩ->ÔøΩsMÔøΩÔøΩh
[ÔøΩHÔøΩ,7&0ÔøΩÔøΩ|?ÔøΩÔøΩIÔøΩ3ÔøΩÔøΩm5ÔøΩÔøΩ)PYÔøΩoÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÊúÖÔøΩ(ÔøΩm3FÔøΩ552{ÔøΩ4LÔøΩ$MÔøΩÔøΩ}qÔøΩÔøΩ?ÔøΩÔøΩÔøΩ'·ò∂ÔøΩÔøΩÔøΩ}$D]ÔøΩÔøΩ9ÔøΩuLÔøΩjuÔøΩÔøΩ UÔøΩÔøΩ$ÔøΩÔøΩRÔøΩb"@ÔøΩÔøΩ|ÔøΩYÔøΩ3kÔøΩ. WÔøΩFÔøΩÔøΩÔøΩ:ÔøΩÔøΩFÔøΩ9ÔøΩaÔøΩ~A&;ÔøΩÔøΩ‰≤πÔøΩÔøΩQÔøΩ
ÔøΩÔøΩÔøΩ%ÔøΩO};Œ¶\ÃµÔøΩ/ÔøΩÔøΩ2tÔøΩÔøΩJy\ÔøΩvÔøΩÔøΩÔøΩRÔøΩ EÔøΩÔøΩÔøΩÔøΩqÔøΩÔøΩ=\UÔøΩÔøΩÔøΩ-ÔøΩ)%ÔøΩ9`iq≈åÔøΩÔøΩÔøΩÔøΩ]|kÔøΩ@ÔøΩÔøΩÔøΩ“ãiÔøΩPÔøΩÔøΩ|ÔøΩ@ÔøΩbÔøΩBÔøΩSÔøΩ^ÔøΩÔøΩFÔøΩKÔøΩ#ZÔøΩÔøΩÔøΩÔøΩ:ÔøΩÔøΩÔøΩÔøΩgÔøΩCÔøΩÔøΩÔøΩI5	~“äÔøΩZÔøΩÔøΩÔøΩ QÔøΩfÔøΩYnÔøΩÔøΩÔøΩ%ÔøΩzuÔøΩQYVÔøΩQ‘£6ÔøΩÔøΩÔøΩ@¬¨ÔøΩÔøΩÔøΩ3ÔøΩ`ÔøΩeÔøΩÔøΩÔøΩoU4ÔøΩIXXCX{.3ÔøΩ<cÔøΩkÔøΩÀíÔøΩ9ÔøΩÔøΩUVÔøΩL 
ÔøΩÔøΩÔøΩÔøΩdÔøΩ"ÔøΩÔøΩ ÔøΩ3q4ÔøΩÔøΩÔøΩÔøΩ’ãÔøΩÔøΩ	ÔøΩ<ÔøΩ}wÔøΩGÔøΩ)%TÔøΩLDjÔøΩ'ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩBÔøΩÔøΩÔøΩRÔøΩÔøΩÔøΩÔøΩA ÔøΩAÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ#ÔøΩÔøΩc,ÔøΩyw4u~ÔøΩÔøΩ¬•VÔøΩÔøΩÔøΩ(ÔøΩ4ÔøΩsÔøΩÔøΩpÔøΩ=ÔøΩe(ÔøΩÔøΩT#IÔøΩÔøΩ$ÔøΩÔøΩSÔøΩ1ÔøΩX{ÔøΩmvÔøΩ5EÔøΩÔøΩQFÔøΩÃÄÔøΩÔøΩfÔøΩLÔøΩ1ÔøΩLÔøΩÔøΩÔøΩ-ÔøΩRÔøΩÔøΩÔøΩÔøΩSÔøΩZ	 ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ3X7ÔøΩqÔøΩÔøΩHw/ÔøΩÔøΩÔøΩÔøΩAÔøΩqÔøΩSmÔøΩqYÔøΩH?ÔøΩtÔøΩ0K
0{ÔøΩTiÔøΩs'q!~
I	ÔøΩÔøΩÔøΩQYÔøΩW`ÔøΩwfÔøΩ"ÔøΩezZÔøΩ5!+ÔøΩevÔøΩ`$ÔøΩÔøΩÔøΩÔøΩ4ÔøΩÔøΩ^
jÔøΩYÔøΩ]ZÔøΩÔøΩH`HÔøΩJÔøΩptÔøΩÔøΩÔøΩ|ÔøΩ+“®RIÔøΩ\ÔøΩÔøΩÔøΩÔøΩIÔøΩÔøΩÔøΩYÔøΩeÔøΩÔøΩuÔøΩ'LÔøΩÔøΩ$ÔøΩÔøΩ ÔøΩÔøΩ8gÔøΩÔøΩ5ÔøΩ—®ÔøΩGÔøΩÔøΩUPÔøΩ`&ÔøΩÔøΩCÔøΩÔøΩT\`LY$	S>ÔøΩŒà1iÔøΩÔøΩmÔøΩBÔøΩÔøΩ1<ÔøΩWÔøΩ»îÔøΩÔøΩÔøΩÔøΩjÔøΩÔøΩÔøΩÔøΩ*P(;b|oÔøΩlÔøΩÔøΩ=?√µFÔøΩÔøΩÔøΩX
ÔøΩÔøΩAÔøΩÔøΩf3ÔøΩ“íÔøΩ
UAÔøΩÔøΩjÔøΩ EÔøΩÔøΩÔøΩ(ÔøΩw[ÔøΩueÔøΩÔøΩ
ÔøΩÔøΩ%ÔøΩÔøΩÔøΩÔøΩ<ÔøΩcŸûÔøΩ&ÔøΩ@, ÔøΩ.@_ÔøΩ3ÔøΩÔøΩwÔøΩÔøΩ`Ia 1=ÔøΩ,$( "oD`Ÿ†ÔøΩA$ÔøΩ.!ÔøΩÔøΩlÔøΩhÔøΩRlÔøΩÔøΩGeuÔøΩÔøΩjÔøΩÂ∏ø'PÔøΩxÔøΩ8qÔøΩÔøΩGÔøΩ-ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ‘¢ÔøΩÔøΩÀô7ÔøΩÔøΩÔøΩ_+ÔøΩÔøΩÔøΩÔøΩkbJ55[ÔøΩe  ÔøΩÔøΩÓ≤ÆÔøΩ6ÔøΩÔøΩÔøΩy`ÔøΩÔøΩÔøΩ?ÔøΩ
/ÿûIÿåÔøΩ,ÔøΩ&ÔøΩ“¶#YD&6ÔøΩGÔøΩ ÔøΩ≈üÔøΩTÔøΩ+*UhkÔøΩ7ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩwÔøΩÔøΩÔøΩVÔøΩÔøΩ$vÔøΩÔøΩuÔøΩ(ÔøΩTÔøΩ ÔøΩPÔøΩRÔøΩÔøΩ*ÔøΩGÔøΩÔøΩÔøΩÔøΩÔøΩA5ÔøΩyu ÔøΩÔøΩÔøΩÔøΩ 1UÔøΩmÔøΩhÔøΩoÔøΩ9ÔøΩÔøΩÔøΩœ¶ÔøΩÔøΩÔøΩÔøΩfÔøΩÔøΩ0ÔøΩT2&ÔøΩa3ÔøΩÔøΩÔøΩÔøΩeÔøΩÔøΩj3]ÔøΩMÔøΩVnmÔøΩÔøΩ}IÔøΩÔøΩ #S<ÔøΩÔøΩÔøΩ∆´ÔøΩAÔøΩ-nÔøΩQÔøΩxÔøΩÔøΩÔøΩ-ÔøΩ7ÔøΩÔøΩÔøΩ ÔøΩoÔøΩÔøΩ,ÔøΩÔøΩ3h&ÔøΩÔøΩÔøΩ:XLÔøΩÔøΩÔøΩÔøΩiÔøΩ.ÔøΩ´¶à`KÔøΩÔøΩSÔøΩeÔøΩÔøΩ ÔøΩ=ÔøΩÔøΩÔøΩÔøΩRÔøΩÔøΩÔøΩÔøΩÔøΩh>ÔøΩbDÔøΩOs$ÔøΩ@ÔøΩo3VAM?H$-2ÔøΩÔøΩHÔøΩ{ÔøΩÔøΩoÔøΩ<ÔøΩÔøΩÔøΩÔøΩÔøΩr+ÔøΩÔøΩÔøΩÔøΩ4ÔøΩÔøΩ(ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩj8U%ÔøΩP	$	ÔøΩ8^pÔøΩÔøΩ5ÔøΩÔøΩtÔøΩÔøΩ?ÔøΩHÔøΩÔøΩ`&ÔøΩX›à$8ÔøΩ[ÔøΩ%ÔøΩÔøΩxe ÔøΩLoÔøΩÔøΩmÔøΩÔøΩuÔøΩkÔøΩ)ÔøΩ Ö’†.ÔøΩÔøΩji ÔøΩXy7oÔøΩ5?ÔøΩZT
Q@pÔøΩÔøΩ ÔøΩ RÔøΩÔøΩÔøΩ UeÔøΩÔøΩÔøΩ Y6SHÔøΩabÔøΩ5iÔøΩÔøΩÔøΩÔøΩrÔøΩÈçÄÔøΩxÔøΩc#ÔøΩÔøΩÔøΩiÔøΩÔøΩdvÔøΩÔøΩ…üÔøΩÔøΩ~ÔøΩ_ÔøΩÔøΩYZÔøΩ ÔøΩÔøΩSoEÔøΩÔøΩ\T;	7#KÔøΩÔøΩﬁçrYÔøΩdn“ìÔøΩÔøΩmR ⁄≤ÔøΩÔøΩÔøΩ'UÏôâÔøΩÔøΩPÀÉ(ÔøΩÔøΩvgfDÔøΩÔøΩÔøΩÔøΩ'2ﬂÉGÔøΩU
1sÔøΩÔøΩHÔøΩÔøΩÔøΩÔøΩÔøΩVÔøΩ(ÔøΩIÔøΩÔøΩ:ÔøΩÔøΩJÔøΩ6iÔøΩÔøΩf'ÔøΩÔøΩ9JÔøΩXÔøΩ!r@5ÔøΩR$l,ÔøΩÔøΩ68ÔøΩ^ÔøΩÔøΩiÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ A3ÔøΩÔøΩoÔøΩ!ÔøΩÔøΩ*3UÔøΩÔøΩJÔøΩÔøΩ8ÔøΩÔøΩbfÔøΩR.ÔøΩ SÔøΩÔøΩÔøΩÔøΩ#NÔøΩÔøΩÔøΩÔøΩT÷®RÔøΩ"A ÔøΩWU:TÔøΩNÔøΩ^6ÔøΩyÔøΩÔøΩÔøΩIÔøΩ`ÔøΩÔøΩÔøΩ!bÔøΩÔøΩHÔøΩui6;x≈πNÔøΩYÔøΩOÔøΩTÔøΩÔøΩa~ÔøΩ'H;ÔøΩ'ÔøΩYÔøΩTÔøΩEÔøΩ~W:lK aÔøΩ4b$M«õ‘ΩK/MÔøΩsÔøΩ
ÔøΩ–®ÔøΩbQÔøΩTÔøΩTÔøΩ
ÔøΩO;`T?ÔøΩÔøΩÔøΩtk>ÔøΩ5ÔøΩ”üÔøΩ6ÔøΩ{&;ÔøΩÔøΩyÔøΩÔøΩfÔøΩÔøΩQÔøΩjÔøΩ∆ÇLÔøΩÔøΩD,}GÔøΩÔøΩÔøΩÔøΩUZÔøΩM}eTÔøΩÔøΩCÔøΩCÔøΩÔøΩ-ÔøΩMÔøΩCÔøΩjÔøΩajÔøΩÔøΩ4ÔøΩÔøΩ~ÔøΩ `ÔøΩÔøΩÔøΩ}ÔøΩ_ÔøΩFCÔøΩ^ÔøΩÔøΩ=ÔøΩÔøΩÔøΩ4ÔøΩr5ÔøΩyÔøΩÔøΩ{ÔøΩÔøΩuDS,OÔøΩÔøΩÔøΩwcÔøΩÔøΩ_ÔøΩ4ÔøΩÔøΩÍõ•ÔøΩ2\ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩDF9ÔøΩÔøΩ`ÔøΩh-GÔøΩQHÔøΩK@UÔøΩL2ÔøΩ,ÔøΩÔøΩÔøΩÔøΩ?ÔøΩÔøΩÔøΩTÔøΩJÔøΩiUÔøΩ	ÔøΩNÔøΩÔøΩdqvÔøΩÔøΩ€ëÔøΩÔøΩQÔøΩi6ÔøΩfÔøΩUh**ÔøΩMiÔøΩEÔøΩÔøΩÔøΩ+G[ÔøΩfÔøΩVÔøΩj!ÔøΩÔøΩ
ÔøΩjÔøΩÔøΩŒéÔøΩdÔøΩ«≥ÔøΩÔøΩh
ÔøΩ35ÔøΩÔøΩÔøΩÔøΩÔøΩ$">ÔøΩpAÔøΩVÔøΩÔøΩÔøΩUÔøΩMÔøΩÔøΩyÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩZÔøΩVÔøΩÔøΩÔøΩk"ÔøΩÔøΩHÔøΩ ÔøΩÔøΩ
3
ÔøΩÔøΩÔøΩÔøΩ/XÔøΩTÔøΩÔøΩdÔøΩrÔøΩÔøΩZ,nyÔøΩÔøΩÔøΩ\(ÔøΩÔøΩIUWÔøΩÔøΩT)&HÔøΩqÔøΩsÔøΩ¬îÔøΩ3]d‘®ÔøΩ0ÔøΩ*ÔøΩHaÔøΩÔøΩ
1XÔøΩÔøΩÔøΩÔøΩÔøΩ,ÔøΩÔøΩÔøΩÔøΩir ÔøΩd*ÔøΩ-ÔøΩÔøΩ/>ÔøΩÔøΩheÔøΩÔøΩ*ﬁ±wBÔøΩ÷üÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ%ÔøΩq HÔøΩFeÔøΩu2ÔøΩÔøΩQuÔøΩ>GÔøΩÔøΩcÔøΩÔøΩÔøΩ$ÔøΩpÔøΩ,qkÔøΩÔøΩÔøΩ yÔøΩÔøΩE[f@mJÔøΩÔøΩ6>uoÔøΩNJÔøΩd2ŒßV–¥◊∏2+ÔøΩaPÔøΩ ÔøΩf?$ÔøΩÔøΩYYÔøΩ3ÔøΩPYÔøΩUE»ÇÔøΩÔøΩÔøΩÔøΩÔøΩƒ∫]Z0¬ªÔøΩ⁄ïÔøΩÔøΩ8ÔøΩ ÔøΩ€àÔøΩÔøΩÔøΩÔøΩÔøΩ-ÔøΩ&9ÔøΩÔøΩ{!ÔøΩÔøΩAÔøΩÔøΩ(DLÔøΩÔøΩ (Kh`
ÔøΩÔøΩDI=VÔøΩhÔøΩ6ÔøΩÔøΩ*59ÔøΩ ÔøΩ_ÔøΩÔøΩ√áÔøΩ`ÔøΩh: T
ÔøΩ62H]sÔøΩqÔøΩTUZÔøΩjÔøΩdfU%UÔøΩÔøΩÔøΩ'ÔøΩÔøΩBÔøΩ	ÔøΩÔøΩHÔøΩÔøΩÔøΩÔøΩ”ÄÔøΩ›óNÔøΩÔøΩ:ÔøΩÔøΩÔøΩ%uÔøΩÃÅÔøΩÔøΩÔøΩÔøΩ5ÔøΩEÔøΩÃ´
ÔøΩeÔøΩ#J∆Ä5bMÔøΩÔøΩÔøΩ&ÔøΩ4ÔøΩ0ÔøΩÔøΩ⁄äÔøΩÔøΩ'QÔøΩÔøΩdÔøΩÔøΩ1cÔøΩÔøΩ ÔøΩPÔøΩAÔøΩ-ÔøΩÔøΩÔøΩXÔøΩÔøΩ]ÔøΩ…ÅÔøΩÔøΩZ*ÔøΩÔøΩ“´ÔøΩATÔøΩ&iA6$ÔøΩÔøΩœºÔøΩÔøΩZ‘àVP;ÔøΩ/kÔøΩ$\{ÔøΩÔøΩÔøΩ*9ÔøΩÔøΩ!u7ÔøΩ@mÔøΩ ÔøΩS\ÔøΩÔøΩjÃ±&XÔøΩ7
&–¶	WÔøΩÔøΩJmL*ÔøΩQÔøΩÔøΩQÔøΩÔøΩ@RÔøΩ ÔøΩHÔøΩÎ´çÔøΩ-IjÔøΩ‹ªÔøΩGÔøΩEÔøΩÔøΩÔøΩÔøΩ"fjÔøΩÔøΩÔøΩIÔøΩÔøΩÔøΩÔøΩ&ÔøΩÔøΩÔøΩmÔøΩGY.Uu/zÔøΩÔøΩTŒ©ÔøΩÔøΩ&dÔøΩ	ÔøΩÔøΩÔøΩ%”Å:XÔøΩÔøΩ'ÔøΩYÔøΩÔøΩ0O ÔøΩÔøΩÔøΩÔøΩJjÔøΩ≈à+2ÔøΩÔøΩ q+&ÔøΩvÔøΩiFÔøΩZÔøΩÔøΩÔøΩPÔøΩÔøΩÔøΩ«ùÔøΩ0ÔøΩÔøΩ8{ÔøΩzJÔøΩÔøΩÔøΩiÔøΩtXÔøΩ'D]ÔøΩOÔøΩ'ÔøΩoÔøΩÔøΩ
ÔøΩ.ÔøΩÔøΩ	%ÔøΩÔøΩÔøΩ ÔøΩVPÔøΩÔøΩÔøΩsÔøΩÔøΩÔøΩÔøΩ(ÔøΩÔøΩÔøΩJ2ÔøΩvÔøΩ5AÔøΩÔøΩÔøΩqMÔøΩÔøΩÔøΩ:ÔøΩÔøΩÔøΩ3ÔøΩÔøΩ6ÔøΩÔøΩÕº`-I	ÔøΩÔøΩÔøΩÔøΩU ÔøΩ ÔøΩ œøNE<ÔøΩ\_JÔøΩÔøΩÔøΩÔøΩÔøΩlIÔøΩÔøΩÔøΩ√æÔøΩÔøΩÔøΩÔøΩtfÔøΩÔøΩ]ÔøΩÔøΩÔøΩÔøΩ4$ÔøΩÔøΩÔøΩÔøΩÔøΩjÔøΩ!i$»í8ÔøΩ	ÔøΩÔøΩ”∑3ÔøΩÔøΩSÔøΩÔøΩ4ÔøΩSÔøΩ⁄äuS LÔøΩ[ÔøΩÔøΩ√îÔøΩÔøΩÔøΩ_ÔøΩwÔøΩiUv ÔøΩ≈Å@ZÔøΩ4ÔøΩ&ÔøΩp&FÔøΩÔøΩZÔøΩÔøΩÃ¶o/ÔøΩÔøΩÔøΩ6ÔøΩÔøΩÔøΩÔøΩ]5ÔøΩ(«•ÔøΩaÔøΩ)ÔøΩZ_ÔøΩIup'	ÔøΩÔøΩZÔøΩÔøΩÔøΩÔøΩIÔøΩa6ÔøΩÔøΩÔøΩÔøΩ0ÔøΩsEcÔøΩÔøΩ~t*e)ÔøΩ	gjÔøΩÔøΩDÔøΩeX2d
ÔøΩÔøΩnÔøΩtÔøΩÔøΩeÔøΩÔøΩK`	ÔøΩWÔøΩbl;ÔøΩÔøΩÔøΩK\ÔøΩÔøΩÔøΩÔøΩK/DRjÔøΩ-. ,lÔøΩNÔøΩÔøΩÔøΩ3ÔøΩ ÔøΩ
ÔøΩ/NÔøΩAÔøΩÔøΩ(
UÔøΩÔøΩX NÔøΩÔøΩ$œú`ÔøΩKFÔøΩÔøΩÔøΩ BÔøΩÔøΩ=6jÔøΩÔøΩÔøΩCMÔøΩƒàÔøΩÔøΩÔøΩÔøΩÔøΩ6ÔøΩÔøΩkÔøΩ’ïÔøΩÔøΩUÔøΩ.ÔøΩ)ÔøΩÔøΩ0ÔøΩ;ÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩ9DÕôÔøΩÔøΩ}LÔøΩCVn=ÔøΩÔøΩÔøΩÔøΩ4ÔøΩÔøΩi◊ØYÔøΩÔøΩÔøΩ’éÔøΩ@ÔøΩÔøΩ~ÔøΩÔøΩÔøΩÔøΩ[2ÔøΩ*Àö(@ÔøΩAZÔøΩÔøΩE2ÔøΩ}ÔøΩlh<(#RvÔøΩ`ÔøΩÔøΩ*ÔøΩ<HÔøΩ(ÔøΩ7ÔøΩÔøΩ?ÔøΩÔøΩÔøΩÔøΩDÔøΩUf
ÔøΩÔøΩi!ÔøΩiÔøΩdC|aNÔøΩUÔøΩÔøΩjfÔøΩÔøΩ+ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩr'ÔøΩ#ÔøΩ/ÔøΩÔøΩ.ÔøΩO–†ÔøΩJeUÔøΩ\ÔøΩÔøΩÔøΩÔøΩ@m0OsÔøΩzÔøΩVÔøΩJÔøΩÔøΩ’§ÔøΩA,ÔøΩÔøΩÔøΩvÔøΩÔøΩ'ÔøΩÔøΩQÔøΩ*ÔøΩUÔøΩÔøΩÔøΩ-ÔøΩÔøΩÔøΩÔøΩ=ÔøΩÔøΩÔøΩ{»∂ÔøΩP(ÔøΩ~vÔøΩÔøΩCÔøΩ
"IÔøΩLÔøΩÔøΩ>ÔøΩÔøΩÔøΩCÔøΩ-ÔøΩ(4RÔøΩÔøΩIÔøΩÔøΩÔøΩÔøΩ42ÔøΩ}ÔøΩ
ÔøΩcÔøΩÔøΩnÔøΩÔøΩÔøΩ{ÔøΩ ;MÔøΩKZÔøΩÔøΩ,,dÔøΩÔøΩDÔøΩ3ÔøΩ^ÔøΩ:BÔøΩ‘§1ÔøΩÔøΩÔøΩyÔøΩÔøΩ}OÔøΩÔøΩÔøΩÔøΩVÔøΩWUcÔøΩÔøΩ[RÔøΩ"ÔøΩkÔøΩ>e2ÔøΩÔøΩÔøΩÔøΩÔøΩ5ÔøΩÔøΩﬂàÔøΩ!ÔøΩjÔøΩÔøΩFRoÔøΩÔøΩÔøΩÔøΩ|=ÔøΩÔøΩeË∞¶ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩr93ÔøΩ=cÔøΩLÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩUP>ÔøΩ@sÔøΩl0OÔøΩÔøΩÔøΩjtÔøΩ-MÔøΩP2”¶$ÔøΩHkÔøΩÔøΩ"ÔøΩ'ÔøΩÔøΩÔøΩÔøΩ?ÔøΩ~SÔøΩÔøΩ"cPÔøΩÔøΩhÔøΩ4ÔøΩÔøΩÔøΩÔøΩSÔøΩÔøΩÔøΩ4ÔøΩ+(Q)ÔøΩJd
Vh 1ÔøΩÔøΩÔøΩÔøΩ
3ÔøΩ*ÔøΩÔøΩZ2ÔøΩjÔøΩÔøΩÔøΩ5"ÔøΩpÔøΩ	 
ÔøΩf
ÔøΩÔøΩÔøΩÔøΩ/ÔøΩzÔøΩzÔøΩ¬äHÔøΩHee ÔøΩ›†|ÔøΩ {"bÔøΩq9ÔøΩÔøΩP◊•ÔøΩ8ÔøΩ|QÔøΩÔøΩI}:ÔøΩ `4ÔøΩÔøΩ'ÔøΩ`&ÔøΩÔøΩ|c2ÔøΩﬁïSÔøΩÔøΩcYISÔøΩ_IÔøΩ#J,HÔøΩÔøΩÔøΩÔøΩzÔøΩJ1TÔøΩMÔøΩÔøΩÔøΩ#xÔøΩPxÔøΩÔøΩ‹õÔøΩÔøΩÔøΩVÔøΩÔøΩÔøΩ}`ÔøΩÔøΩ%DÔøΩÔøΩ∆´ÔøΩ[‹á1iDeÔøΩO&wÔøΩfjÔøΩjÔøΩÔøΩÔøΩK#S÷•tÔøΩ
ÔøΩsÔøΩÔøΩÔøΩ-ÔøΩÔøΩÔøΩ	ÔøΩtÔøΩÔøΩ!CÔøΩÔøΩn l@,lIÔøΩÔøΩÔøΩÔøΩ
‘µ‘ØÔøΩiÔøΩ0LÔøΩÔøΩÔøΩzk,L
ÔøΩÔøΩÔøΩHÔøΩS2∆ìzvbAÔøΩÔøΩÔøΩÂåÄllbÔøΩÔøΩeÔøΩT=Q!kÔøΩÔøΩÔøΩÔøΩU!ÔøΩ#L
ÔøΩ«¥s8ÔøΩt
ÀßM@&ÔøΩ`AÔøΩÔøΩdH0o,.^#=ÔøΩ+ÔøΩ!ÔøΩÔøΩOÔøΩÔøΩÔøΩ>pÔøΩ)ÔøΩ}T)ÔøΩ#@ÔøΩÔøΩÔøΩÔøΩÔøΩÔà±ÔøΩÔøΩPoÔøΩÔøΩ-KÔøΩu,
ÔøΩÔøΩÔøΩBƒ∞ ÔøΩÔøΩÔøΩÔøΩ’°Y
ÔøΩÔøΩTÔøΩKSÔøΩDÔøΩdÔøΩ#m[ÔøΩ`I
~ÔøΩÔøΩÔøΩEYWÔøΩÔøΩDÔøΩÔøΩe'f
6ÔøΩ_ÔøΩz#◊®ÔøΩÔøΩ.ÔøΩÔøΩiÔøΩP ÔøΩÔøΩ|ÔøΩÔøΩL|ÔøΩÔøΩzyx3ÔøΩ7ÔøΩÔøΩzYÔøΩPÔøΩÔøΩÔøΩTÔøΩ ÔøΩÔøΩÔøΩ«åis(ÔøΩuÔøΩ4ÔøΩ^ÔøΩÔøΩÔøΩ_RÔøΩbÔøΩÔøΩw;ÔøΩÔøΩÔøΩÕâÔøΩIÔøΩÔøΩ>ÔøΩm5)ÔøΩÔøΩI$ÔøΩÔøΩÕßÔøΩ
ÔøΩÔøΩÔøΩÔøΩ"Ã∫eÔøΩÔøΩ*zÔøΩM6QÔøΩ bÔøΩÔøΩ5)ÔøΩÔøΩoÔøΩÔøΩÔøΩy.HÔøΩÔøΩIcÔøΩÔøΩ-ÔøΩLÔøΩeÔøΩÔøΩBÔøΩÔøΩÔøΩÔøΩPvÔøΩÔøΩ0ÔøΩ'ÔøΩÔøΩzzÔøΩ}ÔøΩ’Ø^ÔøΩ- "ÔøΩ@?ÔøΩÔøΩ&JÔøΩvÔøΩzÔøΩÔøΩRÔøΩÔøΩWSLj
cA?ÔøΩÔøΩ,ÔøΩÔøΩCÔøΩ9ÔøΩ#ÔøΩÔøΩÔøΩÔøΩNÔøΩÔøΩ(ÔøΩCT$ÔøΩÔøΩÊ∂ÅÔøΩMÔøΩÔøΩ0I&/ÔøΩÔøΩfÔøΩVvR ÔøΩhÔøΩ0YL7fÔøΩÔøΩ1wOÔøΩJÔøΩ]ÔøΩÔøΩ|ÔøΩfÔøΩŒ†ÔøΩÔøΩ!ÔøΩ"ÔøΩ6ÔøΩ}ÔøΩÔøΩ9ÔøΩÔøΩQÔøΩÔøΩ/jÔøΩÔøΩ
GÔøΩ,,ÔøΩÔøΩhÔøΩ
ÔøΩÔøΩzÔøΩÔøΩÔøΩ'jÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ)ÔøΩÔøΩÔøΩÔøΩOI:ÔøΩÔøΩ
ÔøΩÔøΩÔøΩ9ÔøΩ ÔøΩÔøΩÔøΩ|-ÔøΩÔøΩU:ÔøΩÔøΩ!a`ÔøΩƒí⁄âÔøΩÔøΩpÔøΩÔøΩÔøΩQQ5 ÔøΩÔøΩÔøΩ-ÔøΩ0~_ÔøΩ:ÔøΩIoOÔøΩÔøΩÔøΩ≈øÔøΩ4«ßvÔøΩÔøΩ]G⁄ã)ÔøΩÔøΩ0I=ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ5ÔøΩƒ¢ÔøΩÔøΩTÔøΩƒüÔøΩ|ÔøΩT;ÔøΩÔøΩ`OÔøΩEÔøΩ
]8ÔøΩÔøΩÔøΩÔøΩT”±n#ÔøΩ(ÔøΩ ÔøΩÔøΩÔøΩkÔøΩ+$ÔøΩÔøΩÔøΩÔøΩ

index.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ include file="fragments/header.jsp" %>

<div class="container" style="max-width: 900px; margin: 50px auto; text-align: center;">
    <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ComputerList</h1>
    <p>–í—ã–±–∏—Ä–∞–π—Ç–µ –º–æ—â–Ω—ã–µ –ü–ö –¥–ª—è –∏–≥—Ä –∏ –±—Ä–æ–Ω–∏—Ä—É–π—Ç–µ –≤—Ä–µ–º—è –æ–Ω–ª–∞–π–Ω!</p>

    <a href="${pageContext.request.contextPath}/computers"
       style="display:inline-block; margin-top: 20px; padding:10px 20px; background:#007bff; color:white; border-radius:5px; text-decoration:none;">
       –í—ã–±—Ä–∞—Ç—å –ü–ö
    </a>
</div>

<%@ include file="fragments/footer.jsp" %>


IndexServlet.java

package com.computerlist.controller;


import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import java.io.IOException;

@WebServlet(name = "IndexServlet", urlPatterns = {"/index"})
public class IndexServlet extends HttpServlet {

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        // –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ JSP
        request.getRequestDispatcher("templates/index.jsp").forward(request, response);
    }
}

JsonResponseWriter.java

package com.computerlist.util;

import jakarta.servlet.http.HttpServletResponse;
import org.json.JSONArray;
import org.json.JSONObject;

import java.io.IOException;
import java.util.List;
import java.util.Map;

public class JsonResponseWriter {

    // –î–ª—è Map
    public static void write(HttpServletResponse response, Map<String, Object> data) throws IOException {
        response.setContentType("application/json; charset=UTF-8");
        JSONObject json = new JSONObject(data);
        response.getWriter().write(json.toString());
    }

    // –î–ª—è —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤
    public static void writeJson(HttpServletResponse response, List<?> data) throws IOException {
        response.setContentType("application/json; charset=UTF-8");
        JSONArray jsonArray = new JSONArray();

        for (Object obj : data) {
            JSONObject jsonObject = new JSONObject(obj);
            jsonArray.put(jsonObject);
        }

        response.getWriter().write(jsonArray.toString());
    }
}

log4j2.xml

<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="INFO">
    <Appenders>
        <!-- –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å -->
        <Console name="Console" target="SYSTEM_OUT">
            <PatternLayout pattern="[%d{HH:mm:ss}] [%t] %-5level %logger{36} - %msg%n" />
        </Console>

        <!-- –õ–æ–≥–∏ –≤ —Ñ–∞–π–ª -->
        <File name="FileLog" fileName="logs/app.log" append="true">
            <PatternLayout pattern="[%d{yyyy-MM-dd HH:mm:ss}] %-5p %c{1}:%L - %m%n" />
        </File>
    </Appenders>

    <Loggers>
        <!-- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–≤–æ–µ–≥–æ –ø–∞–∫–µ—Ç–∞ -->
        <Logger name="com.computerlist" level="debug" additivity="false">
            <AppenderRef ref="Console" />
            <AppenderRef ref="FileLog" />
        </Logger>

        <!-- –ö–æ—Ä–Ω–µ–≤–æ–π –ª–æ–≥–≥–µ—Ä (–¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π) -->
        <Root level="info">
            <AppenderRef ref="Console" />
        </Root>
    </Loggers>
</Configuration>

login.jsp

<%@ page contentType="text/html;charset=UTF-8" pageEncoding="UTF-8" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ include file="/templates/fragments/header.jsp" %>

<div class="container" style="max-width: 500px; margin: 60px auto; text-align: center;">
    <h2>–í—Ö–æ–¥</h2>

    <form action="${pageContext.request.contextPath}/login" method="post" style="text-align: left;">
        <div style="margin-bottom: 15px;">
            <label><strong>Email:</strong></label><br>
            <input type="email" name="email" required style="width: 100%; padding: 8px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label><strong>–ü–∞—Ä–æ–ª—å:</strong></label><br>
            <input type="password" name="password" required style="width: 100%; padding: 8px;">
        </div>

        <button type="submit" style="width: 100%; padding: 10px; background: #007bff; color: white; border: none; border-radius: 5px; font-size: 16px;">
            –í–æ–π—Ç–∏
        </button>
    </form>

    <% if (request.getAttribute("error") != null) { %>
        <p style="color: red; margin-top: 15px;">
            <%= request.getAttribute("error") %>
        </p>
    <% } %>

    <div style="margin-top: 20px;">
        <a href="${pageContext.request.contextPath}/register" style="color: #28a745; text-decoration: none;">
            –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        </a>
    </div>
</div>

<%@ include file="/templates/fragments/footer.jsp" %>

LoginServlet.java

package com.computerlist.controller.Auth;

import com.computerlist.model.Role;
import com.computerlist.model.User;
import com.computerlist.service.RoleService;
import com.computerlist.service.UserService;
import com.computerlist.service.impl.RoleServiceImpl;
import com.computerlist.service.impl.UserServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.*;
import java.io.IOException;

@WebServlet("/login")
public class LoginServlet extends HttpServlet {
    private UserService userService;
    private RoleService roleService;

    @Override
    public void init() {
        userService = new UserServiceImpl();
        roleService = new RoleServiceImpl();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        req.getRequestDispatcher("templates/user/login.jsp").forward(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        String email = req.getParameter("email");
        String password = req.getParameter("password");

        User user = userService.authenticate(email, password);

        if (user != null) {
            HttpSession session = req.getSession();
            session.setAttribute("user", user);
            String role = roleService.getRoleById(user.getRoleId()).getName();
            // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏
            switch (role) {
                case "MANAGER" -> resp.sendRedirect("admin/profile");
                default -> resp.sendRedirect("profile");
            }
        } else {
            req.setAttribute("error", "–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å");
            req.getRequestDispatcher("templates/user/login.jsp").forward(req, resp);
        }
    }
}


logout.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<%@ include file="/templates/fragments/header.jsp" %>

<div class="container" style="max-width: 600px; margin: 50px auto; text-align: center;">
    <h2>–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?</h2>

    <form method="post" action="${pageContext.request.contextPath}/logout">
        <button type="submit" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">
            –í—ã–π—Ç–∏
        </button>
        <a href="${pageContext.request.contextPath}/index" style="margin-left:20px; font-size:16px; text-decoration:none;">
            –û—Ç–º–µ–Ω–∞
        </a>
    </form>
</div>

<%@ include file="/templates/fragments/footer.jsp" %>

LogOutServlet.java

package com.computerlist.controller.Auth;

import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;

import java.io.IOException;

@WebServlet("/logout")
public class LogOutServlet extends HttpServlet {

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.getRequestDispatcher("/templates/user/logout.jsp").forward(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false); // –ø–æ–ª—É—á–∞–µ–º —Å–µ—Å—Å–∏—é
        if (session != null) {
            session.invalidate(); // —É–¥–∞–ª—è–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏
        }
        resp.sendRedirect(req.getContextPath() + "/index");
    }
}

merged.txt


AdminProfileServlet.java

package com.computerlist.controller.Admin;

import com.computerlist.model.Computer;
import com.computerlist.model.User;
import com.computerlist.service.ComputerService;
import com.computerlist.service.UserService;
import com.computerlist.service.impl.ComputerServiceImpl;
import com.computerlist.service.impl.UserServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;

import java.io.IOException;
import java.util.List;

@WebServlet("/admin/profile")
public class AdminProfileServlet extends HttpServlet {

    private ComputerService computerService = new ComputerServiceImpl();
    private UserService userService = new UserServiceImpl();

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        if (session == null || session.getAttribute("user") == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }

        User admin = (User) session.getAttribute("user");
        if (admin.getRoleId() != 2) {
            resp.sendRedirect(req.getContextPath() + "index");
            return;
        }
        int adminId = admin.getId();

        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ —Ä–æ–ª—å –∏–∑–º–µ–Ω–∏–ª–∞—Å—å)
        admin = userService.getUserById(adminId);

        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç—É—Ä—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —ç—Ç–∏–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
        List<Computer> computers = computerService.getComputersByAdminCreatedId(adminId);

        req.setAttribute("admin", admin);
        req.setAttribute("computers", computers);

        req.getRequestDispatcher("/templates/admin/profile.jsp").forward(req, resp);
    }
}

Computer.java

package com.computerlist.model;
import java.time.LocalDate;
import java.util.List;

public class Computer {

    private int id;
    private String title;
    private String description;
    private int gamingZoneId;
    private GamingZone gamingZone;
    private LocalDate startDate;
    private LocalDate endDate;
    private double hourlyRate;
    private int creator_id;
    private User creator;


    private List<RoomOption> roomOptions;
    public Computer() {}

    public Computer(int id, String title,String description, int gamingZoneId, GamingZone gamingZone,
                LocalDate startDate, LocalDate endDate, double hourlyRate, int creator_id) {
        this.id = id;
        this.title = title;
        this.description = description;
        this.gamingZoneId = gamingZoneId;
        this.gamingZone = gamingZone;
        this.startDate = startDate;
        this.endDate = endDate;
        this.hourlyRate = hourlyRate;
        this.creator_id = creator_id;
    }

    public int getId() {
        return id;
    }

    public String getTitle() {
        return title;
    }

    public String getDescription() {
        return description;
    }

    public void setDescription(String description) {
        this.description = description;
    }


    public int getGamingZoneId() {
        return gamingZoneId;
    }

    public GamingZone getGamingZone() {
        return gamingZone;
    }

    public LocalDate getStartDate() {
        return startDate;
    }

    public LocalDate getEndDate() {
        return endDate;
    }

    public double getHourlyRate() {
        return hourlyRate;
    }

    public void setId(int id) {
        this.id = id;
    }

    public void setTitle(String title) {
        this.title = title;
    }

    public void setGamingZoneId(int gamingZoneId) {
        this.gamingZoneId = gamingZoneId;
    }

    public void setGamingZone(GamingZone gamingZone) {
        this.gamingZone = gamingZone;
    }

    public void setStartDate(LocalDate startDate) {
        this.startDate = startDate;
    }

    public void setEndDate(LocalDate endDate) {
        this.endDate = endDate;
    }

    public void setHourlyRate(double hourlyRate) {
        this.hourlyRate = hourlyRate;
    }

    public List<RoomOption> getRoomOptions() {
        return roomOptions;
    }

    public void setRoomOptions(List<RoomOption> roomOptions) {
        this.roomOptions = roomOptions;
    }

    public User getCreator() {
        return creator;
    }

    public void setCreator(User creator) {
        this.creator = creator;
    }

    public int getCreator_id() {
        return creator_id;
    }

    public void setCreator_id(int creator_id) {
        this.creator_id = creator_id;
    }

    @Override
    public String toString() {
        return "Computer{" +
                "id=" + id +
                ", title='" + title + '\'' +
                ", gamingZoneId=" + gamingZoneId +
                ", gamingZone=" + gamingZone +
                ", startDate=" + startDate +
                ", endDate=" + endDate +
                ", hourlyRate=" + hourlyRate +
                '}';
    }
}


ComputerDAO.java

package com.computerlist.dao;


import com.computerlist.model.Computer;

import java.sql.SQLException;
import java.util.List;

public interface ComputerDAO {
    public List<Computer> search(String query, String startDate, String gamingZoneId, int limit, int offset);
    Computer findById(int id);
    List<Computer> findAll();
    List<Computer> findByGamingZone(int gamingZoneId);
    public List<Computer> findComputersByAdminCreated(int user_id);
    boolean create(Computer computer);
    boolean update(Computer computer) throws SQLException, ClassNotFoundException;
    boolean delete(int id);
    public void clearRoomOptionsForComputer(int computerId);
    public void linkRoomOptionsToComputer(int computerId, List<Integer> roomOptionIds);
    public int countSearchComputers(String query, String startDate, String gamingZoneId);

}


ComputerDAOImpl.java

package com.computerlist.dao.impl;

import com.computerlist.dao.ComputerDAO;
import com.computerlist.model.RoomOption;
import com.computerlist.model.Computer;
import com.computerlist.model.User;
import com.computerlist.util.DBConnection;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class ComputerDAOImpl implements ComputerDAO {

    private static final Logger logger = LogManager.getLogger(ComputerDAOImpl.class);


    @Override
    public List<Computer> search(String query, String startDate, String gamingZoneId, int limit, int offset) {
        List<Computer> computers = new ArrayList<>();

        StringBuilder sql = new StringBuilder("SELECT * FROM computers WHERE 1=1");

        // –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ–º SQL –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤
        if (query != null && !query.isEmpty()) {
            sql.append(" AND LOWER(title) LIKE LOWER(?)");
        }
        if (startDate != null && !startDate.isEmpty()) {
            sql.append(" AND start_date >= ?");
        }
        if (gamingZoneId != null && !gamingZoneId.isEmpty()) {
            sql.append(" AND gamingZone_id = ?");
        }

        sql.append(" ORDER BY start_date ASC LIMIT ? OFFSET ?");

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql.toString())) {

            int paramIndex = 1;

            if (query != null && !query.isEmpty()) {
                ps.setString(paramIndex++, "%" + query + "%");
            }
            if (startDate != null && !startDate.isEmpty()) {
                ps.setDate(paramIndex++, Date.valueOf(startDate));
            }
            if (gamingZoneId != null && !gamingZoneId.isEmpty()) {
                ps.setInt(paramIndex++, Integer.parseInt(gamingZoneId));
            }


            ps.setInt(paramIndex++, limit);
            ps.setInt(paramIndex, offset);

            try (ResultSet rs = ps.executeQuery()) {
                while (rs.next()) {
                    computers.add(extractComputer(rs));
                }
            }
            logger.info("SQL: " + sql);
            logger.info("Params: query=" + query + ", startDate=" + startDate + ", gamingZoneId=" + gamingZoneId);
            logger.info("Found computers: " + computers.size());

        } catch (SQLException | ClassNotFoundException e) {
            logger.error("search computers error", e);
        }

        return computers;
    }

    @Override
    public Computer findById(int id) {
        String sql = "SELECT * FROM computers WHERE id = ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) return extractComputer(rs);
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findById error", e);
        }
        return null;
    }

    @Override
    public List<Computer> findAll() {
        List<Computer> list = new ArrayList<>();
        String sql = "SELECT * FROM computers";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql);
             ResultSet rs = ps.executeQuery()) {
            while (rs.next()) list.add(extractComputer(rs));
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findAll error", e);
        }
        return list;
    }

    @Override
    public List<Computer> findByGamingZone(int gamingZoneId) {
        List<Computer> list = new ArrayList<>();
        String sql = "SELECT * FROM computers WHERE gamingZone_id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, gamingZoneId);
            try (ResultSet rs = ps.executeQuery()) {
                while (rs.next()) list.add(extractComputer(rs));
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findByGamingZone error", e);
        }
        return list;
    }

    public List<Computer> findComputersByAdminCreated(int user_id) {
        String sql = "SELECT id, title, description, gamingZone_id, start_date, end_date, hourly_rate, creator_id FROM computers WHERE creator_id=?";
        List<Computer> list = new ArrayList<>();
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, user_id);
            try (ResultSet rs = ps.executeQuery()) {
                while (rs.next()) list.add(extractComputer(rs));
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findByGamingZone error", e);
        }
        return list;
    }

    @Override
    public boolean create(Computer computer) {
        String sql = "INSERT INTO computers (title, description, gamingZone_id, start_date, end_date, hourly_rate, creator_id) VALUES (?, ?, ?, ?, ?, ?, ?)";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setString(1, computer.getTitle());
            ps.setString(2, computer.getDescription());
            ps.setInt(3, computer.getGamingZoneId());
            ps.setDate(4, Date.valueOf(computer.getStartDate()));
            ps.setDate(5, Date.valueOf(computer.getEndDate()));
            ps.setDouble(6, computer.getHourlyRate());
            ps.setInt(7, computer.getCreator_id());
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("create computer error", e);
        }
        return false;
    }

    @Override
    public boolean update(Computer computer) {
        String sql = "UPDATE computers SET title=?, description=?, gamingZone_id=?, start_date=?, end_date=?, hourly_rate=? WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {

            ps.setString(1, computer.getTitle());
            ps.setString(2, computer.getDescription());
            ps.setInt(3, computer.getGamingZoneId());
            ps.setDate(4, Date.valueOf(computer.getStartDate()));
            ps.setDate(5, Date.valueOf(computer.getEndDate()));
            ps.setDouble(6, computer.getHourlyRate());
            ps.setInt(7, computer.getId());

            int rows = ps.executeUpdate();
            if (rows == 0) return false;

            // ‚Üê –í–æ—Ç —Ç—É—Ç –ø–æ–ª—É—á–∞–µ–º id –∏–∑ –ë–î
            try (ResultSet rs = ps.getGeneratedKeys()) {
                if (rs.next()) {
                    int generatedId = rs.getInt(1);
                    computer.setId(generatedId); // —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –æ–±—ä–µ–∫—Ç–µ
                }
            }

            return true;

        } catch (Exception e) {
            logger.error("create computer error", e);
            return false;
        }
    }

    @Override
    public boolean delete(int id) {
        String sql = "DELETE FROM computers WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("delete computer error", e);
        }
        return false;
    }
    // === –ù–û–í–´–ï –ú–ï–¢–û–î–´ –î–õ–Ø MANY-TO-MANY ===

    @Override
    public void clearRoomOptionsForComputer(int computerId) {
        String sql = "DELETE FROM computer_pc_configurations WHERE computer_id = ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, computerId);
            ps.executeUpdate();
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("clearRoomOptionsForComputer error", e);
        }
    }

    @Override
    public void linkRoomOptionsToComputer(int computerId, List<Integer> roomOptionIds) {
        if (roomOptionIds == null || roomOptionIds.isEmpty()) return;

        String sql = "INSERT INTO computer_pc_configurations (computer_id, pc_configuration_id) VALUES (?, ?)";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            for (int roomId : roomOptionIds) {
                ps.setInt(1, computerId);
                ps.setInt(2, roomId);
                ps.addBatch();
            }
            ps.executeBatch();
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("linkRoomOptionsToComputer error", e);
        }
    }
    @Override
    public int countSearchComputers(String query, String startDate, String gamingZoneId) {
        StringBuilder sql = new StringBuilder("SELECT COUNT(*) FROM computers WHERE 1=1");

        if (query != null && !query.isEmpty()) {
            sql.append(" AND LOWER(title) LIKE LOWER(?)");
        }
        if (startDate != null && !startDate.isEmpty()) {
            sql.append(" AND start_date >= ?");
        }
        if (gamingZoneId != null && !gamingZoneId.isEmpty()) {
            sql.append(" AND gamingZone_id = ?");
        }

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql.toString())) {

            int paramIndex = 1;

            if (query != null && !query.isEmpty()) {
                ps.setString(paramIndex++, "%" + query + "%");
            }
            if (startDate != null && !startDate.isEmpty()) {
                ps.setDate(paramIndex++, Date.valueOf(startDate));
            }
            if (gamingZoneId != null && !gamingZoneId.isEmpty()) {
                ps.setInt(paramIndex++, Integer.parseInt(gamingZoneId));
            }

            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) {
                    return rs.getInt(1);
                }
            }

        } catch (SQLException | ClassNotFoundException e) {
            logger.error("countSearchComputers error", e);
        }

        return 0;
    }


    private Computer extractComputer(ResultSet rs) throws SQLException {
        return new Computer(
                rs.getInt("id"),
                rs.getString("title"),
                rs.getString("description"),
                rs.getInt("gamingZone_id"),
                null, // gamingZone –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
                rs.getDate("start_date").toLocalDate(),
                rs.getDate("end_date").toLocalDate(),
                rs.getDouble("hourly_rate"),
                rs.getInt("creator_id"));
    }
}

computer-details.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<%@ include file="../fragments/header.jsp" %>

<div class="container" style="max-width: 900px; margin: 30px auto;">
    <c:if test="${not empty errorMessage}">
        <div style="color: red; background: #ffe6e6; padding: 12px; margin-bottom: 20px; border-radius: 5px;">
            ${errorMessage}
        </div>
    </c:if>

    <h1>${computer.title}</h1>

    <p><strong>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong> ${computer.gamingZone.name}</p>
    <p><strong>–î–∞—Ç—ã:</strong> ${computer.startDate} ‚Äì ${computer.endDate}</p>
    <p><strong>–¶–µ–Ω–∞ –æ—Ç:</strong> ${computer.hourlyRate} ‚ÇΩ</p>

    <h2>–û–ø–∏—Å–∞–Ω–∏–µ</h2>
    <p style="white-space: pre-wrap;">${computer.description}</p>

    <!-- –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç—É—Ä–∞ -->
    <div style="margin: 20px 0; display: flex; flex-wrap: wrap; gap: 12px; align-items: flex-start;">
        <c:forEach var="fileName" items="${photoFileNames}">
            <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/${fileName}"
                 alt="${fn:escapeXml(fileName)}"
                 onerror="this.style.display='none'"
                 style="max-width: 300px; max-height: 300px; object-fit: cover; border: 1px solid #eee; border-radius: 4px;">
        </c:forEach>
    </div>

    <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è -->
    <h2>–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è</h2>
    <c:choose>
        <c:when test="${empty roomOptions}">
            <p>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–æ–º–µ—Ä–∞—Ö –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.</p>
        </c:when>
        <c:otherwise>
            <div style="display: flex; flex-direction: column; gap: 15px;">
                <c:forEach var="room" items="${roomOptions}">
                    <div style="padding: 12px; border: 1px solid #ddd; border-radius: 6px; background: #f8f9fa;">
                        <strong>${room.roomType}</strong><br/>
                        –î–æ ${room.capacity} –≥–æ—Å—Ç–µ–π,
                        ${room.bed_count} ${room.bed_type} –∫—Ä–æ–≤–∞—Ç—å(–∏),
                        –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ü–µ–Ω—ã: ${room.priceMultiplier}
                    </div>
                </c:forEach>
            </div>
        </c:otherwise>
    </c:choose>

    <!-- –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∞) -->
    <c:if test="${not empty sessionScope.user && sessionScope.user.id == computer.creator_id}">
        <div style="margin: 25px 0; text-align: center;">
            <a href="${pageContext.request.contextPath}/admin/edit-computer?id=${computer.id}"
               style="padding: 10px 20px; background-color: #ffc107; color: #212529; text-decoration: none; border-radius: 5px; font-weight: bold;">
                –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ä
            </a>
        </div>
    </c:if>

    <!-- –§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <h2>–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ä</h2>
    <form method="post" style="background: #f1f3f5; padding: 20px; border-radius: 8px;">
        <input type="hidden" name="computerId" value="${computer.id}" />

        <div style="margin-bottom: 15px;">
            <label><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π:</strong></label><br/>
            <input type="number" name="peopleCount" min="1" value="1" required
                   style="padding: 8px; width: 100%; max-width: 200px;" />
        </div>

        <div style="margin-bottom: 15px;">
            <label><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç:</strong></label><br/>
            <input type="number" name="roomsCount" min="1" value="1" required
                   style="padding: 8px; width: 100%; max-width: 200px;" />
        </div>

        <button type="submit"
                style="padding: 10px 25px; background-color: #28a745; color: white; border: none; border-radius: 5px; font-size: 16px; cursor: pointer;">
            –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
        </button>
    </form>

    <div style="margin-top: 30px; text-align: center;">
        <a href="${pageContext.request.contextPath}/computers" style="color: #6c757d; text-decoration: none;">‚Üê –í—Å–µ —Ç—É—Ä—ã</a>
    </div>
</div>

<%@ include file="../fragments/footer.jsp" %>

ComputerDetailsServlet.java

package com.computerlist.controller.Computer;

import com.computerlist.model.Reservation;
import com.computerlist.model.RoomOption;
import com.computerlist.model.Computer;
import com.computerlist.model.User;
import com.computerlist.service.ReservationService;
import com.computerlist.service.RoomOptionService;
import com.computerlist.service.ComputerService;
import com.computerlist.service.impl.ReservationServiceImpl;
import com.computerlist.service.impl.RoomOptionServiceImpl;
import com.computerlist.service.impl.ComputerServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;

import java.io.File;
import java.io.IOException;
import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;

@WebServlet("/computers")
public class ComputerDetailsServlet extends HttpServlet {

    private ComputerService computerService;
    private RoomOptionService roomOptionService;
    private ReservationService reservationService;

    @Override
    public void init() {
        computerService = new ComputerServiceImpl();
        roomOptionService = new RoomOptionServiceImpl();
        reservationService = new ReservationServiceImpl();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        String idParam = req.getParameter("id");

        if (idParam == null || idParam.trim().isEmpty()) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "Computer ID is required");
            return;
        }
        String realPath = req.getServletContext().getRealPath("/img/computer/" + idParam);
        File photoDir = new File(realPath);
        try {
            int computerId = Integer.parseInt(idParam);
            Computer computer = computerService.getComputerById(computerId);

            if (computer == null) {
                resp.sendError(HttpServletResponse.SC_NOT_FOUND, "Computer not found");
                return;
            }
            List<String> photoFileNames = new ArrayList<>();

            if (photoDir.exists() && photoDir.isDirectory()) {
                File[] files = photoDir.listFiles((dir, name) -> {
                    String lower = name.toLowerCase();
                    return lower.endsWith(".jpg") || lower.endsWith(".jpeg") ||
                            lower.endsWith(".png") || lower.endsWith(".webp");
                });

                if (files != null) {
                    for (File file : files) {
                        photoFileNames.add(file.getName());
                    }
                }
            }

            req.setAttribute("photoFileNames", photoFileNames);

            List<RoomOption> roomOptions = roomOptionService.getRoomOptionsByComputer(computerId);

            req.setAttribute("computer", computer);
            req.setAttribute("roomOptions", roomOptions);

            req.getRequestDispatcher("/templates/computer/computer-details.jsp").forward(req, resp);

        } catch (NumberFormatException e) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "Invalid computer ID format");
        }
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ user.id —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å–µ—Å—Å–∏–∏)
        if (session == null || session.getAttribute("user") == null) {
            resp.sendRedirect(req.getContextPath() + "/login?error=unauthorized");
            return;
        }

        // –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å–µ—Å—Å–∏–∏
        User user = (User) session.getAttribute("user");
        int userId = user.getId();

        // –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–æ—Ä–º—ã
        String computerIdParam = req.getParameter("computerId");
        String peopleCountParam = req.getParameter("peopleCount");
        String roomsCountParam = req.getParameter("roomsCount");

        if (computerIdParam == null || peopleCountParam == null || roomsCountParam == null) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "Missing required reservation parameters");
            return;
        }

        try {
            int computerId = Integer.parseInt(computerIdParam);
            int peopleCount = Integer.parseInt(peopleCountParam);
            int roomsCount = Integer.parseInt(roomsCountParam);

            // –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
            if (peopleCount <= 0 || roomsCount <= 0) {
                req.setAttribute("errorMessage", "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π –∏ –∫–æ–º–Ω–∞—Ç –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ 0.");
                handleGetAndShowError(req, resp, computerId);
                return;
            }

            // –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            Reservation reservation = new Reservation();
            reservation.setUserId(userId);
            reservation.setComputerId(computerId);
            reservation.setPeopleCount(peopleCount);
            reservation.setRoomsCount(roomsCount);
            reservation.setReservationDate(LocalDateTime.now());
            // totalPrice –∏ status –±—É–¥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ ReservationServiceImpl

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –±—Ä–æ–Ω—å
            if (reservationService.createReservation(reservation)) {
                // –£—Å–ø–µ—à–Ω–æ ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–ª–∏ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
                resp.sendRedirect(req.getContextPath() + "/profile?reservation=success");
            } else {
                req.setAttribute("errorMessage", "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.");
                handleGetAndShowError(req, resp, computerId);
            }

        } catch (NumberFormatException e) {
            req.setAttribute("errorMessage", "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã.");
            handleGetAndShowError(req, resp, Integer.parseInt(computerIdParam));
        }
    }

    // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥: –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç—É—Ä –∏ –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
    private void handleGetAndShowError(HttpServletRequest req, HttpServletResponse resp, int computerId) throws ServletException, IOException {
        Computer computer = computerService.getComputerById(computerId);
        List<RoomOption> roomOptions = roomOptionService.getRoomOptionsByComputer(computerId);

        req.setAttribute("computer", computer);
        req.setAttribute("roomOptions", roomOptions);
        req.getRequestDispatcher("/templates/computer/computer-details.jsp").forward(req, resp);
    }
}

computer-results.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>

<c:if test="${not empty computers}">
    <div class="computers-grid" style="display: flex; flex-direction: column; gap: 25px; margin: 20px 0;">
        <c:forEach var="computer" items="${computers}">
            <div style="border: 1px solid #e0e0e0; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 6px rgba(0,0,0,0.1); background: white;">
                <!-- –§–æ—Ç–æ (–ø–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å photo1.jpg) -->
                <div style="height: 200px; background: #f5f5f5; display: flex; align-items: center; justify-content: center; overflow: hidden;">
                    <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/home.jpg"
                         onerror="this.style.display='none'"
                         style="width: 100%; height: 100%; object-fit: cover;"
                         alt="${computer.title}">
                </div>

                <div style="padding: 20px;">
                    <h2 style="margin-top: 0; color: #333;">${computer.title}</h2>

                    <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 15px; font-size: 14px; color: #555;">
                        <span>üìç ${computer.gamingZone.name}</span>
                        <span>üìÖ ${computer.startDate} ‚Äì ${computer.endDate}</span>
                        <span>üí∞ –û—Ç ${computer.hourlyRate} ‚ÇΩ</span>
                    </div>

                    <!-- –û–ø–∏—Å–∞–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 3 —Å–ª–æ–≤–∞) -->
                    <div style="margin: 15px 0; color: #333; line-height: 1.5;">
                        <c:choose>
                            <c:when test="${not empty computer.description}">
                                <c:set var="words" value="${fn:split(computer.description, ' ')}"/>
                                <c:choose>
                                    <c:when test="${fn:length(words) > 3}">
                                        <p style="margin: 0;">
                                            ${words[0]} ${words[1]} ${words[2]}...
                                        </p>
                                    </c:when>
                                    <c:otherwise>
                                        <p style="margin: 0;">${computer.description}</p>
                                    </c:otherwise>
                                </c:choose>
                            </c:when>
                            <c:otherwise>
                                <p style="margin: 0; color: #888;">–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.</p>
                            </c:otherwise>
                        </c:choose>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∞ -->
                    <div style="text-align: right; margin-top: 15px;">
                        <a href="${pageContext.request.contextPath}/computers?id=${computer.id}"
                           style="padding: 8px 16px; background: #007bff; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">
                            –ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí
                        </a>
                    </div>
                </div>
            </div>
        </c:forEach>
    </div>
</c:if>

<c:if test="${empty computers}">
    <div style="text-align: center; padding: 40px; color: #666; font-size: 18px;">
        <p>üïó –¢—É—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞.</p>
    </div>
</c:if>

<!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
<c:if test="${totalPages > 1}">
    <div style="margin: 30px 0; display: flex; justify-content: center; align-items: center; gap: 12px; flex-wrap: wrap;">
        <c:if test="${currentPage > 1}">
            <a href="#" class="pagination-link" data-page="${currentPage - 1}"
               style="padding: 8px 14px; text-decoration: none; background: #f1f3f5; color: #007bff; border-radius: 5px;">‚Üê –ù–∞–∑–∞–¥</a>
        </c:if>

        <span style="min-width: 120px; text-align: center; font-weight: 500;">
            –°—Ç—Ä–∞–Ω–∏—Ü–∞ ${currentPage} –∏–∑ ${totalPages}
        </span>

        <c:if test="${currentPage < totalPages}">
            <a href="#" class="pagination-link" data-page="${currentPage + 1}"
               style="padding: 8px 14px; text-decoration: none; background: #f1f3f5; color: #007bff; border-radius: 5px;">–í–ø–µ—Ä—ë–¥ ‚Üí</a>
        </c:if>
    </div>
</c:if>

computer-search.js

document.addEventListener("DOMContentLoaded", () => {
    const queryInput = document.getElementById("query");
    const suggestions = document.getElementById("computerSuggestions");
    const searchForm = document.getElementById("searchForm");
    const resultsDiv = document.getElementById("results");

    // --- AJAX –∞–≤—Ç–æ–ø–æ–¥—Å–∫–∞–∑–∫–∏ ---
    queryInput.addEventListener("input", function () {
        const query = this.value.trim();
        if (query.length < 2) {
            suggestions.style.display = "none";
            return;
        }

        const url = window.location.origin + "/computers/suggest?query=" + encodeURIComponent(query);

        fetch(url)
            .then(res => res.json())
            .then(data => {
                suggestions.innerHTML = "";
                data.forEach(title => {
                    const div = document.createElement("div");
                    div.textContent = title;
                    div.style.padding = "5px";
                    div.style.cursor = "pointer";
                    div.onclick = () => {
                        queryInput.value = title;
                        suggestions.style.display = "none";
                    };
                    suggestions.appendChild(div);
                });
                suggestions.style.display = data.length ? "block" : "none";
            })
            .catch(err => console.error("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ–ø–æ–¥—Å–∫–∞–∑–∫–∏:", err));
    });

    // --- AJAX –ø–æ–∏—Å–∫ ---
    searchForm.addEventListener("submit", function (e) {
        e.preventDefault();
        loadResults(1); // ‚Üê –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é
    });
});

document.addEventListener("click", function (e) {
    if (e.target.classList.contains("page-btn")) {
        const page = e.target.dataset.page;
        loadResults(page);
    }
});




function loadResults(page = 1) {
    const params = new URLSearchParams(new FormData(document.getElementById("searchForm")));
    params.append("ajax", "1");
    params.append("page", page);

    fetch(contextPath + "/computers/search?" + params.toString())
        .then(r => r.text())
        .then(html => document.querySelector("#results").innerHTML = html);
}


computer-search.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ include file="/templates/fragments/header.jsp" %>

<div class="container" style="max-width: 900px; margin: 30px auto;">
    <h2>–ü–æ–∏—Å–∫ —Ç—É—Ä–æ–≤</h2>

    <form id="searchForm" method="get" action="${pageContext.request.contextPath}/computers/search">
        <div style="position: relative; margin-bottom: 15px;">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–∞ –∏–ª–∏ –≥–æ—Ä–æ–¥–∞:</label><br>
            <input type="text" id="query" name="query" style="width: 100%; padding: 8px;" autocomplete="off">
            <div id="computerSuggestions"
                 style="position: absolute; z-index: 1000; background: white; border: 1px solid #ccc;
                        width: 100%; max-height: 200px; overflow-y: auto; display: none;">
            </div>
        </div>

        <div style="margin-top: 15px;">
            <label>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:</label><br>
            <input type="date" name="startDate" style="width: 100%; padding: 8px;">
        </div>

        <div style="position: relative; margin-top: 15px;">
            <label><strong>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong></label>
            <input type="text"
                   id="gamingZoneInput"
                   placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –≥–æ—Ä–æ–¥ –∏–ª–∏ —Å—Ç—Ä–∞–Ω—É..."
                   style="width: 100%; padding: 8px; margin-top: 5px;"
                   autocomplete="off">
            <input type="hidden" name="gamingZoneId" id="gamingZoneId">
            <div id="gamingZoneSuggestions"
                 style="position: absolute; z-index: 1000; background: white; border: 1px solid #ccc;
                        width: 100%; max-height: 200px; overflow-y: auto; display: none;">
            </div>
        </div>

        <button type="submit" style="margin-top: 20px; padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px;">
            –ù–∞–π—Ç–∏
        </button>
    </form>

    <hr>

    <div id="results">
        <%-- AJAX –≤—Å—Ç–∞–≤–∏—Ç —Å—é–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã --%>
    </div>
</div>

<script>
    const contextPath = '${pageContext.request.contextPath}';
</script>
<script src="${pageContext.request.contextPath}/js/gamingZone.js"></script>
<script src="${pageContext.request.contextPath}/js/computer-search.js"></script>

<%@ include file="/templates/fragments/footer.jsp" %>

ComputerSearchServlet.java

package com.computerlist.controller.Computer;

import com.computerlist.model.Computer;
import com.computerlist.service.GamingZoneService;
import com.computerlist.service.ComputerService;
import com.computerlist.service.impl.GamingZoneServiceImpl;
import com.computerlist.service.impl.ComputerServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;

import java.io.IOException;
import java.util.List;

@WebServlet("/computers/search")
public class ComputerSearchServlet extends HttpServlet {

    private ComputerService computerService;
    private GamingZoneService gamingZoneService = new GamingZoneServiceImpl();

    @Override
    public void init() {
        computerService = new ComputerServiceImpl();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {

        String ajax = req.getParameter("ajax");
        String query = req.getParameter("query");
        String startDate = req.getParameter("startDate");


        String gamingZoneIdParam = req.getParameter("gamingZoneId");
        Integer gamingZoneId = null;
        if (gamingZoneIdParam != null && !gamingZoneIdParam.isEmpty()) {
            try {
                gamingZoneId = Integer.parseInt(gamingZoneIdParam);
            } catch (NumberFormatException ignored) {
                // –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º, –µ—Å–ª–∏ –Ω–µ —á–∏—Å–ª–æ(unreal)
            }
        }

        int page = parseInt(req.getParameter("page"), 1);
        int pageSize = 10;

        List<Computer> computers = computerService.searchComputers(
                query,
                startDate,
                gamingZoneId != null ? gamingZoneId.toString() : null,
                page,
                pageSize
        );

        int totalComputers = computerService.countSearchComputers(
                query,
                startDate,
                gamingZoneId != null ? gamingZoneId.toString() : null
        );
        int totalPages = (int) Math.ceil((double) totalComputers / pageSize);

        req.setAttribute("computers", computers);
        req.setAttribute("page", page);
        req.setAttribute("totalPages", totalPages);
        req.setAttribute("currentPage", page);
        req.setAttribute("gamingZones", gamingZoneService.getAllGamingZones());


        if ("1".equals(ajax)) {
            req.getRequestDispatcher("/templates/computer/computer-results.jsp").forward(req, resp);

        } else {
            req.getRequestDispatcher("/templates/computer/computer-search.jsp").forward(req, resp);
        }
    }

    private int parseInt(String s, int def) {
        try { return Integer.parseInt(s); } catch (Exception e) { return def; }
    }
}

ComputerService.java

package com.computerlist.service;

import com.computerlist.model.Computer;

import java.sql.SQLException;
import java.util.List;

public interface ComputerService {
    public List<Computer> searchComputers(String query, String startDate, String gamingZoneId, int page, int limit);
    public List<Computer> getComputersByAdminCreatedId(int user_id);
    Computer getComputerById(int id);
    List<Computer> getAllComputers();
    List<Computer> getComputersByGamingZone(int gamingZoneId);
    boolean createComputer(Computer computer);
    boolean updateComputer(Computer computer) throws SQLException, ClassNotFoundException;
    boolean deleteComputer(int id);
    public int countSearchComputers(String query, String startDate, String gamingZoneId);
}

ComputerServiceImpl.java

package com.computerlist.service.impl;

import com.computerlist.dao.ComputerDAO;
import com.computerlist.dao.GamingZoneDAO;
import com.computerlist.dao.impl.RoomOptionDAOImpl;
import com.computerlist.dao.impl.ComputerDAOImpl;
import com.computerlist.dao.impl.GamingZoneDAOImpl;
import com.computerlist.model.RoomOption;
import com.computerlist.model.Computer;
import com.computerlist.model.GamingZone;
import com.computerlist.model.User;
import com.computerlist.service.ComputerService;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

public class ComputerServiceImpl implements ComputerService {

    private final ComputerDAOImpl computerDAO = new ComputerDAOImpl();
    private final GamingZoneDAO gamingZoneDAO = new GamingZoneDAOImpl();
    private final RoomOptionDAOImpl roomOptionDAO = new RoomOptionDAOImpl();

    public List<Computer> searchComputers(String query, String startDate, String gamingZoneId, int page, int limit) {
        int offset = (page - 1) * limit;
        return computerDAO.search(query, startDate, gamingZoneId, limit, offset);
    }

    public List<RoomOption> findAllRoomsByComputerId(int computer_id) {
        List<RoomOption> list = roomOptionDAO.findAllRoomsByComputerId(computer_id);
        return list;
    }

    @Override
    public Computer getComputerById(int id) {
        Computer computer = computerDAO.findById(id);
        if (computer != null) {
            GamingZone dest = gamingZoneDAO.findById(computer.getGamingZoneId());
            computer.setGamingZone(dest);
        }
        return computer;
    }

    @Override
    public List<Computer> getAllComputers() {
        List<Computer> computers = computerDAO.findAll();
        for (Computer t : computers) {
            t.setGamingZone(gamingZoneDAO.findById(t.getGamingZoneId()));
        }
        return computers;
    }

    @Override
    public List<Computer> getComputersByGamingZone(int gamingZoneId) {
        return computerDAO.findByGamingZone(gamingZoneId);
    }

    public List<Computer> getComputersByAdminCreatedId(int user_id) {
        return computerDAO.findComputersByAdminCreated(user_id);
    }

    @Override
    public boolean createComputer(Computer computer) {
        return computerDAO.create(computer);
    }

    @Override
    public boolean updateComputer(Computer computer) throws SQLException, ClassNotFoundException {
        return computerDAO.update(computer);
    }

    @Override
    public boolean deleteComputer(int id) {
        return computerDAO.delete(id);
    }

    public int countSearchComputers(String query, String startDate, String gamingZoneId) {
        return computerDAO.countSearchComputers(query,startDate, gamingZoneId);
    }
}


ComputerSuggestServlet.java

package com.computerlist.controller.Computer;

import com.computerlist.model.Computer;
import com.computerlist.service.ComputerService;
import com.computerlist.service.impl.ComputerServiceImpl;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;

import java.io.IOException;
import java.util.List;

@WebServlet("/computers/suggest")
public class ComputerSuggestServlet extends HttpServlet {
    private final ComputerService computerService = new ComputerServiceImpl();

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        String query = req.getParameter("query");
        List<Computer> all = computerService.getAllComputers();

        List<String> suggestions = all.stream()
                .map(Computer::getTitle)
                .filter(t -> t.toLowerCase().contains(query.toLowerCase()))
                .distinct()
                .limit(10)
                .toList();

        resp.setContentType("application/json;charset=UTF-8");
        resp.getWriter().write(new org.json.JSONArray(suggestions).toString());
    }
}


create-computer.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ include file="/templates/fragments/header.jsp" %>
<div class="container" style="max-width: 800px; margin: 30px auto;">
    <h2 style="text-align: center;">–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–≤–æ–π –ü–ö</h2>
    <c:if test="${not empty errorMessage}">
        <div style="color: red; background: #ffe6e6; padding: 10px; margin-bottom: 20px; border-radius: 4px;">
            ${errorMessage}
        </div>
    </c:if>
    <form method="post" enctype="multipart/form-data" style="display: flex; flex-direction: column; gap: 15px;">
        <div>
            <label><strong>–ù–∞–∑–≤–∞–Ω–∏–µ –ü–ö:</strong></label>
            <input type="text" name="title" required style="width: 100%; padding: 8px;" value="${param.title}">
        </div>
        <div>
            <label><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong></label>
            <textarea name="description" rows="4" style="width: 100%; padding: 8px;">${param.description}</textarea>
        </div>
        <div style="position: relative;">
            <label><strong>–ò–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞:</strong></label>
            <input type="text"
                   id="gamingZoneInput"
                   placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–æ–Ω—ã..."
                   style="width: 100%; padding: 8px; margin-top: 5px;"
                   autocomplete="off">
            <input type="hidden" name="gamingZoneId" id="gamingZoneId" required>
            <div id="gamingZoneSuggestions"
                 style="position: absolute; z-index: 1000; background: white; border: 1px solid #ccc;
                        width: 100%; max-height: 200px; overflow-y: auto; display: none;">
            </div>
        </div>
        <div style="display: flex; gap: 15px;">
            <div style="flex: 1;">
                <label><strong>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (—Å):</strong></label>
                <input type="time" name="startTime" required style="width: 100%; padding: 8px;" value="${param.startTime}">
            </div>
            <div style="flex: 1;">
                <label><strong>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (–¥–æ):</strong></label>
                <input type="time" name="endTime" required style="width: 100%; padding: 8px;" value="${param.endTime}">
            </div>
        </div>
        <div>
            <label><strong>–¶–µ–Ω–∞ –∑–∞ —á–∞—Å (‚ÇΩ):</strong></label>
            <input type="number" step="0.01" name="hourlyRate" required min="0" style="width: 100%; padding: 8px;" value="${param.hourlyRate}">
        </div>
        <!-- === –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ü–ö === -->
        <div>
            <label><strong>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ü–ö:</strong></label>
            <div style="display: flex; flex-wrap: wrap; gap: 12px; margin-top: 8px;">
                <c:forEach var="config" items="${allRoomOptions}">
                    <label style="display: flex; align-items: center; gap: 6px; background: #f8f9fa; padding: 10px; border-radius: 6px; border: 1px solid #e9ecef;">
                        <input type="checkbox" name="pcConfigurations" value="${config.id}"
                               <c:if test="${paramValues.pcConfigurations != null}">
                                   <c:forEach var="selectedId" items="${paramValues.pcConfigurations}">
                                       <c:if test="${selectedId == config.id}">checked</c:if>
                                   </c:forEach>
                               </c:if>>
                        <span>
                            <strong>${config.cpu} / ${config.gpu}</strong><br/>
                            <small>${config.ram} –ì–ë –û–ó–£, ${config.storage} –•—Ä–∞–Ω–∏–ª–∏—â–µ</small>
                        </span>
                    </label>
                </c:forEach>
            </div>
            <small style="color: #6c757d;">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</small>
        </div>
        <!-- === –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ === -->
        <div>
            <label><strong>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ü–ö (–º–∞–∫—Å. 5 —Ñ–∞–π–ª–æ–≤):</strong></label>
            <input type="file" name="photos" accept=".jpg,.jpeg,.png" multiple
                   style="width: 100%; padding: 8px;" />
            <small style="color: #6c757d;">
                –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è JPG, PNG. –ü–µ—Ä–≤–æ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ —Ñ–æ—Ç–æ —Å—Ç–∞–Ω–µ—Ç –æ–±–ª–æ–∂–∫–æ–π (<code>home.jpg</code>).
            </small>
        </div>
        <div style="text-align: center; margin-top: 20px;">
            <button type="submit" style="padding: 10px 25px; background: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer;">
                –î–æ–±–∞–≤–∏—Ç—å –ü–ö
            </button>
            <a href="${pageContext.request.contextPath}/manager/profile"
               style="display: inline-block; margin-left: 15px; padding: 10px 15px; text-decoration: none; color: #6c757d; border: 1px solid #ccc; border-radius: 5px;">
                –û—Ç–º–µ–Ω–∞
            </a>
        </div>
    </form>
</div>
<script>
    const contextPath = '${pageContext.request.contextPath}';
</script>
<script src="${pageContext.request.contextPath}/js/gamingZone.js"></script>
<%@ include file="/templates/fragments/footer.jsp" %>

CreateComputerServlet.java

package com.computerlist.controller.Admin;

import com.computerlist.model.GamingZone;
import com.computerlist.model.RoomOption;
import com.computerlist.model.Computer;
import com.computerlist.service.GamingZoneService;
import com.computerlist.service.RoomOptionService;
import com.computerlist.service.ComputerService;
import com.computerlist.service.UserService;
import com.computerlist.service.impl.GamingZoneServiceImpl;
import com.computerlist.service.impl.RoomOptionServiceImpl;
import com.computerlist.service.impl.ComputerServiceImpl;
import com.computerlist.service.impl.UserServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.MultipartConfig;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.*;

import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.nio.file.StandardCopyOption;
import java.time.LocalDate;
import java.util.Collection;
import java.util.List;

@MultipartConfig(
        fileSizeThreshold = 1024 * 1024, // 1 MB
        maxFileSize = 5 * 1024 * 1024,    // 5 MB –Ω–∞ —Ñ–∞–π–ª
        maxRequestSize = 25 * 1024 * 1024 // 25 MB –≤—Å–µ–≥–æ
)
@WebServlet("/admin/create-computer")
public class CreateComputerServlet extends HttpServlet {

    private ComputerService computerService = new ComputerServiceImpl();
    private GamingZoneService gamingZoneService = new GamingZoneServiceImpl();
    private UserService userService = new UserServiceImpl();
    private RoomOptionService roomOptionService = new RoomOptionServiceImpl();

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        if (session == null || session.getAttribute("user") == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }

        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–ª—è –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
        List<GamingZone> gamingZones = gamingZoneService.getAllGamingZones();
        req.setAttribute("gamingZones", gamingZones);
        List<RoomOption> allRoomOptions = roomOptionService.getAllRoomOptions();
        req.setAttribute("allRoomOptions", allRoomOptions);

        req.getRequestDispatcher("/templates/admin/create-computer.jsp").forward(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        if (session == null || session.getAttribute("user") == null) {
            resp.sendError(HttpServletResponse.SC_UNAUTHORIZED);
            return;
        }

        Object userObj = session.getAttribute("user");
        int adminId = (userObj instanceof com.computerlist.model.User)
                ? ((com.computerlist.model.User) userObj).getId()
                : (Integer) userObj;

        try {
            String title = req.getParameter("title");
            String description = req.getParameter("description");
            String gamingZoneIdStr = req.getParameter("gamingZoneId");
            String startDateStr = req.getParameter("startDate");
            String endDateStr = req.getParameter("endDate");
            String hourlyRateStr = req.getParameter("hourlyRate");

            if (title == null || title.trim().isEmpty() ||
                    gamingZoneIdStr == null || startDateStr == null || endDateStr == null || hourlyRateStr == null) {
                req.setAttribute("errorMessage", "–í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.");
                forwardWithError(req, resp);
                return;
            }

            int gamingZoneId = Integer.parseInt(gamingZoneIdStr);
            LocalDate startDate = LocalDate.parse(startDateStr);
            LocalDate endDate = LocalDate.parse(endDateStr);
            double hourlyRate = Double.parseDouble(hourlyRateStr);

            if (startDate.isAfter(endDate)) {
                req.setAttribute("errorMessage", "–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞.");
                forwardWithError(req, resp);
                return;
            }

            Computer computer = new Computer();
            computer.setTitle(title.trim());
            computer.setDescription(description != null ? description.trim() : "");
            computer.setGamingZoneId(gamingZoneId);
            computer.setStartDate(startDate);
            computer.setEndDate(endDate);
            computer.setHourlyRate(hourlyRate);
            computer.setCreator_id(adminId);

            // –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞—ë–º —Ç—É—Ä (–±–µ–∑ —Ñ–æ—Ç–æ)
            if (computerService.createComputer(computer)) {
                int computerId = computer.getId();

                // –ü–∞–ø–∫–∞ –¥–ª—è —Ñ–æ—Ç–æ: webapp/img/computer/{id}
                String uploadDir = req.getServletContext().getRealPath("/img/computer/" + computerId);
                File uploadFolder = new File(uploadDir);
                if (!uploadFolder.exists()) {
                    uploadFolder.mkdirs();
                }

                // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —á–∞—Å—Ç–∏ —Å –∏–º–µ–Ω–µ–º "photos"
                Collection<Part> photoParts = req.getParts().stream()
                        .filter(part -> "photos".equals(part.getName()))
                        .toList();

                int count = 0;
                for (Part photoPart : photoParts) {
                    if (photoPart.getSize() == 0) continue;
                    if (count >= 5) break; // –ú–∞–∫—Å–∏–º—É–º 5

                    String originalFileName = Paths.get(photoPart.getSubmittedFileName()).getFileName().toString();
                    String targetFileName;

                    if (count == 0) {
                        // –ü–µ—Ä–≤–æ–µ —Ñ–æ—Ç–æ ‚Üí home.jpg
                        targetFileName = "home.jpg";
                    } else {
                        targetFileName = sanitizeFileName(originalFileName);
                        // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É –∏ –∑–∞–º–µ–Ω—è–µ–º –ø—Ä–æ–±–µ–ª—ã
                        if (targetFileName.length() > 50) {
                            String ext = "";
                            int dot = targetFileName.lastIndexOf('.');
                            if (dot > 0) {
                                ext = targetFileName.substring(dot);
                                targetFileName = targetFileName.substring(0, dot);
                            }
                            targetFileName = targetFileName.substring(0, Math.min(40, targetFileName.length())) + ext;
                        }
                    }

                    Path targetPath = Paths.get(uploadDir, targetFileName);
                    try {
                        Files.copy(photoPart.getInputStream(), targetPath, StandardCopyOption.REPLACE_EXISTING);
                    } catch (IOException e) {
                        // –õ–æ–≥–∏—Ä—É–µ–º, –Ω–æ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ–º ‚Äî —Ç—É—Ä —É–∂–µ —Å–æ–∑–¥–∞–Ω
                        e.printStackTrace();
                    }

                    count++;
                }

                resp.sendRedirect(req.getContextPath() + "/admin/profile?created=success");
            } else {
                req.setAttribute("errorMessage", "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Ç—É—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.");
                forwardWithError(req, resp);
            }

        } catch (Exception e) {
            req.setAttribute("errorMessage", "–û—à–∏–±–∫–∞ –≤ –¥–∞–Ω–Ω—ã—Ö: " + e.getMessage());
            forwardWithError(req, resp);
        }
    }

    private void forwardWithError(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.setAttribute("gamingZones", gamingZoneService.getAllGamingZones());
        req.getRequestDispatcher("/templates/admin/create-computer.jsp").forward(req, resp);
    }
    private String sanitizeFileName(String name) {
        if (name == null || name.isEmpty()) {
            return "image.jpg";
        }
        // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
        return name.replaceAll("[^a-zA-Z0-9._-]", "_");
    }
}

DBConnection.java

package com.computerlist.util;

import java.sql.Connection;
import java.sql.SQLException;

import com.zaxxer.hikari.HikariConfig;
import com.zaxxer.hikari.HikariDataSource;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import javax.sql.DataSource;

public class DBConnection {

    final static Logger logger = LogManager.getLogger(DBConnection.class);

    private static DataSource dataSource;

    public static void init() throws ClassNotFoundException {
        Class.forName("org.postgresql.Driver");

        HikariConfig config = new HikariConfig();
        config.setJdbcUrl("jdbc:postgresql://localhost:5432/computermaster");
        config.setUsername("postgres");
        config.setPassword("postgres");
        config.setConnectionTimeout(50000); // –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
        config.setMaximumPoolSize(10);
        dataSource = new HikariDataSource(config);

        logger.debug("dataSource —Å–æ–∑–¥–∞–ª—Å—è —É—Å–ø–µ—à–Ω–æ");
    }

    public static Connection getConnection() throws SQLException, ClassNotFoundException {
        if (dataSource != null) {
            logger.debug("–æ—Ç–¥–∞–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ");
            return dataSource.getConnection();
        } else {
            try {
                init();
                return dataSource.getConnection();
            } catch (SQLException e) {
                throw new RuntimeException(e);
            }
        }
    }

    public static void destroy() {
        ((HikariDataSource)dataSource).close();
    }

}


DBContextListener.java

package com.computerlist.util;

import jakarta.servlet.ServletContextEvent;
import jakarta.servlet.ServletContextListener;
import jakarta.servlet.annotation.WebListener;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;
import com.computerlist.util.DBConnection; // –ò–º–ø–æ—Ä—Ç –≤–∞—à–µ–≥–æ –∫–ª–∞—Å—Å–∞ DBConnection

import java.sql.Connection;
import java.sql.SQLException;
import java.sql.Statement;

@WebListener
public class DBContextListener implements ServletContextListener {

    // –õ–æ–≥–≥–µ—Ä –¥–ª—è —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞
    final static Logger logger = LogManager.getLogger(DBContextListener.class);

    // SQL-–∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î (–ü—Ä–∏–º–µ—Ä—ã, –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã)
    private static final String CREATE_USERS_TABLE = "CREATE TABLE IF NOT EXISTS users (id SERIAL PRIMARY KEY, name VARCHAR(50) NOT NULL, email VARCHAR(100) UNIQUE NOT NULL, password_hash VARCHAR(64) NOT NULL, role_id INT NOT NULL)";
    private static final String CREATE_TOURS_TABLE = "CREATE TABLE IF NOT EXISTS computers (id SERIAL PRIMARY KEY, title VARCHAR(255) NOT NULL, description TEXT, gamingZone_id INT NOT NULL REFERENCES gaming_zones(id), start_date DATE NOT NULL, end_date DATE NOT NULL, hourly_rate DECIMAL(10,2) NOT NULL, creator_id INT NOT NULL REFERENCES users(id))";
    private static final String CREATE_GAMING_ZONES_TABLE = "CREATE TABLE IF NOT EXISTS gaming_zones (id SERIAL PRIMARY KEY, name VARCHAR(100) NOT NULL, location VARCHAR(255) NOT NULL)";


    public void contextInitialized(ServletContextEvent sce) {
        logger.debug("contextInitialized: Starting database initialization...");
        try {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º HikariCP DataSource —á–µ—Ä–µ–∑ –≤–∞—à –∫–ª–∞—Å—Å
            DBConnection.init();

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î (—Å–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—ã, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç)
            initializeDatabaseSchema();

        } catch (ClassNotFoundException | SQLException e) {
            logger.atError().withThrowable(e).log("Failed to initialize database schema or connection pool");
            e.printStackTrace();
            // –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            throw new RuntimeException("Failed to initialize database connection or schema", e);
        }
    }

    public void contextDestroyed(ServletContextEvent sce) {
        logger.debug("contextDestroyed: Closing database connection pool.");
        // –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
        DBConnection.destroy();
    }

    /**
     * –ú–µ—Ç–æ–¥ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è DDL-—Å–∫—Ä–∏–ø—Ç–æ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
     * –ó–∞–º–µ–Ω–∏—Ç–µ SQL-–∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ –Ω–∞ —Ç–µ, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –≤–∞—à–µ–π –ë–î computermaster.
     */
    private void initializeDatabaseSchema() throws SQLException, ClassNotFoundException {
        // –ü–æ–ª—É—á–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–∑ –ø—É–ª–∞
        try (Connection conn = DBConnection.getConnection();
             Statement stmt = conn.createStatement()) {

            logger.info("Executing DDL statements to create database schema (if not exists)...");

            // –í—ã–ø–æ–ª–Ω—è–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ç–∞–±–ª–∏—Ü
            stmt.execute(CREATE_GAMING_ZONES_TABLE);
            stmt.execute(CREATE_USERS_TABLE);
            stmt.execute(CREATE_TOURS_TABLE);

            logger.info("Database schema initialized successfully.");
        }
    }

    private void dropAllTables(Connection conn) throws SQLException {
        Statement stmt = conn.createStatement();
        stmt.execute("DROP TABLE IF EXISTS bookings CASCADE");
        stmt.execute("DROP TABLE IF EXISTS computer_room_options CASCADE");
        stmt.execute("DROP TABLE IF EXISTS computers CASCADE");
        stmt.execute("DROP TABLE IF EXISTS destinations CASCADE");
        stmt.execute("DROP TABLE IF EXISTS room_options CASCADE");
        stmt.execute("DROP TABLE IF EXISTS users CASCADE");
        stmt.execute("DROP TABLE IF EXISTS roles CASCADE");
    }
}

DeleteComputerServlet.java

package com.computerlist.controller.Admin;

import com.computerlist.model.User;
import com.computerlist.service.ComputerService;
import com.computerlist.service.impl.ComputerServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;

import java.io.IOException;

@WebServlet("/admin/delete-computer")
public class DeleteComputerServlet extends HttpServlet {

    private ComputerService computerService = new ComputerServiceImpl();

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        if (session == null || session.getAttribute("user") == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }

        User currentUser = (User) session.getAttribute("user");
        String idParam = req.getParameter("id");

        if (idParam == null) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "ID —Ç—É—Ä–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω");
            return;
        }

        try {
            int computerId = Integer.parseInt(idParam);
            var computer = computerService.getComputerById(computerId);

            if (computer == null) {
                resp.sendError(HttpServletResponse.SC_NOT_FOUND, "–¢—É—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω");
                return;
            }

            // –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å
            if (computer.getCreator_id() != currentUser.getId()) {
                resp.sendRedirect(req.getContextPath() + "/admin/profile");
                return;
            }

            if (computerService.deleteComputer(computerId)) {
                resp.sendRedirect(req.getContextPath() + "/admin/profile?deleted=success");
            } else {
                resp.sendRedirect(req.getContextPath() + "/admin/profile?deleted=error");
            }

        } catch (NumberFormatException e) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "–ù–µ–≤–µ—Ä–Ω—ã–π ID");
        }
    }
}

edit-computer.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />

<%@ include file="/templates/fragments/header.jsp" %>

<div class="container" style="max-width: 800px; margin: 30px auto;">
    <h2 style="text-align: center;">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ä</h2>

    <c:if test="${not empty errorMessage}">
        <div style="color: red; background: #ffe6e6; padding: 10px; margin-bottom: 20px; border-radius: 4px;">
            ${errorMessage}
        </div>
    </c:if>

    <form method="post" style="display: flex; flex-direction: column; gap: 15px;">
        <input type="hidden" name="id" value="${computer.id}">

        <div>
            <label><strong>–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–∞:</strong></label>
            <input type="text" name="title" required style="width: 100%; padding: 8px;" value="${computer.title}">
        </div>

        <div>
            <label><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong></label>
            <textarea name="description" rows="4" style="width: 100%; padding: 8px;">${computer.description}</textarea>
        </div>

        <div style="position: relative;">
            <label><strong>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong></label>
            <input type="text"
                   id="gamingZoneInput"
                   value="${computer.gamingZone.name}"
                   placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –≥–æ—Ä–æ–¥ –∏–ª–∏ —Å—Ç—Ä–∞–Ω—É..."
                   style="width: 100%; padding: 8px; margin-top: 5px;"
                   autocomplete="off">
            <input type="hidden" name="gamingZoneId" id="gamingZoneId" value="${computer.gamingZoneId}" required>

            <div id="suggestions"
                 style="position: absolute; z-index: 1000; background: white; border: 1px solid #ccc;
                        width: 100%; max-height: 200px; overflow-y: auto; display: none;">
            </div>
        </div>

        <div style="display: flex; gap: 15px;">
            <div style="flex: 1;">
                <label><strong>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:</strong></label>
                <input type="date" name="startDate" required style="width: 100%; padding: 8px;" value="${computer.startDate}">
            </div>
            <div style="flex: 1;">
                <label><strong>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:</strong></label>
                <input type="date" name="endDate" required style="width: 100%; padding: 8px;" value="${computer.endDate}">
            </div>
        </div>

        <div>
            <label><strong>–ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ (‚ÇΩ):</strong></label>
            <input type="number" step="0.01" name="hourlyRate" required min="0" style="width: 100%; padding: 8px;" value="${computer.hourlyRate}">
        </div>

        <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è -->
        <div>
            <label><strong>–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è:</strong></label>
            <div style="display: flex; flex-wrap: wrap; gap: 12px; margin-top: 8px;">
                <c:forEach var="room" items="${allRoomOptions}">
                    <c:set var="isChecked" value="false"/>
                    <c:forEach var="selectedId" items="${selectedRoomOptionIds}">
                        <c:if test="${room.id == selectedId}">
                            <c:set var="isChecked" value="true"/>
                        </c:if>
                    </c:forEach>
                    <label style="display: flex; align-items: center; gap: 6px; background: #f8f9fa; padding: 10px; border-radius: 6px; border: 1px solid #e9ecef;">
                        <input type="checkbox" name="roomOptions" value="${room.id}"
                               <c:if test="${isChecked}">checked</c:if>>
                        <span>
                            <strong>${room.roomType}</strong><br/>
                            <small>${room.capacity} –≥–æ—Å—Ç–µ–π, ${room.bed_count} ${room.bed_type} –∫—Ä–æ–≤–∞—Ç—å(–∏)</small>
                        </span>
                    </label>
                </c:forEach>
            </div>
            <small style="color: #6c757d;">–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</small>
        </div>
        <!-- === –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç—É—Ä–∞ === -->
        <div>
            <label><strong>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏:</strong></label>

            <!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–æ—Ç–æ -->
            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin: 10px 0;">
                <!-- home.jpg (–æ–±–ª–æ–∂–∫–∞) -->
                <div style="position: relative; width: 100px; height: 100px; border: 1px solid #ddd; border-radius: 4px; overflow: hidden;">
                    <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/home.jpg"
                         onerror="this.parentElement.style.display='none'"
                         style="width: 100%; height: 100%; object-fit: cover;"
                         alt="–û–±–ª–æ–∂–∫–∞">
                </div>

                <!-- photo2.jpg -->
                <div style="position: relative; width: 100px; height: 100px; border: 1px solid #ddd; border-radius: 4px; overflow: hidden;">
                    <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/photo2.jpg"
                         onerror="this.parentElement.style.display='none'"
                         style="width: 100%; height: 100%; object-fit: cover;"
                         alt="–§–æ—Ç–æ 2">
                </div>

                <!-- photo3.jpg -->
                <div style="position: relative; width: 100px; height: 100px; border: 1px solid #ddd; border-radius: 4px; overflow: hidden;">
                    <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/photo3.jpg"
                         onerror="this.parentElement.style.display='none'"
                         style="width: 100%; height: 100%; object-fit: cover;"
                         alt="–§–æ—Ç–æ 3">
                </div>

                <!-- photo4.jpg -->
                <div style="position: relative; width: 100px; height: 100px; border: 1px solid #ddd; border-radius: 4px; overflow: hidden;">
                    <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/photo4.jpg"
                         onerror="this.parentElement.style.display='none'"
                         style="width: 100%; height: 100%; object-fit: cover;"
                         alt="–§–æ—Ç–æ 4">
                </div>

                <!-- photo5.jpg -->
                <div style="position: relative; width: 100px; height: 100px; border: 1px solid #ddd; border-radius: 4px; overflow: hidden;">
                    <img src="${pageContext.request.contextPath}/img/computer/${computer.id}/photo5.jpg"
                         onerror="this.parentElement.style.display='none'"
                         style="width: 100%; height: 100%; object-fit: cover;"
                         alt="–§–æ—Ç–æ 5">
                </div>
            </div>

            <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤—ã—Ö —Ñ–æ—Ç–æ -->
            <div style="margin-top: 15px;">
                <input type="file" name="newPhotos" accept="image/*" multiple
                       style="width: 100%; padding: 8px;" />
                <small style="color: #6c757d;">
                    –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–æ 5 –Ω–æ–≤—ã—Ö —Ñ–æ—Ç–æ. –ü–µ—Ä–≤–æ–µ –∑–∞–º–µ–Ω–∏—Ç –æ–±–ª–æ–∂–∫—É (<code>home.jpg</code>), –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–±–∞–≤—è—Ç—Å—è –∫–∞–∫ <code>photo2.jpg</code>, <code>photo3.jpg</code> –∏ —Ç.–¥.<br>
                    –§–æ—Ä–º–∞—Ç—ã: JPG, PNG.
                </small>
            </div>
        </div>

        <div style="text-align: center; margin-top: 20px; display: flex; justify-content: center; gap: 15px;">
            <button type="submit" style="padding: 10px 25px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
            </button>

            <!-- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è -->
            <button type="button"
                    onclick="confirmDelete(${computer.id})"
                    style="padding: 10px 25px; background: #dc3545; color: white; border: none; border-radius: 5px; cursor: pointer;">
                –£–¥–∞–ª–∏—Ç—å —Ç—É—Ä
            </button>

            <a href="${pageContext.request.contextPath}/admin/profile"
               style="padding: 10px 15px; text-decoration: none; color: #6c757d; border: 1px solid #ccc; border-radius: 5px;">
                –û—Ç–º–µ–Ω–∞
            </a>
        </div>
    </form>
</div>

<script>
    const contextPath = '${pageContext.request.contextPath}';
</script>
<script src="${pageContext.request.contextPath}/js/gamingZone.js"></script>

<script>
    function confirmDelete(computerId) {
        if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç—É—Ä? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
            window.location.href = contextPath + '/admin/delete-computer?id=' + computerId;
        }
    }
</script>

<%@ include file="/templates/fragments/footer.jsp" %>

EditComputerServlet.java

package com.computerlist.controller.Admin;

import com.computerlist.model.RoomOption;
import com.computerlist.model.Computer;
import com.computerlist.model.User;
import com.computerlist.service.GamingZoneService;
import com.computerlist.service.RoomOptionService;
import com.computerlist.service.ComputerService;
import com.computerlist.service.impl.GamingZoneServiceImpl;
import com.computerlist.service.impl.RoomOptionServiceImpl;
import com.computerlist.service.impl.ComputerServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;

import java.io.IOException;
import java.time.LocalDate;
import java.util.ArrayList;
import java.util.List;

@WebServlet("/admin/edit-computer")
public class EditComputerServlet extends HttpServlet {

    private ComputerService computerService = new ComputerServiceImpl();
    private GamingZoneService gamingZoneService = new GamingZoneServiceImpl();
    private RoomOptionService roomOptionService = new RoomOptionServiceImpl();

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        if (session == null || session.getAttribute("user") == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }

        User currentUser = (User) session.getAttribute("user");
        String idParam = req.getParameter("id");

        if (idParam == null || idParam.trim().isEmpty()) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "ID —Ç—É—Ä–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω");
            return;
        }

        try {
            int computerId = Integer.parseInt(idParam);
            Computer computer = computerService.getComputerById(computerId);

            if (computer == null) {
                resp.sendError(HttpServletResponse.SC_NOT_FOUND, "–¢—É—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω");
                return;
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞: —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
            if (computer.getCreator_id() != currentUser.getId()) {
                resp.sendRedirect(req.getContextPath() + "/admin/profile");
                return;
            }

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ñ–æ—Ä–º—ã
            req.setAttribute("computer", computer);
            req.setAttribute("gamingZones", gamingZoneService.getAllGamingZones());
            req.setAttribute("allRoomOptions", roomOptionService.getAllRoomOptions());
            req.setAttribute("selectedRoomOptionIds", getSelectedRoomOptionIds(computerId));

            req.getRequestDispatcher("/templates/admin/edit-computer.jsp").forward(req, resp);

        } catch (NumberFormatException e) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ID");
        }
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        if (session == null || session.getAttribute("user") == null) {
            resp.sendError(HttpServletResponse.SC_UNAUTHORIZED);
            return;
        }

        User currentUser = (User) session.getAttribute("user");
        String idParam = req.getParameter("id");

        if (idParam == null) {
            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, "ID —Ç—É—Ä–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω");
            return;
        }

        try {
            int computerId = Integer.parseInt(idParam);
            Computer existingComputer = computerService.getComputerById(computerId);

            if (existingComputer == null) {
                resp.sendError(HttpServletResponse.SC_NOT_FOUND, "–¢—É—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω");
                return;
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
            if (existingComputer.getCreator_id() != currentUser.getId()) {
                resp.sendRedirect(req.getContextPath() + "/admin/profile");
                return;
            }

            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
            String title = req.getParameter("title");
            String description = req.getParameter("description");
            String gamingZoneIdStr = req.getParameter("gamingZoneId");
            String startDateStr = req.getParameter("startDate");
            String endDateStr = req.getParameter("endDate");
            String hourlyRateStr = req.getParameter("hourlyRate");

            if (title == null || title.trim().isEmpty() ||
                    gamingZoneIdStr == null || startDateStr == null || endDateStr == null || hourlyRateStr == null) {
                req.setAttribute("errorMessage", "–í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.");
                forwardWithError(req, resp, computerId);
                return;
            }

            int gamingZoneId = Integer.parseInt(gamingZoneIdStr);
            LocalDate startDate = LocalDate.parse(startDateStr);
            LocalDate endDate = LocalDate.parse(endDateStr);
            double hourlyRate = Double.parseDouble(hourlyRateStr);

            if (startDate.isAfter(endDate)) {
                req.setAttribute("errorMessage", "–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞.");
                forwardWithError(req, resp, computerId);
                return;
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç—É—Ä
            existingComputer.setTitle(title.trim());
            existingComputer.setDescription(description != null ? description.trim() : "");
            existingComputer.setGamingZoneId(gamingZoneId);
            existingComputer.setStartDate(startDate);
            existingComputer.setEndDate(endDate);
            existingComputer.setHourlyRate(hourlyRate);

            if (computerService.updateComputer(existingComputer)) {
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–≤—è–∑—å —Å RoomOption
                String[] selectedRoomIds = req.getParameterValues("roomOptions");
                List<Integer> roomOptionIds = new ArrayList<>();
                if (selectedRoomIds != null) {
                    for (String id : selectedRoomIds) {
                        try {
                            roomOptionIds.add(Integer.parseInt(id));
                        } catch (NumberFormatException ignored) {}
                    }
                }
                computerService.assignRoomOptionsToComputer(computerId, roomOptionIds);

                resp.sendRedirect(req.getContextPath() + "/admin/profile?updated=success");
            } else {
                req.setAttribute("errorMessage", "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å —Ç—É—Ä.");
                forwardWithError(req, resp, computerId);
            }

        } catch (Exception e) {
            req.setAttribute("errorMessage", "–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏: " + e.getMessage());
            forwardWithError(req, resp, Integer.parseInt(idParam));
        }
    }

    // –ú–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–∂–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö RoomOption
    private List<Integer> getSelectedRoomOptionIds(int computerId) {
        List<RoomOption> selected = roomOptionService.getRoomOptionsByComputer(computerId);
        List<Integer> ids = new ArrayList<>();
        for (RoomOption r : selected) {
            ids.add(r.getId());
        }
        return ids;
    }

    private void forwardWithError(HttpServletRequest req, HttpServletResponse resp, int computerId) throws ServletException, IOException {
        Computer computer = computerService.getComputerById(computerId);
        req.setAttribute("computer", computer);
        req.setAttribute("gamingZones", gamingZoneService.getAllGamingZones());
        req.setAttribute("allRoomOptions", roomOptionService.getAllRoomOptions());
        req.setAttribute("selectedRoomOptionIds", getSelectedRoomOptionIds(computerId));
        req.getRequestDispatcher("/templates/admin/edit-computer.jsp").forward(req, resp);
    }
}

footer.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
</main>
<footer style="background:#f1f1f1; padding:15px; text-align:center; margin-top:30px;">
    <p>&copy; 2025 ComputerList. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
</footer>
</body>
</html>

GamingZone.java

package com.computerlist.model;

public class GamingZone {

    private int id;
    private String name;
    private String location;

    public GamingZone(int id, String name, String location) {
        this.id = id;
        this.name = name;
        this.location = location;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getLocation() {
        return location;
    }

    public void setLocation(String location) {
        this.location = location;
    }

    @Override
    public String toString() {
        return "GamingZone{" +
                "id=" + id +
                ", name='" + name + '\'' +
                ", location='" + location + '\'' +
                '}';
    }
}

gamingZone.js


// –ü–æ–ª—É—á–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –ø—É—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, "/computerlist")

let debounceTimer;
const suggestionsContainer = document.getElementById('gamingZoneSuggestions');
const gamingZoneInput = document.getElementById('gamingZoneInput');
const gamingZoneIdInput = document.getElementById('gamingZoneId');

gamingZoneInput.addEventListener('input', function () {
    clearTimeout(debounceTimer);
    const query = this.value.trim();

    if (query.length < 2) {
        suggestionsContainer.style.display = 'none';
        return;
    }

    debounceTimer = setTimeout(() => {
        const url = contextPath + '/gamingZones/search?q=' + encodeURIComponent(query);
        fetch(url)
            .then(response => {
                if (!response.ok) {
                    throw new Error('–°–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ' + response.status);
                }
                return response.json();
            })
            .then(gamingZones => {
                if (gamingZones.length === 0) {
                    suggestionsContainer.innerHTML = '<div style="padding: 8px; color: #888;">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>';
                } else {
                    suggestionsContainer.innerHTML = gamingZones.map(d =>
                        `<div onclick="selectGamingZone(${d.id}, \`${d.name.replace(/`/g, '\\`')}\`)"`
                             + " style=\"padding: 8px 12px; cursor: pointer; border-bottom: 1px solid #eee;\">"
                             + d.name +
                        '</div>'
                    ).join('');
                }
                suggestionsContainer.style.display = 'block';
            })
            .catch(err => {
                console.error('AJAX –æ—à–∏–±–∫–∞:', err);
                suggestionsContainer.innerHTML = '<div style="padding: 8px; color: red;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>';
                suggestionsContainer.style.display = 'block';
            });
    }, 300);
});

function selectGamingZone(id, name) {
    gamingZoneInput.value = name;
    gamingZoneIdInput.value = id;
    suggestionsContainer.style.display = 'none';
}

document.addEventListener('click', function(e) {
    if (!gamingZoneInput.contains(e.target) && !suggestionsContainer.contains(e.target)) {
        suggestionsContainer.style.display = 'none';
    }
});

GamingZoneDAO.java

package com.computerlist.dao;


import com.computerlist.model.GamingZone;

import java.util.List;

public interface GamingZoneDAO {
    GamingZone findById(int id);
    List<GamingZone> findAll();
    boolean create(GamingZone gamingZone);
    boolean update(GamingZone gamingZone);
    boolean delete(int id);
    List<GamingZone> findByNameContaining(String namePart, int limit);
}

GamingZoneDAOImpl.java

package com.computerlist.dao.impl;


import com.computerlist.dao.GamingZoneDAO;
import com.computerlist.model.GamingZone;
import com.computerlist.util.DBConnection;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class GamingZoneDAOImpl implements GamingZoneDAO {

    private static final Logger logger = LogManager.getLogger(GamingZoneDAOImpl.class);

    @Override
    public GamingZone findById(int id) {
        String sql = "SELECT * FROM gamingZones WHERE id = ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) return extractGamingZone(rs);
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findById error", e);
        }
        return null;
    }

    @Override
    public List<GamingZone> findAll() {
        List<GamingZone> list = new ArrayList<>();
        String sql = "SELECT * FROM gamingZones";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql);
             ResultSet rs = ps.executeQuery()) {
            while (rs.next()) list.add(extractGamingZone(rs));
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findAll error", e);
        }
        return list;
    }

    @Override
    public boolean create(GamingZone gamingZone) {
        String sql = "INSERT INTO gamingZones (name, country) VALUES (?, ?)";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setString(1, gamingZone.getName());
            ps.setString(2, gamingZone.getCountry());
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("create error", e);
        }
        return false;
    }

    @Override
    public boolean update(GamingZone gamingZone) {
        String sql = "UPDATE gamingZones SET name=?, country=? WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setString(1, gamingZone.getName());
            ps.setString(2, gamingZone.getCountry());
            ps.setInt(3, gamingZone.getId());
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("update error", e);
        }
        return false;
    }

    @Override
    public boolean delete(int id) {
        String sql = "DELETE FROM gamingZones WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("delete error", e);
        }
        return false;
    }
    @Override
    public List<GamingZone> findByNameContaining(String namePart, int limit) {
        String sql = "SELECT id, name, country FROM gamingZones WHERE LOWER(name) LIKE LOWER(?) ORDER BY name LIMIT ?";
        List<GamingZone> list = new ArrayList<>();
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setString(1, "%" + namePart + "%");
            ps.setInt(2, limit);
            try (ResultSet rs = ps.executeQuery()) {
                while (rs.next()) list.add(extractGamingZone(rs));
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findByGamingZone error", e);
        }
        return list;
    }

    private GamingZone extractGamingZone(ResultSet rs) throws SQLException {
        return new GamingZone(
                rs.getInt("id"),
                rs.getString("name"),
                rs.getString("country")
        );
    }
}


GamingZoneSearchServlet.java

package com.computerlist.controller.GamingZone;

import com.computerlist.model.GamingZone;
import com.computerlist.service.GamingZoneService;
import com.computerlist.service.impl.GamingZoneServiceImpl;
import com.computerlist.util.JsonResponseWriter;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

@WebServlet("/gamingZones/search")
public class GamingZoneSearchServlet extends HttpServlet {

    private GamingZoneService gamingZoneService = new GamingZoneServiceImpl();

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        String query = req.getParameter("q");

        List<GamingZone> results = new ArrayList<>();
        if (query != null && !query.trim().isEmpty()) {
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
            results = gamingZoneService.searchByName(query.trim(), 5);
        }

        // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–≤–æ—é —É—Ç–∏–ª–∏—Ç—É
        JsonResponseWriter.writeJson(resp, results);
    }

}

GamingZoneService.java

package com.computerlist.service;

import com.computerlist.model.GamingZone;
import java.util.List;

public interface GamingZoneService {
    GamingZone getGamingZoneById(int id);
    List<GamingZone> getAllGamingZones();
    boolean addGamingZone(GamingZone gamingZone);
    boolean updateGamingZone(GamingZone gamingZone);
    boolean removeGamingZone(int id);
    List<GamingZone> searchByName(String namePart, int limit);
}

GamingZoneServiceImpl.java

package com.computerlist.service.impl;

import com.computerlist.dao.GamingZoneDAO;
import com.computerlist.dao.impl.GamingZoneDAOImpl;
import com.computerlist.model.GamingZone;
import com.computerlist.service.GamingZoneService;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import java.util.List;

public class GamingZoneServiceImpl implements GamingZoneService {

    private static final Logger logger = LogManager.getLogger(GamingZoneServiceImpl.class);
    private final GamingZoneDAO gamingZoneDAO = new GamingZoneDAOImpl();


    @Override
    public GamingZone getGamingZoneById(int id) {
        if (id <= 0) {
            logger.warn("Invalid gamingZone id: {}", id);
            return null;
        }
        return gamingZoneDAO.findById(id);
    }

    @Override
    public List<GamingZone> getAllGamingZones() {
        return gamingZoneDAO.findAll();
    }

    @Override
    public boolean addGamingZone(GamingZone gamingZone) {
        if (gamingZone == null || gamingZone.getName() == null || gamingZone.getName().isEmpty()) {
            logger.warn("Cannot add gamingZone: invalid data");
            return false;
        }
        return gamingZoneDAO.create(gamingZone);
    }

    @Override
    public boolean updateGamingZone(GamingZone gamingZone) {
        if (gamingZone == null || gamingZone.getId() <= 0) {
            logger.warn("Cannot update gamingZone: invalid id");
            return false;
        }
        return gamingZoneDAO.update(gamingZone);
    }

    @Override
    public boolean removeGamingZone(int id) {
        if (id <= 0) {
            logger.warn("Cannot remove gamingZone: invalid id");
            return false;
        }
        return gamingZoneDAO.delete(id);
    }
    @Override
    public List<GamingZone> searchByName(String namePart, int limit) {
        return gamingZoneDAO.findByNameContaining(namePart, limit);
    }
}

header.jsp

<%@ page contentType="text/html;charset=UTF-8" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>ComputerList</title>
    <link rel="stylesheet" href="${pageContext.request.contextPath}/css/style.css">
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
</head>
<body>
<header style="background:#007bff; padding:15px; color:white; text-align:center;">
    <h2>PCGamer ‚Äî –±—Ä–æ–Ω–∏—Ä—É–π –∏–≥—Ä–æ–≤—ã–µ –ü–ö –∑–∞ –ø–∞—Ä—É –∫–ª–∏–∫–æ–≤!</h2>
    <nav style="margin-top:10px;">
        <a href="${pageContext.request.contextPath}/index" style="color:white; margin:0 10px;">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="${pageContext.request.contextPath}/computers/search" style="color:white; margin:0 10px;">–¢—É—Ä—ã</a>

        <!-- –ü—Ä–æ–≤–µ—Ä–∫–∞, –∑–∞–ª–æ–≥–∏–Ω–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å -->
        <c:choose>
            <c:when test="${not empty sessionScope.user}">
                <!-- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–æ–ª—å -->
                <c:choose>
                    <c:when test="${sessionScope.user.roleId == 2}">
                        <a href="${pageContext.request.contextPath}/admin/profile" style="color:white; margin:0 10px;">
                            –ü—Ä–æ—Ñ–∏–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞
                        </a>
                    </c:when>
                    <c:otherwise>
                        <a href="${pageContext.request.contextPath}/profile" style="color:white; margin:0 10px;">
                            –ü—Ä–æ—Ñ–∏–ª—å
                        </a>
                    </c:otherwise>
                </c:choose>

                <a href="${pageContext.request.contextPath}/logout" style="color:white; margin:0 10px;">
                    –í—ã–π—Ç–∏
                </a>
            </c:when>
            <c:otherwise>
                <a href="${pageContext.request.contextPath}/login" style="color:white; margin:0 10px;">
                    –í–æ–π—Ç–∏
                </a>
            </c:otherwise>
        </c:choose>
    </nav>
</header>
<main>

home.jpg


home_1.jpg

ÔøΩÔøΩÔøΩÔøΩ JFIF      ÔøΩÔøΩ ÔøΩ 	"( %!2!%)+../383,7(-.+



/% %--------------------------------------------------ÔøΩÔøΩ  ÔøΩ>" ÔøΩÔøΩ              ÔøΩÔøΩ =  ! 1A"Qa2qÔøΩBÔøΩÔøΩ#RÔøΩÔøΩÔøΩÔøΩÔøΩbrÔøΩCÔøΩÔøΩÔøΩÔøΩ3ÔøΩÔøΩ               ÔøΩÔøΩ %          !1AQqaÔøΩ"ÔøΩÔøΩÔøΩÔøΩ   ? ÔøΩÔøΩÔøΩÔøΩ≈•ÔøΩÔøΩMÔøΩ-ÔøΩ<cÔøΩr`ÔøΩ*<ÔøΩbÔøΩÔøΩ maÔøΩ3HÔøΩ«åxÔøΩÔøΩÔøΩÔøΩSÔøΩÔøΩÔøΩÔøΩÔøΩ?ÔøΩ ÔøΩÔøΩÔøΩ ÔøΩ8ÔøΩ_ÔøΩ.ÔøΩDpN ÔøΩ»øÔøΩÔøΩÔøΩƒü|P~ÔøΩ6sÔøΩÔøΩxÔøΩqzÔøΩÔøΩÔøΩrf
ÔøΩGÃçÔøΩÔøΩSÔøΩhÔøΩ3cÔøΩÔøΩ‹≠ÔøΩÔøΩ(89	ÔøΩÔøΩÔøΩÔøΩUK~ÔøΩwÔøΩÔøΩFÔøΩ'»ú1\ÔøΩ≈É%ÔøΩÔøΩL;GÔøΩÔøΩ\cÔøΩÔøΩÔøΩÔøΩ@ÔøΩi7%4ÔøΩ}ÔøΩbÔøΩÔøΩÔøΩ2YÔøΩÔøΩÔøΩSÔøΩÔøΩÔøΩÔøΩFÔøΩ  cÔøΩ7ÔøΩÔøΩMÔøΩÔøΩ√®“üfÔøΩ<mÔøΩ4YÔøΩÔøΩCÔøΩÔøΩÔøΩ*ÔøΩl8uÔøΩÔøΩÔøΩ)ÔøΩÔøΩÔøΩe|ÔøΩÔøΩ'ÔøΩÔøΩeÔøΩÔøΩ0ÔøΩÔøΩ6(lÔøΩÔøΩ‚ÇäÔøΩJmiÔøΩÔøΩr0WÔøΩÔøΩBÔøΩÔøΩqgÔøΩ~
fÔøΩTlÔøΩÔøΩ_ÔøΩÔøΩÔøΩÔøΩ~ÔøΩÔøΩÔøΩbÔøΩK
ÔøΩ&PÔøΩ8ÔøΩÔøΩkÔøΩaÔøΩLAÔøΩbGÔøΩÔøΩÔøΩb#ÔøΩ_ÔøΩÔøΩÔøΩ =ÔøΩÔøΩJ0ÔøΩÔøΩÔøΩÔøΩgÔøΩÔøΩ
ZÔøΩ i·äãÔøΩcÔøΩÔøΩ@<ÔøΩ4ÔøΩÔøΩÔøΩÔøΩ÷¶ÔøΩÔøΩÔøΩÔøΩh(ÔøΩ5VhÔøΩ
ÔøΩu&ÔøΩÔøΩÔøΩrÔøΩÔøΩÔøΩÔøΩÔøΩD„ûÅÔøΩX(ÔøΩ{ÔøΩÔøΩÔøΩwÔøΩx@ÔøΩÔøΩÔøΩ‘îq|8LVÔøΩLDYÔøΩ<ÔøΩÔøΩÔøΩ(ÔøΩ∆éÔøΩOÔøΩÔøΩ-MBÔøΩ«åKÔøΩ1
yÔøΩqÔøΩbÔøΩÔøΩÔøΩÔøΩÿ≠ÔøΩQSS1OÔøΩÔøΩÔøΩÔøΩ\WÔøΩÔøΩÔøΩpÔøΩ&ÔøΩ%?lJÔøΩLÔøΩÔøΩ1}<ÔøΩÔøΩ0ÔøΩ
ÔøΩÔøΩ)ÔøΩÔøΩLÔøΩÔøΩÔøΩÀô>FaCÔøΩÔøΩZÔøΩ0ÔøΩÔøΩuÔøΩM`49ÔøΩlÔøΩ3hÔøΩÔøΩÔøΩIÔøΩ+ÔøΩhÔøΩVÔøΩ"|-ÔøΩOÔøΩÔøΩFÔøΩSÔøΩAÔøΩÔøΩÔøΩ5T,ÔøΩTÔøΩ+ »∞|2ÔøΩÔøΩiÔøΩÔøΩÔøΩVÔøΩÔøΩÔøΩÔøΩ2BÔøΩÔøΩ ÔøΩÔøΩÔøΩ0ÔøΩÔøΩ`ÔøΩ}RNÔøΩÔøΩkiÔøΩwÔøΩÔøΩÔøΩ7ÔøΩ8ÔøΩÔøΩGOÔøΩ*ÔøΩÔøΩcÔøΩHx«ΩÔøΩÔøΩu$`ÔøΩ~mÔøΩÔøΩÔøΩÔøΩsÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩsÔøΩÔøΩÔøΩÔøΩœ¢ÔøΩ E|b>ÔøΩÔøΩÔøΩÔøΩjÔøΩ%ÔøΩ@lÔøΩÔøΩQ<ZwÔøΩÔøΩﬁ≥ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩ í5iÔøΩÔøΩÔøΩÔøΩqÔøΩÔøΩœ§1D`ÔøΩWi;ÔøΩÔøΩK	ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ1ÔøΩÔøΩ:RMTÔøΩpÔøΩÔøΩÔøΩÔøΩ{_ÔøΩ0ÔøΩ{QÔøΩÔøΩÔøΩZjÔøΩ&ÔøΩ8ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ_ÔøΩÔøΩÔøΩ0 )ÔøΩÔøΩ-ÔøΩusPÔøΩ@ÔøΩÿÅÔøΩaÔøΩ8ÔøΩÔøΩ@\rÿèÔøΩÔøΩÔøΩÔøΩ
ÔøΩÔøΩ„øÜÔøΩÔøΩÔøΩÔøΩ|xÔøΩÔøΩÔøΩ1ÔøΩÔøΩ	ÔøΩÔøΩ5ÔøΩyÔøΩlÔøΩÔøΩÔøΩÔøΩ_ÔøΩÔøΩÔøΩÔøΩÔøΩb ÔøΩF÷™0QÔøΩÔøΩy|ÔøΩÔøΩ8ÔøΩINÔøΩÔøΩÔøΩ5
JbH6ÔøΩmÔøΩÔøΩ}-ÔøΩÔøΩÔøΩuTDv–¶ÔøΩ  ÔøΩ`qbbwÔøΩlW(.4*ÔøΩPxÔøΩqAÍã¥HÔøΩ<ÔøΩ?ÔøΩÔøΩ
ÔøΩ(:ghÔøΩMÔøΩ1ÔøΩÔøΩbÔøΩÔøΩÔøΩ'PÔøΩ›Ä18ÔøΩOÔøΩÔøΩÔøΩÔøΩi?ÔøΩÔøΩÔøΩCÔøΩdÔøΩoÔøΩgÔøΩÔøΩ8NÔøΩV ÔøΩÔøΩÔøΩIÔøΩÔøΩÔøΩqÔøΩ~ÔøΩÔøΩT’§ÔøΩÔøΩÔøΩÔøΩÔøΩ«òÔøΩÔøΩ
ÔøΩœ∂
>(sWÔøΩjÔøΩLÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ≈øÔøΩÔøΩÔøΩÔøΩDÔøΩEÔøΩÔøΩa9 *XÔøΩ:ÔøΩÔøΩ‰Ç∂ÔøΩÔøΩ;ÔøΩ’¶	ÔøΩ0n'ÔøΩ"ÔøΩÔøΩÔøΩ |(À™fVÔøΩD~eÔøΩÔøΩﬂèÔøΩq—ñ*ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ}gÔøΩl	ÔøΩjhdÔøΩ
ÔøΩÔøΩ 	ÔøΩÔøΩÔøΩ0fEÔøΩÔøΩÔøΩÀ¶ÔøΩ@ÔøΩÔøΩÔøΩ	ÔøΩpÔøΩrÔøΩPzVR@ÔøΩÔøΩÔøΩ<ÔøΩcaÔøΩgÔøΩÔøΩ(ÔøΩZÔøΩEÔøΩÔøΩ}ÔøΩ
ÔøΩÔøΩÔøΩÔøΩÔøΩœòÔøΩL@€û|ÔøΩÔøΩ&jÔøΩÔøΩ;G"ﬂßÔøΩÔøΩ
ÔøΩ"=#>rÔøΩuÔøΩ`j ÔøΩ=ÔøΩZv√óÔøΩÔøΩÔøΩÔøΩ%ÔøΩÔøΩÔøΩc$l/ÔøΩÔøΩ{a:ÔøΩÔøΩÔøΩÔøΩb%LÔøΩ9ÔøΩÔøΩ2nÔøΩÔøΩ]`OmÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ~ÔøΩÔøΩÔøΩ◊¨~ÔøΩÔøΩÔøΩKoÔøΩÔøΩŸ±ÔøΩÔøΩÔøΩÔøΩVÔøΩn<ÔøΩÔøΩ”¨ÔøΩj{ÔøΩÔøΩÔøΩÔøΩÔøΩS+\ÔøΩÔøΩÔøΩI3ayÔøΩÔøΩÔøΩÔøΩ*ÔøΩrÔøΩ*HÔøΩAÔøΩÔøΩyÔøΩÔøΩÔøΩ9!BÔøΩÔøΩÔøΩ [«û1ÔøΩw&AÔøΩA€ëÔøΩ!TÔøΩ71ÔøΩÔøΩÔøΩÔøΩÔøΩ)ÔøΩDÔøΩÔøΩw_ÔøΩ)iÔøΩÔøΩr9ÔøΩJÔøΩ+,fÔøΩÔøΩÔøΩÔøΩ ÔøΩqgAÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÓ∏ß-G@*IÔøΩ~YÔøΩDmnÔøΩÔøΩ.ÔøΩ4ÔøΩ$ÔøΩmÔøΩf/ÔøΩ(ÔøΩÔøΩLÔøΩ;0ÔøΩ >ÔøΩÔøΩq5ÔøΩÔøΩÔøΩDÔøΩiÔøΩJÔøΩÔøΩÔøΩÔøΩ H~ÔøΩﬂü8ÔøΩeÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩl(ÔøΩjÔøΩoÔøΩÔøΩÔøΩœèÔøΩIRÔøΩOÔøΩÔøΩÔøΩ`ÔøΩ1]L›åBA?^8ÔøΩÔøΩS’∫À•pQÔøΩÔøΩÔøΩ`ÔøΩ(8{KÔøΩÔøΩ*XƒçÔøΩÔøΩÔøΩdÔøΩÔøΩÔøΩ
R	ÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩ1ÔøΩQÔøΩ8" ÔøΩGÔøΩi√É—≥NÔøΩLÔøΩzÔøΩÔøΩÔøΩÔøΩyLÔøΩÔøΩWMVÔøΩÔøΩ ÔøΩAÔøΩÔøΩÔøΩ\ÔøΩT6V?`NÔøΩl(ÔøΩÔøΩ«ÜdyÔøΩÔøΩD3ÔøΩ\HfÔøΩ.ÔøΩÔøΩÔøΩns_ÔøΩ„Ü∏ÔøΩ ÔøΩÔøΩ0#…ΩÔøΩÔøΩoÔøΩÔøΩMÔøΩ~ÔøΩÔøΩaÔøΩpÔøΩ y«õ0<ÔøΩ$ÔøΩœõÔøΩÔøΩÔøΩÿàÔøΩxÔøΩ=ÔøΩÔøΩoÔøΩ`~$bÔøΩ ÔøΩÔøΩ%LÔøΩÔøΩÔøΩol]ÔøΩ"ÔøΩÔøΩÔøΩ$ÔøΩÔøΩÔøΩÔøΩÔøΩ‹å'ÔøΩaÔøΩsHÔøΩÔøΩ ÔøΩ)9ÔøΩÔøΩaWQÔøΩ*ÔøΩV L@ÔøΩmÔøΩÔøΩÔøΩÔøΩ ÔøΩOÔøΩÔøΩÔøΩÔøΩÔøΩ&ÔøΩh3yÔøΩ
ÔøΩÔøΩcÔøΩI"ÔøΩÔøΩs;ÔøΩÔøΩ0l»ùÔøΩ OÔøΩÔøΩÔøΩÔøΩ<ƒ®1ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ5ÔøΩ@ÃõÔøΩpÔøΩÔµæÔøΩÔøΩSPNÔøΩzÔøΩqcÔøΩÔøΩÔøΩÔøΩUÔøΩÔøΩc}ÔøΩÔøΩ~ÔøΩÔøΩvÔøΩhRÔøΩiŸ†ÔøΩyÔøΩÔøΩ ÔøΩÔøΩwÔøΩÔøΩpNÔøΩ!4ÔøΩÔøΩH>bx?cÔøΩÔøΩd4j9ÔøΩÔøΩÔøΩqaZÔøΩ-sÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩx""xÔøΩMÔøΩÔøΩÔøΩRÔøΩ:ÔøΩWrÔøΩaÔøΩMÔøΩÔøΩÔøΩÿüÔøΩZÔøΩrÔøΩÔøΩÔøΩÔøΩBÔøΩYÔøΩÔøΩyÔøΩBÔøΩ«àÔøΩrzUÔøΩÔøΩ2& ÔøΩÔøΩZÔøΩ|G%EÔøΩjÔøΩ4ÔøΩÔøΩÔøΩqÔøΩÔøΩmÔøΩÔøΩASzÔøΩÔøΩIÔøΩIÔøΩÔøΩA*Œ≠&|ÔøΩmÔøΩÔøΩLÔøΩÔøΩÔøΩÔøΩ)=ÔøΩr#ÔøΩÔøΩ_ÔøΩ<ÔøΩÔøΩÔøΩqxÔøΩv;ÔøΩ5\5ÔøΩÔøΩÔøΩ\HÔøΩÔøΩTDÔøΩÔøΩÔøΩGÔøΩÕ∑ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ nD|RÔøΩ#PbÔøΩ—§ÔøΩÔøΩÔøΩgÔøΩ1*TÔøΩ!ÔøΩÔøΩPQ$ÔøΩx-ÔøΩÔøΩ «ÉÔøΩÔøΩ5*ÔøΩÔøΩ7ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ8}{ÔøΩÔøΩ~ÔøΩÔøΩ «æ(^ÔøΩIl^ÔøΩD6ÔøΩc;ÔøΩÔøΩÔøΩoÔøΩ8ÔøΩÔøΩDHuÔøΩÔøΩÔøΩKmÔøΩÔøΩkÔøΩNÔøΩjÔøΩ6ÔøΩ3XÔøΩoÔøΩÔøΩwÔøΩÔøΩWÔøΩÔøΩÔøΩÔøΩV“ûÔøΩÔøΩL8eNÔøΩj ÔøΩÔøΩ?6ÔøΩFÔøΩÔøΩjTdÔøΩYÔøΩuÔøΩÔøΩÔøΩÔøΩ.	ÔøΩÔøΩgÔøΩÔøΩ á6ÔøΩÔøΩÔøΩÔøΩÔøΩ’ΩÔøΩÔøΩMÔøΩÔøΩfÔøΩpÔøΩÔøΩbÔøΩU}
*ÔøΩ\ÔøΩÔøΩ's;ÔøΩDÔøΩ#ÔøΩÔøΩÔøΩÔøΩtÔøΩHÔøΩÔøΩÔøΩXÔøΩ+ÔøΩ ∆™”¶\ÔøΩ ¶LÔøΩÔøΩÔøΩ,ÔøΩoÔøΩÔøΩegRﬁìÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ;[aÔøΩÔøΩ‚ôèSÔøΩÔøΩM
ÔøΩÔøΩ(ÔøΩÔøΩHÔøΩÔøΩÔøΩ/ÔøΩVf—øÔøΩÔøΩ«ùÔøΩÔøΩj"4ÔøΩÔøΩÔøΩÔøΩLÔøΩIÔøΩEo2QÔøΩÔøΩ◊ëÔøΩÔøΩÔøΩN$ﬂç__8ÔøΩÔøΩÔøΩmÔøΩuMÔøΩÔøΩ5:ÔøΩÔøΩÔøΩÔøΩÔøΩxÔøΩdÔøΩÔøΩÃøP]:M#;ÔøΩa
6ÔøΩÔøΩxÔøΩxg\ÔøΩÔøΩÔøΩÔøΩXÔøΩÔøΩÔøΩÔøΩLÔøΩ@oMÔøΩÔøΩ8ÔøΩp`H_\]ÔøΩÔøΩFÔøΩTÔøΩ$ÔøΩÔøΩOÔøΩn=ÔøΩ5%ÔøΩÔøΩjÿ∞7ÔøΩÔøΩÔøΩÔøΩÔøΩJÔøΩCÔøΩÔøΩ1ÔøΩu%ÔøΩÔøΩ"myÔøΩvÔøΩ8ÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩmÔøΩÔøΩÔøΩÔøΩÔøΩRukÔøΩÔøΩÔøΩÔøΩAÔøΩ7ÔøΩ8ÔøΩÔøΩ#ÔøΩÔøΩIÔøΩÔøΩ$ÔøΩ∆©<qÔøΩBÔøΩÔøΩ3ÔøΩÔøΩÔøΩeÔøΩÔøΩÔøΩ|_RÔøΩ"ÔøΩJÿ©ÔøΩÔøΩÔøΩGÔøΩZeAI'T|ÔøΩ<Lo?ÔøΩ%ÔøΩI?EÔøΩdMÔøΩ$ÔøΩÔøΩGÔøΩRÔøΩÔøΩfÔøΩÔøΩ :ÔøΩ2
ÔøΩÔøΩ8,ÔøΩÔøΩ{i3ÔøΩMÔøΩ[ÔøΩÔøΩÔøΩ2 [rÔøΩ$^oÔøΩ.FÔøΩ"ÔøΩ&ÔøΩÔøΩ ÔøΩÔøΩ~f@ÔøΩhÔøΩ$ÔøΩÍîî
ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩPÔøΩFAÔøΩSHÔøΩÔøΩx}pÔøΩVÔøΩÔøΩ.7 ÔøΩÔøΩ ÔøΩÔøΩÔøΩlXÔøΩÔøΩIÔøΩ:A0ÔøΩxÔøΩ;ÔøΩ ÔøΩsÔøΩaÔøΩC
ÔøΩÔøΩÔøΩ}d2f⁄£ÔøΩ@ÔøΩWÔøΩÔøΩÔøΩZÔøΩÔøΩÔøΩ#yÔøΩÔøΩoÔøΩ
*’íJÔøΩ)ÔøΩ  Dno?XÔøΩÔøΩ*ÔøΩMÔøΩ ƒê)S{ÔøΩÔøΩ_c◊†ÔøΩ"ÔøΩ+"ÔøΩ OÔøΩ9WÔøΩÔøΩlÔøΩÔøΩÔøΩÔøΩmÔøΩ?ÔøΩsÔøΩm JÔøΩ}?ÔøΩÔøΩSÔøΩÔøΩSÔøΩÔøΩ|ÔøΩfÔøΩÔøΩÔøΩXÔøΩÔøΩÔøΩÔøΩrÔøΩÔøΩHÔøΩÔøΩÔøΩ,9ÔøΩQHÔøΩÔøΩT
ÔøΩÔøΩHÔøΩpHAÔøΩÔøΩ	ÔøΩgZTÔøΩÔøΩfÔøΩÔøΩÔøΩwÔøΩÔøΩbÔøΩÔøΩÔøΩ +iÔøΩHÔøΩÔøΩÔøΩmÔøΩÔøΩ{◊ÅÔøΩS4$ÔøΩ5	ÔøΩGÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩ \.ÔøΩ0^÷ñ4ÔøΩÔøΩfÔøΩ1ÔøΩ7ÔøΩÔøΩMÔøΩÔøΩIÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩS*4ÔøΩ4ÔøΩ:ÔøΩIÔøΩH&dÔøΩÔøΩÔøΩlÔøΩ7|ÔøΩRÔøΩ*JÔøΩÔøΩÔøΩÔøΩ DÔøΩ6ÔøΩÔøΩÔøΩw=ÔøΩ~ÔøΩÔøΩL\zÔøΩ
ÔøΩ2ƒµÔøΩXÔøΩDÔøΩÔøΩS€êÔøΩnp.bÔøΩÔøΩÔøΩ[o'ÔøΩ:ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩH2A ÔøΩÔøΩÔøΩÔøΩ"'ÔøΩÔøΩ8R4ÔøΩdÔøΩ-ÔøΩÔøΩÔøΩ$(ÔøΩlfpÔøΩ%ÔøΩÔøΩÔøΩ,>ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ>mÔøΩ<ÔøΩÔøΩÔøΩÔøΩÔøΩAfÔøΩ@*aÔøΩÔøΩÔøΩÔøΩqÔøΩdEU3:ÔøΩ‘ÅÔøΩÔøΩÔøΩÔøΩgÔøΩÔøΩÔøΩ1e#LÔøΩÔøΩÔøΩÔøΩkÔøΩÔøΩÔøΩZ`{1ÔøΩÔøΩ+ ÔøΩDÔøΩm;ÔøΩ'yÔøΩQÔøΩe ÔøΩÔøΩÔøΩÔøΩX7ÔøΩÔøΩÔøΩbÔøΩBÔøΩÔøΩÔøΩÔøΩFÔøΩ"ÔøΩTÔøΩÔøΩ;MÔøΩ÷∞ÔøΩNcÔøΩJÔøΩÔøΩc»Ç ÔøΩcÔøΩÔøΩ*mHLÔøΩÔøΩÔøΩpOÔøΩÔøΩq3‘êÔøΩÔøΩiÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩ ÔøΩ*ÔøΩQÔøΩzÔøΩ;wÔøΩ .pÔøΩ5ÔøΩÔøΩIÔøΩÔøΩ ÔøΩÔøΩA ÔøΩOÔøΩÔøΩÔøΩzmZÔøΩ1PÔøΩ,7S6ÔøΩ 6ÔøΩgÀ∂ÔøΩtÔøΩÔøΩÔøΩZÔøΩoÔøΩ?|+ÔøΩzÔøΩ7^ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ5rÌëÄ◊´0ÔøΩ ÔøΩfx&ÔøΩ~ÔøΩÔøΩÔøΩ0@ÔøΩÔøΩÔøΩÔøΩÔøΩNqÔøΩÔøΩWÔøΩA3> ÔøΩÔøΩmL*ÔøΩXPOÔøΩD|ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩC5ÔøΩ5ÔøΩÔøΩ	I.$ÔøΩÔøΩÔøΩ/Om%ÔøΩÔøΩÔøΩÔøΩÔøΩyÔøΩÔøΩÔøΩÔøΩZÔøΩ=8ÔøΩÔøΩÔøΩÔøΩ7ÔøΩ«æ%ÔøΩXÔøΩwÔøΩqÔøΩÔøΩlcQ`	Rƒ®ÔøΩ?ÔøΩÔøΩÔøΩ:ÔøΩ\ÔøΩÔøΩÔøΩŒ¶}FÔøΩÔøΩbÔøΩÔøΩbMÔøΩÔøΩ{ÔøΩ=SÔøΩf2ÔøΩ=Aﬂ®ÔøΩaÔøΩÔøΩ";KuÔøΩÔøΩÔøΩÔøΩÔøΩ&ÔøΩfÔøΩÔøΩ.jld4ÔøΩ"4ÔøΩGÔøΩÔøΩ.O#ÔøΩÔøΩ)ﬁπÔøΩÔøΩÔøΩ*ÔøΩÔøΩeÔøΩ âÔøΩIÔøΩÔøΩ}ÔøΩvÔøΩÔøΩCM;ÔøΩc*{u " ÔøΩ‹åf>ÈôêFÔøΩ%ÔøΩ√¢ÔøΩÔøΩ‹Ç
ÔøΩEÔøΩÔøΩG]} ÔøΩWXÔøΩlÔøΩ	:bÔøΩFÔøΩÔøΩÔøΩ÷åRÔøΩ}zuÔøΩÔøΩrÔøΩ"jsÔøΩNÔøΩP⁄ÑÃÄIÔøΩÔøΩÔøΩ3I‘òÔøΩ-ÔøΩ ZÔøΩ+5ÔøΩk(ÔøΩ-LH‘∑CÔøΩ+MÔøΩÔøΩxÔøΩ6[ÔøΩVÔøΩÔøΩÔøΩÔøΩ$>6ÔøΩV1(seÔøΩ-ÔøΩÔøΩZÔøΩ+mÔøΩf|œà√™]C*ÔøΩZÔøΩ ]ÔøΩÔøΩ}ÔøΩ2uib/ÔøΩdÔøΩÔøΩÔøΩÔøΩÔøΩcpÔøΩÔøΩÔøΩ49ÔøΩ⁄¶ÔøΩÔøΩÔøΩq6>÷éÔøΩKÔøΩÔøΩÔøΩCÔøΩÔøΩ\ÔøΩTÔøΩdÔøΩoÔøΩÔøΩ[ÔøΩÔøΩ*!qNÔøΩÔøΩ&‹ÄÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩZTW”©ÔøΩÔøΩkÔøΩ6ÔøΩWIJÔøΩ:ÔøΩWÔøΩÔøΩb]/rÔøΩ√≥*ÔøΩÔøΩÔøΩ	:IÔøΩÔøΩqÔøΩ;^ÔøΩ)ÔøΩfÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ”ÖY:ÔøΩÔøΩjefÔøΩ5AÔøΩZ?YÔøΩ>qvsÔøΩT.B!T,cx"x[HÔøΩ
2ÔøΩ
UÔøΩvÔøΩÔøΩEÔøΩcÔøΩÔøΩÔøΩUz'TÔøΩ5 'aÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ++ÔøΩ(U5)*ÔøΩ~'ÔøΩX`ÔøΩÔøΩÔøΩÔøΩlÔøΩÔøΩÔøΩ=ÔøΩ8 ÔøΩÔøΩ>ÔøΩMÔøΩÔøΩ‹•f[(ÔøΩ.ÔøΩ>ÔøΩH1ÔøΩÔøΩÔøΩ‹ëÔøΩZ`ÔøΩ'ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩUÔøΩÔøΩJÔøΩÂçòÔøΩÔøΩJÔøΩÔøΩ	ÔøΩ	;ÔøΩÔøΩRmb%\ÔøΩ0ÔøΩÔøΩ"ÔøΩdÔøΩDÔøΩÔøΩZBÔøΩ.ÔøΩm"ÔøΩFÔøΩ{[qsÔøΩÔøΩ|E`=ÔøΩÔøΩÔøΩoaÔøΩÔøΩ=MÔøΩU$ÔøΩIÔøΩ$ÔøΩÔøΩhÔøΩ ÔøΩÔøΩ
:-
ÔøΩÔøΩƒûÔøΩ%I€ΩIÔøΩÔøΩlCÔøΩbÔøΩZÔøΩÔøΩÔøΩ1EÔøΩÔøΩ-=ÔøΩ;}ÔøΩ:fÔøΩÔøΩÔøΩÔøΩ(ÔøΩÔøΩÔøΩLpÔøΩMÔøΩÔøΩtÔøΩÔøΩÔøΩÔøΩÔøΩiÔøΩ>ÔøΩÔøΩÔøΩÔøΩ2BÔøΩqÔøΩÔøΩ`,ÔøΩ@ÔøΩfÔøΩ5ÔøΩ"uwÔøΩÔøΩÔøΩÔøΩ)ÔøΩÔøΩÔøΩlgÔøΩÔøΩÏøá/FQ3ÔøΩÔøΩÔøΩÔøΩOmÔøΩÔøΩ ÔøΩÔøΩ';FÔøΩÔøΩ4ZÔøΩ<ÔøΩÔøΩÔøΩÔøΩÔøΩ`Œ≠ÔøΩeÔøΩÔøΩ.ÔøΩÔøΩvœÖÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
WÔøΩZÔøΩÔøΩ
@y$\BÔøΩ6ÔøΩEÔøΩ4ÔøΩÔøΩmw-\ÔøΩ
XTÔøΩbo$oxÔøΩ.ÔøΩÔøΩWf+R2HUÔøΩ	:ÔøΩÔøΩ ÔøΩÔøΩcÔøΩÔøΩÔøΩ  +T`5P.D\ÔøΩsÔøΩÔøΩÔøΩiÔøΩ%ÔøΩÔøΩAÔøΩ"ÔøΩÔøΩiÔøΩ:Df3%ÔøΩÔøΩÔøΩÔøΩ-c G>0&mÔøΩÔøΩ0h7ÔøΩ$ÔøΩ
ÔøΩÔøΩÔøΩÔøΩÔøΩrÃ¢UDÔøΩ|oa{mÔøΩÔøΩÔøΩ \4O"ÔøΩMÔøΩÔøΩG(UÔøΩuYÔøΩÔøΩq+ÔøΩÔøΩ$IÔøΩÔøΩQÕï n#rÔøΩÔøΩiÔøΩxÔøΩÔøΩÔøΩÊ∫å íÔøΩÔøΩfÔøΩÔøΩÔøΩÿ∂ÔøΩ3(:IÔøΩ ÔøΩÔøΩ-2ÔøΩ>ÔøΩÔøΩCÔøΩÔøΩ?ÔøΩÔøΩÔøΩÔøΩÔøΩhÔøΩÔøΩÔøΩÔøΩ7ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩI`$qrÔøΩÔøΩY"n/PÔøΩ8BÔøΩÔøΩpLÔøΩÔøΩÔøΩÔøΩÔøΩ"ÔøΩÔøΩ4ÔøΩ 
ÔøΩÔøΩdQÔøΩÔøΩ ÔøΩ	ÔøΩ?B1Z'a}.ÔøΩÔøΩ3T0VÔøΩ ÔøΩÔøΩvn-lYÔøΩÔøΩ»ÜÔøΩÔøΩ ÔøΩhÔøΩ7ÔøΩ7ÔøΩÔøΩÔøΩ5;HX(,c`&wÔøΩ
ÔøΩÎÄì+SÔøΩÔøΩÔøΩ	ÔøΩAPÔøΩÔøΩmÔøΩÔøΩD[ÔøΩpÔøΩV¬´U~ÔøΩÔøΩÔøΩKÔøΩMÔøΩÔøΩ2ÔøΩiefÔøΩ`ÔøΩ@LÔøΩÿÇFÔøΩÔøΩ>ÔøΩÔøΩ[ !@P ÔøΩÔøΩLG2OÔøΩ45RÔøΩÔøΩÔøΩ
ÔøΩÔøΩEÔøΩLÔøΩ7ÔøΩÔøΩolMHqÔøΩÔøΩÔøΩfZ~ÔøΩÔøΩR7ÔøΩ}7&ÔøΩ MÔøΩS"ÔøΩCTr@ÔøΩÔøΩKyÔøΩHÔøΩYW/QÔøΩ
ÔøΩÔøΩÔøΩÔøΩ'P%O6ÔøΩaÔøΩÔøΩru7M"ÔøΩ#ÃâÔøΩ`ÔøΩÔøΩ5ÔøΩ&ÔøΩÔøΩ[I
hÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ[ÔøΩiÔøΩ#Q ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ8ÔøΩÔøΩÔøΩ>ÔøΩ$OÔøΩ#ÔøΩ≈ÇÔøΩ1ÔøΩHÔøΩÔøΩ ÔøΩÔøΩÔøΩIs/-$«µÔøΩÔøΩl>ÔøΩ‘©XÔøΩZÔøΩQaÔøΩ\ÔøΩ
(ÔøΩ7ÔøΩÔøΩcÔøΩÔøΩÔøΩÔøΩ j2WkdÔøΩÔøΩÔøΩÔøΩ(ÔøΩ!UKV÷πÔøΩÔøΩÔøΩÔøΩUÔøΩ&ÔøΩÔøΩÔøΩ ÔøΩÔøΩk03ÔøΩÔøΩ$@)∆†V5ÔøΩqÔøΩÔøΩ8"ÔøΩjzÔøΩSWÔøΩÔøΩÔøΩIZÔøΩ"ÔøΩaÔøΩÔøΩiÔøΩ-ÔøΩÔøΩÔøΩÍúµ5ÔøΩtÔøΩÔøΩ›¥ÔøΩÔøΩbÔøΩTp
ÔøΩ}<ÔøΩ5ÔøΩÔøΩ;ÔøΩÔøΩA'ÔøΩ
$ÔøΩ ÔøΩÔøΩ,R/.ÔøΩÔøΩÔøΩ#ÔøΩ!ÔøΩÔøΩ5 ÔøΩBÔøΩm!ÔøΩLAÔøΩ ÔøΩÔøΩÔøΩqÔøΩÔøΩ€´ÔøΩ’ªÔøΩjRÔøΩÔøΩI,ÔøΩÔøΩH$ ÔøΩ.cÔøΩÔøΩuNÔøΩÔøΩÔøΩÔøΩi(J+#^ÔøΩ*AÔøΩÔøΩFÔøΩÔøΩWÔøΩR{ÔøΩf0%ÔøΩÔøΩ:LÔøΩsÔøΩÔøΩÔøΩZ/ÔøΩÔøΩÔøΩj!eÔøΩ.ÔøΩÔøΩ
ÔøΩÔøΩÔøΩÔøΩMÔøΩÔøΩaÔøΩÔøΩÔøΩ^MÔøΩ"G‘ô7ÔøΩÔøΩÔøΩÔøΩ&ÔøΩ{@SÔøΩHÔøΩ0ÔøΩÔøΩÔøΩH;AÔøΩÔøΩ4—ùc.ÔøΩP5]NÔøΩÔøΩ+ÔøΩ-p837ÔøΩÔøΩÔøΩÔøΩ9AÔøΩ»ÜÔøΩ	ÔøΩHÔøΩÔøΩÔøΩaÔøΩ:p}_√ùFÔøΩÔøΩkMÔøΩaÔøΩÔøΩTjÔøΩŒâ ÔøΩ
ÔøΩ{ÔøΩl	ÔøΩÔøΩ@ÔøΩcnÔøΩÔøΩ4ÔøΩIÔøΩÔøΩ&›¶6ÔøΩÔøΩ”üu:ÔøΩFÔøΩm,?0aOÿ©ÔøΩÔøΩÔøΩ?l[ÔøΩÔøΩÔøΩÔøΩLÔøΩƒ∞+`XÔøΩÔøΩÔøΩOÔøΩÔøΩq^g.dÔøΩ$ÔøΩJÔøΩÔøΩ$ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩQÔøΩÔøΩWcLÔøΩÔøΩm;ÔøΩ?ÔøΩÔøΩÔøΩfÔøΩ|ÔøΩXÔøΩ11ÔøΩ!ÔøΩEÔøΩ}ÔøΩÔøΩÔøΩgÔøΩÔøΩWT4ÔøΩ,ÔøΩl€ÇÔøΩrw’ç$jÔøΩÔøΩaaÔøΩaDÔøΩcr$ÔøΩÔøΩrbÔøΩÔøΩÔøΩÔøΩÔøΩcÔøΩjÔøΩÔøΩ.ÔøΩ:iÔøΩ ÔøΩg!vÔøΩ[9ÔøΩ=*,K
ÔøΩFÔøΩsc…à6ÔøΩÔøΩÔøΩ|ÔøΩÔøΩÔøΩ1FÔøΩH⁄∑ÔøΩeÔøΩ0bÔøΩÿæÔøΩÔøΩÔøΩÔøΩQÔøΩÔøΩJÔøΩÔøΩ@ÔøΩÔøΩÔøΩmÔøΩÔøΩ(ÔøΩ⁄äwm!xMÔøΩÔøΩÔøΩÔøΩpÔøΩtÔøΩMÔøΩU"ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ#ÔøΩT¬†UQÔøΩÔøΩÔøΩH$ w
"BÔøΩÔøΩ7ÔøΩq%ÔøΩUXÔøΩÔøΩÔøΩ$ÔøΩzÔøΩH-X≈¶xÔøΩaÔøΩeÔøΩ‘¢ÔøΩÔøΩ:LÔøΩL=ÔøΩ`ƒéÔøΩÔøΩORÔøΩÍä¶ÔøΩ
ÔøΩÔøΩTVZ %XXÔøΩcÔøΩF*ÔøΩJÔøΩÔøΩ%Ÿ≠3q}ÔøΩÔøΩÔøΩyÔøΩÔøΩ
*ÔøΩ'ÔøΩÔøΩÔøΩ:DÔøΩLÔøΩIÔøΩl~>4Õ™ÔøΩÔøΩÔøΩÔøΩÔøΩeRdwI”®iÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ-ÔøΩhÔøΩÔøΩÔøΩÔøΩ R%ÔøΩ.,NÔøΩÔøΩÔøΩÔøΩtÔøΩGÔøΩÔøΩGq*
ÔøΩÔøΩ:ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩZEbY;|ÔøΩÔøΩHÔøΩ{ÔøΩÔøΩÔøΩ]?FÔøΩ&wÔøΩTœáibÔøΩÔøΩÔøΩÔøΩKÔøΩ2?6ÔøΩÔøΩi%#PÔøΩ
ÔøΩ0ÔøΩg{I‹Ä ÔøΩ-?l]JÔøΩ!aÔøΩÔøΩ |ÔøΩÔøΩÔøΩZÔøΩÔøΩ9Í´∑{ÔøΩ0$ÔøΩgIÔøΩf'ÔøΩÔøΩ)cÔøΩÔøΩÔøΩ'ÔøΩ'~ÔøΩÔøΩ2@ÔøΩAÔøΩÔøΩ<_ÔøΩL›ëÔøΩHÔøΩMÔøΩÔøΩÔøΩÔøΩcÔøΩÔøΩBBÔøΩ“ª+ÔøΩÔøΩdÔøΩÔøΩcÔøΩƒà78ÔøΩ+MÔøΩrÀ®ÔøΩ"ÔøΩ
ÔøΩÔøΩÔøΩ!UÔøΩÔøΩU Z	ÔøΩDÔøΩÔøΩÔøΩÿòÔøΩQÔøΩ4ÔøΩMJÔøΩV$ÔøΩ 4laÔøΩ4ÔøΩ—àÔøΩ|)$ÔøΩÔøΩ	
HÔøΩÔøΩÔøΩOÔøΩÔøΩÔøΩÔøΩ3$$ÔøΩ ÔøΩ!ÔøΩ…ùÔøΩÔøΩoÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ<^MÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩQ@Zb  Ai[ÔøΩbDÔøΩ#ÔøΩÎ§∫iC8`ÔøΩ&ÔøΩnZ<ÔøΩÔøΩ| ÔøΩÔøΩÔøΩSm:jÔøΩ#L	ÔøΩÕÖÔøΩÔøΩ:ÔøΩÔøΩÔøΩEb“¨ÔøΩ ‘∫ÔøΩtÔøΩ[ÔøΩÔøΩÔøΩÔøΩNmKÔøΩÔøΩÔøΩÔøΩ:V@
$ÔøΩ#ÔøΩ+ÔøΩ$ÔøΩZLÔøΩI$K(ÔøΩ “†ÔøΩÔøΩ6«≤ÔøΩ@2ÔøΩ8!ÔøΩVÔøΩMÔøΩ ÔøΩTDA&}ÔøΩuÔøΩ7ÔøΩZ.ÔøΩUZÔøΩÔøΩj I`HÔøΩD
ÔøΩ0bÔøΩdÔøΩx:ÔøΩÔøΩœ∂ÔøΩZYÔøΩPÔøΩ+1$BÔøΩÔøΩÔøΩÔøΩuE-LÔøΩÔøΩÔøΩ
ÔøΩÔøΩÔøΩÔøΩSÔøΩ FÔøΩ>÷öyz'SÔøΩÔøΩÔøΩJN%ZÔøΩÔøΩrAÔøΩ ÔøΩ>ÔøΩpCÔøΩ&⁄êXÔøΩPÔøΩ…∏ÔøΩœÅ1ÔøΩÔøΩ>ÔøΩÔøΩ7rÔøΩÔøΩHÔøΩ
mÔøΩ|yÔøΩ.ÔøΩgÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩGtÔøΩÔøΩÔøΩRXÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ6ﬁÇÔøΩÔøΩY:FÔøΩÔøΩÔøΩÔøΩ:NÔøΩÔøΩÔøΩyÔøΩ5n ÔøΩFÔøΩ8ÔøΩq#ÔøΩÔøΩ.ÔøΩÔøΩÔøΩÔøΩ9ÔøΩÔøΩÿæÔøΩ`ÔøΩ4 ÄUKn-yÔøΩÔøΩ5Z◊ãcÔøΩDÔøΩÔøΩ3ÔøΩÔøΩc@ÔøΩ7OÔøΩ;ÔøΩÔøΩJÔøΩFEÔøΩÔøΩÔøΩ⁄¨ÔøΩÔøΩkA ÔøΩ ÔøΩEÔøΩp 8bvÔøΩÔøΩgÔøΩ UÔøΩÔøΩÔøΩPoÔøΩÔøΩÔøΩtÔøΩiÔøΩDlc3ÔøΩÔøΩuDÔøΩ6ÔøΩFÔøΩwÔøΩcWSÔøΩTAÔøΩ/ÔøΩ ÔøΩeH@ÔøΩX7dÔøΩlAÔøΩ,ÔøΩr7ÔøΩÔøΩÔøΩÔøΩÔøΩgJ- ÔøΩJÔøΩÔøΩÔøΩa.}œ∂ÔøΩ|A](1+HÔøΩyrb;ÔøΩ¬≠C?ÔøΩÔøΩÔøΩmÔøΩK<ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ é5JÔøΩÔøΩÔøΩÔøΩpT4–ïÔøΩ.ÔøΩJÔøΩ!ÔøΩeL	“∫uFÔøΩ`ÔøΩ{;ÔøΩÔøΩÔøΩÔøΩ
ÔøΩÔøΩ@ÔøΩÔøΩÔøΩlBÔøΩa	ÔøΩ H6ÔøΩ%ÔøΩÔøΩœõS\ÔøΩ\NÔøΩÔøΩÔøΩ5ÔøΩjjÔøΩ4ÔøΩÔøΩÔøΩÔøΩU,	ÔøΩXÔøΩÔøΩÔøΩÔøΩÔøΩtgPÔøΩbÔøΩÔøΩ9ÔøΩLÿôÔøΩsÔøΩvÔøΩÔøΩ#ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩjÔøΩE:uÔøΩÔøΩÔøΩT"DeÔøΩÔøΩpÔøΩmÔøΩEÔøΩCOÔøΩAlÔøΩ ÔøΩ:ÔøΩÔøΩ
ÔøΩÔøΩ«ÅÔøΩf~ZÔøΩ!}ÔøΩ ÔøΩh0@ÔøΩÔøΩÔøΩÔøΩÔøΩfzGMÔøΩRÔøΩuÔøΩ–¥ÔøΩÔøΩ`ÔøΩÔøΩÔøΩÔøΩÔøΩ }ÔøΩLÔøΩÔøΩÔøΩ 8V,j]ÔøΩÔøΩÔøΩ9ÔøΩ?aÔøΩLp-ÔøΩHÔøΩIÔøΩÔøΩ(ÔøΩÔøΩH,ÔøΩÔøΩÔøΩ- ÔøΩÔøΩ?ÔøΩu*LÔøΩBÔøΩÔøΩEÔøΩÔøΩ1ÔøΩÔøΩ<EÔøΩÔøΩ%ÔøΩ÷≠ÔøΩTRiÔøΩx
bÔøΩÔøΩ¬ÇÔøΩÔøΩÔøΩMÔøΩÔøΩF*SÔøΩNK!ÔøΩÔøΩfÔøΩ,tÔøΩÔøΩaÔøΩÔøΩqÔøΩ8S≈µD’≥*B2ÔøΩÔøΩ<)ÔøΩcÔøΩÔøΩÔøΩÔøΩ
ÔøΩeGÔøΩmÔøΩÔøΩqÔøΩÔøΩfÔøΩSÔøΩÔøΩvÔøΩMÔøΩe …âÔøΩÔøΩÔøΩ3ÔøΩo9ÔøΩr
ÔøΩ4
ÔøΩÔøΩÔøΩ 4ÔøΩÔøΩÔøΩ{ÔøΩVyÔøΩ5ÔøΩ7ÔøΩ%RJÔøΩÔøΩ  ÔøΩ5,IÔøΩ ÔøΩÔøΩÔøΩÔøΩ
ÔøΩÔøΩCÔøΩÔøΩÔøΩj I4ÔøΩP qÔøΩÔøΩ/ÔøΩÔøΩjBÔøΩÔøΩx*GvÔøΩ.ÔøΩ6ÔøΩÔøΩoÔøΩÔøΩÔøΩhÔøΩ⁄â?, ÔøΩw%ÔøΩ}ÔøΩÔøΩZÔøΩk5ÔøΩtÔøΩ.DREÔøΩÔøΩÔøΩ12@6$XÔøΩÔøΩÿÆÔøΩnÔøΩKÔøΩhŸö
ÔøΩÔøΩkÔøΩwÔøΩÔøΩ"ÔøΩÔøΩÔøΩSUrÔøΩPÔøΩmÔøΩ6TÔøΩÔøΩÔøΩÔøΩ√êMÔøΩjjt++$\ÔøΩVÔøΩ;BÔøΩÔøΩÔøΩ4ÔøΩÔøΩ[#ÔøΩÔøΩHÔøΩÔøΩ?ÔøΩckÔøΩÔøΩÔøΩÔøΩÔøΩwÔøΩaÔøΩÔøΩÔøΩÔøΩ2WÔøΩÔøΩ&ÔøΩÔøΩXÔøΩÔøΩÔøΩÔøΩÔøΩeÔøΩS`TÔøΩ'IYZÔøΩ0 7 ÔøΩÔøΩÔøΩ8ÔøΩ3*KÔøΩ`ÔøΩPH
bÔøΩÔøΩ ÔøΩ	ÔøΩÔøΩIÔøΩÔøΩJÔøΩBÔøΩ›ÄÔøΩÔøΩf3"$02'ÔøΩ'OÔøΩÔøΩ»¢TÔøΩÃ∫|l@2VÔøΩÔøΩÔøΩÔøΩ|`ÔøΩ48”°XÀñÔøΩo&ÔøΩgÔøΩ>ÿ£<ÔøΩtÔøΩg:ÔøΩNÔøΩÔøΩÔøΩ cxÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
oe=GÔøΩSÔøΩE5!iÔøΩ&ÔøΩ&ÔøΩ1ÔøΩÔøΩÔøΩÔøΩ`ÔøΩÔøΩ*^ÔøΩÔøΩÊö•WÔøΩÔøΩ»¢$iÔøΩÔøΩÔøΩ@ÔøΩ8ÔøΩÔøΩTÔøΩÔøΩÔøΩLÔøΩÔøΩÔøΩÔøΩxÔøΩÔøΩqÔøΩÔøΩ‚ÆïXÔøΩÔøΩÔøΩÔøΩÔøΩU&IÔøΩ#ÔøΩ?sÔøΩjSÔøΩTÔøΩ2ÔøΩcPUÔøΩ1ÔøΩ%ÔøΩ  IÔøΩÔøΩÔøΩ*ÔøΩÔøΩÔøΩÔøΩ`
»®ÔøΩG7ÔΩÅÔøΩ>ÔøΩÔøΩÍøÉÔøΩÔøΩÔøΩJÔøΩA
9ÔøΩAÔøΩÔøΩ ÔøΩ$arugÔøΩÔøΩÔøΩuh)ÔøΩÔøΩÔøΩSpÔøΩPÔøΩÔøΩÔøΩgl$SÔøΩ?ÔøΩ≈Ø)ÔøΩÔøΩÔøΩÔøΩÔøΩ	ÔøΩÔøΩÔøΩ“äÔøΩfÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ‡º∂fÔøΩ+H2ÔøΩÔøΩÔøΩbNÔøΩÔøΩÔøΩ1*ÔøΩkG{ÔøΩF:ÔøΩU9ÔøΩHWÔøΩiq8BÔøΩu4FÔøΩ6@`3ÔøΩÔøΩOZÔøΩRNÔøΩLÔøΩÔøΩbdÔøΩiOÔøΩÔøΩdjÔøΩÔøΩM|ÔøΩÔøΩAÔøΩA-ÔøΩ	2ÔøΩmÔøΩÔøΩ%ÔøΩe_bÔøΩÔøΩFÔøΩR'ÔøΩh 1ÔøΩ`cÔøΩLÔøΩ  ÔøΩzÔøΩÔøΩÔøΩÔøΩÔøΩ —ß|ÔøΩÔøΩT1Q:`ÔøΩ	aÔøΩ|ÔøΩ/@ÔøΩRÔøΩÔøΩÔøΩ ÔøΩHÔøΩmÔøΩÔøΩ6jÔøΩÔøΩkÔøΩÔøΩÔøΩÔøΩ:;`ÔøΩÔøΩ.ÔøΩÔøΩÔøΩqs<b&ÔøΩIJÔøΩÔøΩÔøΩ]T']( ÔøΩ 
IÂ∂õÔøΩ”êBÔøΩÔøΩÔøΩpÔøΩÔøΩÔøΩÔøΩÔøΩSÔøΩ‘™ÔøΩAÔøΩiÔøΩÔøΩÔøΩÔøΩ LjaÔøΩÔøΩÔøΩÔøΩcÔøΩÔøΩE*ÔøΩÔøΩÔøΩC0ÔøΩGÔøΩ\ÔøΩÔøΩcÔøΩZ3b7ÔøΩÔøΩÔøΩ>ÔøΩÔøΩ*–∞ÔøΩÔøΩo }ÔøΩ≈ΩÔøΩÔøΩJegEMBÔøΩÔøΩÔøΩ$ÔøΩÔøΩ l[GÔøΩVÔøΩÔøΩ8ÔøΩuAÔøΩÔøΩLÔøΩ@ÔøΩ ÔøΩ&ÔøΩÔøΩbÔøΩÔøΩ}nÔøΩEju('EMD JÔøΩÔøΩ ÔøΩ=ÔøΩl(ÔøΩ"SrÔøΩA ÔøΩj$\lJÔøΩÔøΩsqÔøΩ`ÔøΩ.ÔøΩÔøΩhÕ¶BÔøΩrÔøΩÔøΩÔøΩ0ÔøΩHÔøΩ&ÔøΩÔøΩOÔøΩÔøΩÔøΩQÔøΩÔøΩÔøΩ1uXbÔøΩÔøΩÔøΩFÔøΩPÔøΩ;wÔøΩ?\KkÔøΩÔøΩÔøΩ6ÔøΩÔøΩcÔøΩÔøΩCOjÔøΩ_iÔøΩ0@"fÔøΩ0unÔøΩÔøΩj:hL	ÔøΩÔøΩUÔøΩÔøΩ`ÔøΩ}ÔøΩÔøΩoMÔøΩÔøΩÔøΩ9dÔøΩŒùQÔøΩÔøΩ}p^CÔøΩÔøΩfÔøΩÔøΩsﬁ∂ÔøΩskÔøΩÔøΩ≈§ÔøΩ]ƒôLÔøΩ23ÔøΩ:SLÔøΩÔøΩÔøΩÔøΩ&[ÌâØÔøΩÔøΩXÔøΩÔøΩÔøΩÔøΩÔøΩq'ÔøΩÔøΩ$ÔøΩÔøΩ2!7ÔøΩÔøΩÔøΩF,ÔøΩPÔøΩSÔøΩÂúÇ;FÔøΩyÔøΩl)ÔøΩ\EÔøΩ?,ÔøΩuÔøΩÔøΩT3 |ÔøΩ	ÔøΩÔøΩÔøΩ^ÔøΩsÔøΩÔøΩoJ5uÔøΩÔøΩÔøΩuD‰®øﬂå_GÔøΩÔøΩd5};ÔøΩÔøΩÔøΩÔøΩ38mUÔøΩÔøΩ *ÔøΩ åblgÔøΩÔøΩ0O&g1ÔøΩZ:t-7d,C0$ÔøΩGl* XÔøΩw `ÔøΩÔøΩÔøΩÔøΩZÔøΩDze*
&dÔøΩlÔøΩ(ÔøΩ≈ßÔøΩÔøΩ4ÔøΩeHÔøΩCj"ÔøΩÔøΩ, ÔøΩÔøΩÔøΩÔøΩs9d$RÔøΩLÔøΩGÔøΩÔøΩÔøΩDdÔøΩÔøΩa≈éÔøΩ!OÔøΩÔøΩ…ΩzbÔøΩÔøΩj(ÔøΩÔøΩÔøΩÔøΩfÔøΩÔøΩÔøΩÔøΩ1”≤ÔøΩ äUÔøΩÔøΩ3&KÔøΩVÔøΩX[ÔøΩ
>ÔøΩ9ÔøΩjÔøΩÔøΩE0EÔøΩÔøΩPÔøΩÔøΩ—ØHÔøΩŒ´ÔøΩÔøΩÔøΩJÔøΩÔøΩOÔøΩOMÔøΩ…íiÔøΩÿà/ÔøΩ>	>pÔøΩÔøΩ,QÔøΩÔøΩÔøΩÔøΩUÔøΩÔøΩwYÔøΩ ÔøΩmÔøΩ ÔøΩÔøΩÔøΩÔøΩ∆≠ZuÔøΩÔøΩEÔøΩÔøΩFÔøΩvÔøΩhÔøΩÔøΩÔøΩdÔøΩ}@ ÔøΩ @ÔøΩzÔøΩAÔøΩuÔøΩ{ÔøΩ;}ÔøΩÔøΩÔøΩ5ÔøΩJÔøΩhÔøΩ{$ÔøΩÔøΩÔøΩÔøΩ$)ÔøΩ/ÔøΩÔøΩldzBÔøΩ]+NÔøΩÔøΩ	Pu}ÔøΩÔøΩÔøΩÔøΩ0ÔøΩ·ú∫ÔøΩiÔøΩÔøΩ}QÔøΩg%{ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩoÔøΩ<ÔøΩ->ÔøΩsMÔøΩÔøΩh
[ÔøΩHÔøΩ,7&0ÔøΩÔøΩ|?ÔøΩÔøΩIÔøΩ3ÔøΩÔøΩm5ÔøΩÔøΩ)PYÔøΩoÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÊúÖÔøΩ(ÔøΩm3FÔøΩ552{ÔøΩ4LÔøΩ$MÔøΩÔøΩ}qÔøΩÔøΩ?ÔøΩÔøΩÔøΩ'·ò∂ÔøΩÔøΩÔøΩ}$D]ÔøΩÔøΩ9ÔøΩuLÔøΩjuÔøΩÔøΩ UÔøΩÔøΩ$ÔøΩÔøΩRÔøΩb"@ÔøΩÔøΩ|ÔøΩYÔøΩ3kÔøΩ. WÔøΩFÔøΩÔøΩÔøΩ:ÔøΩÔøΩFÔøΩ9ÔøΩaÔøΩ~A&;ÔøΩÔøΩ‰≤πÔøΩÔøΩQÔøΩ
ÔøΩÔøΩÔøΩ%ÔøΩO};Œ¶\ÃµÔøΩ/ÔøΩÔøΩ2tÔøΩÔøΩJy\ÔøΩvÔøΩÔøΩÔøΩRÔøΩ EÔøΩÔøΩÔøΩÔøΩqÔøΩÔøΩ=\UÔøΩÔøΩÔøΩ-ÔøΩ)%ÔøΩ9`iq≈åÔøΩÔøΩÔøΩÔøΩ]|kÔøΩ@ÔøΩÔøΩÔøΩ“ãiÔøΩPÔøΩÔøΩ|ÔøΩ@ÔøΩbÔøΩBÔøΩSÔøΩ^ÔøΩÔøΩFÔøΩKÔøΩ#ZÔøΩÔøΩÔøΩÔøΩ:ÔøΩÔøΩÔøΩÔøΩgÔøΩCÔøΩÔøΩÔøΩI5	~“äÔøΩZÔøΩÔøΩÔøΩ QÔøΩfÔøΩYnÔøΩÔøΩÔøΩ%ÔøΩzuÔøΩQYVÔøΩQ‘£6ÔøΩÔøΩÔøΩ@¬¨ÔøΩÔøΩÔøΩ3ÔøΩ`ÔøΩeÔøΩÔøΩÔøΩoU4ÔøΩIXXCX{.3ÔøΩ<cÔøΩkÔøΩÀíÔøΩ9ÔøΩÔøΩUVÔøΩL 
ÔøΩÔøΩÔøΩÔøΩdÔøΩ"ÔøΩÔøΩ ÔøΩ3q4ÔøΩÔøΩÔøΩÔøΩ’ãÔøΩÔøΩ	ÔøΩ<ÔøΩ}wÔøΩGÔøΩ)%TÔøΩLDjÔøΩ'ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩBÔøΩÔøΩÔøΩRÔøΩÔøΩÔøΩÔøΩA ÔøΩAÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ#ÔøΩÔøΩc,ÔøΩyw4u~ÔøΩÔøΩ¬•VÔøΩÔøΩÔøΩ(ÔøΩ4ÔøΩsÔøΩÔøΩpÔøΩ=ÔøΩe(ÔøΩÔøΩT#IÔøΩÔøΩ$ÔøΩÔøΩSÔøΩ1ÔøΩX{ÔøΩmvÔøΩ5EÔøΩÔøΩQFÔøΩÃÄÔøΩÔøΩfÔøΩLÔøΩ1ÔøΩLÔøΩÔøΩÔøΩ-ÔøΩRÔøΩÔøΩÔøΩÔøΩSÔøΩZ	 ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ3X7ÔøΩqÔøΩÔøΩHw/ÔøΩÔøΩÔøΩÔøΩAÔøΩqÔøΩSmÔøΩqYÔøΩH?ÔøΩtÔøΩ0K
0{ÔøΩTiÔøΩs'q!~
I	ÔøΩÔøΩÔøΩQYÔøΩW`ÔøΩwfÔøΩ"ÔøΩezZÔøΩ5!+ÔøΩevÔøΩ`$ÔøΩÔøΩÔøΩÔøΩ4ÔøΩÔøΩ^
jÔøΩYÔøΩ]ZÔøΩÔøΩH`HÔøΩJÔøΩptÔøΩÔøΩÔøΩ|ÔøΩ+“®RIÔøΩ\ÔøΩÔøΩÔøΩÔøΩIÔøΩÔøΩÔøΩYÔøΩeÔøΩÔøΩuÔøΩ'LÔøΩÔøΩ$ÔøΩÔøΩ ÔøΩÔøΩ8gÔøΩÔøΩ5ÔøΩ—®ÔøΩGÔøΩÔøΩUPÔøΩ`&ÔøΩÔøΩCÔøΩÔøΩT\`LY$	S>ÔøΩŒà1iÔøΩÔøΩmÔøΩBÔøΩÔøΩ1<ÔøΩWÔøΩ»îÔøΩÔøΩÔøΩÔøΩjÔøΩÔøΩÔøΩÔøΩ*P(;b|oÔøΩlÔøΩÔøΩ=?√µFÔøΩÔøΩÔøΩX
ÔøΩÔøΩAÔøΩÔøΩf3ÔøΩ“íÔøΩ
UAÔøΩÔøΩjÔøΩ EÔøΩÔøΩÔøΩ(ÔøΩw[ÔøΩueÔøΩÔøΩ
ÔøΩÔøΩ%ÔøΩÔøΩÔøΩÔøΩ<ÔøΩcŸûÔøΩ&ÔøΩ@, ÔøΩ.@_ÔøΩ3ÔøΩÔøΩwÔøΩÔøΩ`Ia 1=ÔøΩ,$( "oD`Ÿ†ÔøΩA$ÔøΩ.!ÔøΩÔøΩlÔøΩhÔøΩRlÔøΩÔøΩGeuÔøΩÔøΩjÔøΩÂ∏ø'PÔøΩxÔøΩ8qÔøΩÔøΩGÔøΩ-ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ‘¢ÔøΩÔøΩÀô7ÔøΩÔøΩÔøΩ_+ÔøΩÔøΩÔøΩÔøΩkbJ55[ÔøΩe  ÔøΩÔøΩÓ≤ÆÔøΩ6ÔøΩÔøΩÔøΩy`ÔøΩÔøΩÔøΩ?ÔøΩ
/ÿûIÿåÔøΩ,ÔøΩ&ÔøΩ“¶#YD&6ÔøΩGÔøΩ ÔøΩ≈üÔøΩTÔøΩ+*UhkÔøΩ7ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩwÔøΩÔøΩÔøΩVÔøΩÔøΩ$vÔøΩÔøΩuÔøΩ(ÔøΩTÔøΩ ÔøΩPÔøΩRÔøΩÔøΩ*ÔøΩGÔøΩÔøΩÔøΩÔøΩÔøΩA5ÔøΩyu ÔøΩÔøΩÔøΩÔøΩ 1UÔøΩmÔøΩhÔøΩoÔøΩ9ÔøΩÔøΩÔøΩœ¶ÔøΩÔøΩÔøΩÔøΩfÔøΩÔøΩ0ÔøΩT2&ÔøΩa3ÔøΩÔøΩÔøΩÔøΩeÔøΩÔøΩj3]ÔøΩMÔøΩVnmÔøΩÔøΩ}IÔøΩÔøΩ #S<ÔøΩÔøΩÔøΩ∆´ÔøΩAÔøΩ-nÔøΩQÔøΩxÔøΩÔøΩÔøΩ-ÔøΩ7ÔøΩÔøΩÔøΩ ÔøΩoÔøΩÔøΩ,ÔøΩÔøΩ3h&ÔøΩÔøΩÔøΩ:XLÔøΩÔøΩÔøΩÔøΩiÔøΩ.ÔøΩ´¶à`KÔøΩÔøΩSÔøΩeÔøΩÔøΩ ÔøΩ=ÔøΩÔøΩÔøΩÔøΩRÔøΩÔøΩÔøΩÔøΩÔøΩh>ÔøΩbDÔøΩOs$ÔøΩ@ÔøΩo3VAM?H$-2ÔøΩÔøΩHÔøΩ{ÔøΩÔøΩoÔøΩ<ÔøΩÔøΩÔøΩÔøΩÔøΩr+ÔøΩÔøΩÔøΩÔøΩ4ÔøΩÔøΩ(ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩj8U%ÔøΩP	$	ÔøΩ8^pÔøΩÔøΩ5ÔøΩÔøΩtÔøΩÔøΩ?ÔøΩHÔøΩÔøΩ`&ÔøΩX›à$8ÔøΩ[ÔøΩ%ÔøΩÔøΩxe ÔøΩLoÔøΩÔøΩmÔøΩÔøΩuÔøΩkÔøΩ)ÔøΩ Ö’†.ÔøΩÔøΩji ÔøΩXy7oÔøΩ5?ÔøΩZT
Q@pÔøΩÔøΩ ÔøΩ RÔøΩÔøΩÔøΩ UeÔøΩÔøΩÔøΩ Y6SHÔøΩabÔøΩ5iÔøΩÔøΩÔøΩÔøΩrÔøΩÈçÄÔøΩxÔøΩc#ÔøΩÔøΩÔøΩiÔøΩÔøΩdvÔøΩÔøΩ…üÔøΩÔøΩ~ÔøΩ_ÔøΩÔøΩYZÔøΩ ÔøΩÔøΩSoEÔøΩÔøΩ\T;	7#KÔøΩÔøΩﬁçrYÔøΩdn“ìÔøΩÔøΩmR ⁄≤ÔøΩÔøΩÔøΩ'UÏôâÔøΩÔøΩPÀÉ(ÔøΩÔøΩvgfDÔøΩÔøΩÔøΩÔøΩ'2ﬂÉGÔøΩU
1sÔøΩÔøΩHÔøΩÔøΩÔøΩÔøΩÔøΩVÔøΩ(ÔøΩIÔøΩÔøΩ:ÔøΩÔøΩJÔøΩ6iÔøΩÔøΩf'ÔøΩÔøΩ9JÔøΩXÔøΩ!r@5ÔøΩR$l,ÔøΩÔøΩ68ÔøΩ^ÔøΩÔøΩiÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ A3ÔøΩÔøΩoÔøΩ!ÔøΩÔøΩ*3UÔøΩÔøΩJÔøΩÔøΩ8ÔøΩÔøΩbfÔøΩR.ÔøΩ SÔøΩÔøΩÔøΩÔøΩ#NÔøΩÔøΩÔøΩÔøΩT÷®RÔøΩ"A ÔøΩWU:TÔøΩNÔøΩ^6ÔøΩyÔøΩÔøΩÔøΩIÔøΩ`ÔøΩÔøΩÔøΩ!bÔøΩÔøΩHÔøΩui6;x≈πNÔøΩYÔøΩOÔøΩTÔøΩÔøΩa~ÔøΩ'H;ÔøΩ'ÔøΩYÔøΩTÔøΩEÔøΩ~W:lK aÔøΩ4b$M«õ‘ΩK/MÔøΩsÔøΩ
ÔøΩ–®ÔøΩbQÔøΩTÔøΩTÔøΩ
ÔøΩO;`T?ÔøΩÔøΩÔøΩtk>ÔøΩ5ÔøΩ”üÔøΩ6ÔøΩ{&;ÔøΩÔøΩyÔøΩÔøΩfÔøΩÔøΩQÔøΩjÔøΩ∆ÇLÔøΩÔøΩD,}GÔøΩÔøΩÔøΩÔøΩUZÔøΩM}eTÔøΩÔøΩCÔøΩCÔøΩÔøΩ-ÔøΩMÔøΩCÔøΩjÔøΩajÔøΩÔøΩ4ÔøΩÔøΩ~ÔøΩ `ÔøΩÔøΩÔøΩ}ÔøΩ_ÔøΩFCÔøΩ^ÔøΩÔøΩ=ÔøΩÔøΩÔøΩ4ÔøΩr5ÔøΩyÔøΩÔøΩ{ÔøΩÔøΩuDS,OÔøΩÔøΩÔøΩwcÔøΩÔøΩ_ÔøΩ4ÔøΩÔøΩÍõ•ÔøΩ2\ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩDF9ÔøΩÔøΩ`ÔøΩh-GÔøΩQHÔøΩK@UÔøΩL2ÔøΩ,ÔøΩÔøΩÔøΩÔøΩ?ÔøΩÔøΩÔøΩTÔøΩJÔøΩiUÔøΩ	ÔøΩNÔøΩÔøΩdqvÔøΩÔøΩ€ëÔøΩÔøΩQÔøΩi6ÔøΩfÔøΩUh**ÔøΩMiÔøΩEÔøΩÔøΩÔøΩ+G[ÔøΩfÔøΩVÔøΩj!ÔøΩÔøΩ
ÔøΩjÔøΩÔøΩŒéÔøΩdÔøΩ«≥ÔøΩÔøΩh
ÔøΩ35ÔøΩÔøΩÔøΩÔøΩÔøΩ$">ÔøΩpAÔøΩVÔøΩÔøΩÔøΩUÔøΩMÔøΩÔøΩyÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩZÔøΩVÔøΩÔøΩÔøΩk"ÔøΩÔøΩHÔøΩ ÔøΩÔøΩ
3
ÔøΩÔøΩÔøΩÔøΩ/XÔøΩTÔøΩÔøΩdÔøΩrÔøΩÔøΩZ,nyÔøΩÔøΩÔøΩ\(ÔøΩÔøΩIUWÔøΩÔøΩT)&HÔøΩqÔøΩsÔøΩ¬îÔøΩ3]d‘®ÔøΩ0ÔøΩ*ÔøΩHaÔøΩÔøΩ
1XÔøΩÔøΩÔøΩÔøΩÔøΩ,ÔøΩÔøΩÔøΩÔøΩir ÔøΩd*ÔøΩ-ÔøΩÔøΩ/>ÔøΩÔøΩheÔøΩÔøΩ*ﬁ±wBÔøΩ÷üÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ%ÔøΩq HÔøΩFeÔøΩu2ÔøΩÔøΩQuÔøΩ>GÔøΩÔøΩcÔøΩÔøΩÔøΩ$ÔøΩpÔøΩ,qkÔøΩÔøΩÔøΩ yÔøΩÔøΩE[f@mJÔøΩÔøΩ6>uoÔøΩNJÔøΩd2ŒßV–¥◊∏2+ÔøΩaPÔøΩ ÔøΩf?$ÔøΩÔøΩYYÔøΩ3ÔøΩPYÔøΩUE»ÇÔøΩÔøΩÔøΩÔøΩÔøΩƒ∫]Z0¬ªÔøΩ⁄ïÔøΩÔøΩ8ÔøΩ ÔøΩ€àÔøΩÔøΩÔøΩÔøΩÔøΩ-ÔøΩ&9ÔøΩÔøΩ{!ÔøΩÔøΩAÔøΩÔøΩ(DLÔøΩÔøΩ (Kh`
ÔøΩÔøΩDI=VÔøΩhÔøΩ6ÔøΩÔøΩ*59ÔøΩ ÔøΩ_ÔøΩÔøΩ√áÔøΩ`ÔøΩh: T
ÔøΩ62H]sÔøΩqÔøΩTUZÔøΩjÔøΩdfU%UÔøΩÔøΩÔøΩ'ÔøΩÔøΩBÔøΩ	ÔøΩÔøΩHÔøΩÔøΩÔøΩÔøΩ”ÄÔøΩ›óNÔøΩÔøΩ:ÔøΩÔøΩÔøΩ%uÔøΩÃÅÔøΩÔøΩÔøΩÔøΩ5ÔøΩEÔøΩÃ´
ÔøΩeÔøΩ#J∆Ä5bMÔøΩÔøΩÔøΩ&ÔøΩ4ÔøΩ0ÔøΩÔøΩ⁄äÔøΩÔøΩ'QÔøΩÔøΩdÔøΩÔøΩ1cÔøΩÔøΩ ÔøΩPÔøΩAÔøΩ-ÔøΩÔøΩÔøΩXÔøΩÔøΩ]ÔøΩ…ÅÔøΩÔøΩZ*ÔøΩÔøΩ“´ÔøΩATÔøΩ&iA6$ÔøΩÔøΩœºÔøΩÔøΩZ‘àVP;ÔøΩ/kÔøΩ$\{ÔøΩÔøΩÔøΩ*9ÔøΩÔøΩ!u7ÔøΩ@mÔøΩ ÔøΩS\ÔøΩÔøΩjÃ±&XÔøΩ7
&–¶	WÔøΩÔøΩJmL*ÔøΩQÔøΩÔøΩQÔøΩÔøΩ@RÔøΩ ÔøΩHÔøΩÎ´çÔøΩ-IjÔøΩ‹ªÔøΩGÔøΩEÔøΩÔøΩÔøΩÔøΩ"fjÔøΩÔøΩÔøΩIÔøΩÔøΩÔøΩÔøΩ&ÔøΩÔøΩÔøΩmÔøΩGY.Uu/zÔøΩÔøΩTŒ©ÔøΩÔøΩ&dÔøΩ	ÔøΩÔøΩÔøΩ%”Å:XÔøΩÔøΩ'ÔøΩYÔøΩÔøΩ0O ÔøΩÔøΩÔøΩÔøΩJjÔøΩ≈à+2ÔøΩÔøΩ q+&ÔøΩvÔøΩiFÔøΩZÔøΩÔøΩÔøΩPÔøΩÔøΩÔøΩ«ùÔøΩ0ÔøΩÔøΩ8{ÔøΩzJÔøΩÔøΩÔøΩiÔøΩtXÔøΩ'D]ÔøΩOÔøΩ'ÔøΩoÔøΩÔøΩ
ÔøΩ.ÔøΩÔøΩ	%ÔøΩÔøΩÔøΩ ÔøΩVPÔøΩÔøΩÔøΩsÔøΩÔøΩÔøΩÔøΩ(ÔøΩÔøΩÔøΩJ2ÔøΩvÔøΩ5AÔøΩÔøΩÔøΩqMÔøΩÔøΩÔøΩ:ÔøΩÔøΩÔøΩ3ÔøΩÔøΩ6ÔøΩÔøΩÕº`-I	ÔøΩÔøΩÔøΩÔøΩU ÔøΩ ÔøΩ œøNE<ÔøΩ\_JÔøΩÔøΩÔøΩÔøΩÔøΩlIÔøΩÔøΩÔøΩ√æÔøΩÔøΩÔøΩÔøΩtfÔøΩÔøΩ]ÔøΩÔøΩÔøΩÔøΩ4$ÔøΩÔøΩÔøΩÔøΩÔøΩjÔøΩ!i$»í8ÔøΩ	ÔøΩÔøΩ”∑3ÔøΩÔøΩSÔøΩÔøΩ4ÔøΩSÔøΩ⁄äuS LÔøΩ[ÔøΩÔøΩ√îÔøΩÔøΩÔøΩ_ÔøΩwÔøΩiUv ÔøΩ≈Å@ZÔøΩ4ÔøΩ&ÔøΩp&FÔøΩÔøΩZÔøΩÔøΩÃ¶o/ÔøΩÔøΩÔøΩ6ÔøΩÔøΩÔøΩÔøΩ]5ÔøΩ(«•ÔøΩaÔøΩ)ÔøΩZ_ÔøΩIup'	ÔøΩÔøΩZÔøΩÔøΩÔøΩÔøΩIÔøΩa6ÔøΩÔøΩÔøΩÔøΩ0ÔøΩsEcÔøΩÔøΩ~t*e)ÔøΩ	gjÔøΩÔøΩDÔøΩeX2d
ÔøΩÔøΩnÔøΩtÔøΩÔøΩeÔøΩÔøΩK`	ÔøΩWÔøΩbl;ÔøΩÔøΩÔøΩK\ÔøΩÔøΩÔøΩÔøΩK/DRjÔøΩ-. ,lÔøΩNÔøΩÔøΩÔøΩ3ÔøΩ ÔøΩ
ÔøΩ/NÔøΩAÔøΩÔøΩ(
UÔøΩÔøΩX NÔøΩÔøΩ$œú`ÔøΩKFÔøΩÔøΩÔøΩ BÔøΩÔøΩ=6jÔøΩÔøΩÔøΩCMÔøΩƒàÔøΩÔøΩÔøΩÔøΩÔøΩ6ÔøΩÔøΩkÔøΩ’ïÔøΩÔøΩUÔøΩ.ÔøΩ)ÔøΩÔøΩ0ÔøΩ;ÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩ9DÕôÔøΩÔøΩ}LÔøΩCVn=ÔøΩÔøΩÔøΩÔøΩ4ÔøΩÔøΩi◊ØYÔøΩÔøΩÔøΩ’éÔøΩ@ÔøΩÔøΩ~ÔøΩÔøΩÔøΩÔøΩ[2ÔøΩ*Àö(@ÔøΩAZÔøΩÔøΩE2ÔøΩ}ÔøΩlh<(#RvÔøΩ`ÔøΩÔøΩ*ÔøΩ<HÔøΩ(ÔøΩ7ÔøΩÔøΩ?ÔøΩÔøΩÔøΩÔøΩDÔøΩUf
ÔøΩÔøΩi!ÔøΩiÔøΩdC|aNÔøΩUÔøΩÔøΩjfÔøΩÔøΩ+ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩr'ÔøΩ#ÔøΩ/ÔøΩÔøΩ.ÔøΩO–†ÔøΩJeUÔøΩ\ÔøΩÔøΩÔøΩÔøΩ@m0OsÔøΩzÔøΩVÔøΩJÔøΩÔøΩ’§ÔøΩA,ÔøΩÔøΩÔøΩvÔøΩÔøΩ'ÔøΩÔøΩQÔøΩ*ÔøΩUÔøΩÔøΩÔøΩ-ÔøΩÔøΩÔøΩÔøΩ=ÔøΩÔøΩÔøΩ{»∂ÔøΩP(ÔøΩ~vÔøΩÔøΩCÔøΩ
"IÔøΩLÔøΩÔøΩ>ÔøΩÔøΩÔøΩCÔøΩ-ÔøΩ(4RÔøΩÔøΩIÔøΩÔøΩÔøΩÔøΩ42ÔøΩ}ÔøΩ
ÔøΩcÔøΩÔøΩnÔøΩÔøΩÔøΩ{ÔøΩ ;MÔøΩKZÔøΩÔøΩ,,dÔøΩÔøΩDÔøΩ3ÔøΩ^ÔøΩ:BÔøΩ‘§1ÔøΩÔøΩÔøΩyÔøΩÔøΩ}OÔøΩÔøΩÔøΩÔøΩVÔøΩWUcÔøΩÔøΩ[RÔøΩ"ÔøΩkÔøΩ>e2ÔøΩÔøΩÔøΩÔøΩÔøΩ5ÔøΩÔøΩﬂàÔøΩ!ÔøΩjÔøΩÔøΩFRoÔøΩÔøΩÔøΩÔøΩ|=ÔøΩÔøΩeË∞¶ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩr93ÔøΩ=cÔøΩLÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩUP>ÔøΩ@sÔøΩl0OÔøΩÔøΩÔøΩjtÔøΩ-MÔøΩP2”¶$ÔøΩHkÔøΩÔøΩ"ÔøΩ'ÔøΩÔøΩÔøΩÔøΩ?ÔøΩ~SÔøΩÔøΩ"cPÔøΩÔøΩhÔøΩ4ÔøΩÔøΩÔøΩÔøΩSÔøΩÔøΩÔøΩ4ÔøΩ+(Q)ÔøΩJd
Vh 1ÔøΩÔøΩÔøΩÔøΩ
3ÔøΩ*ÔøΩÔøΩZ2ÔøΩjÔøΩÔøΩÔøΩ5"ÔøΩpÔøΩ	 
ÔøΩf
ÔøΩÔøΩÔøΩÔøΩ/ÔøΩzÔøΩzÔøΩ¬äHÔøΩHee ÔøΩ›†|ÔøΩ {"bÔøΩq9ÔøΩÔøΩP◊•ÔøΩ8ÔøΩ|QÔøΩÔøΩI}:ÔøΩ `4ÔøΩÔøΩ'ÔøΩ`&ÔøΩÔøΩ|c2ÔøΩﬁïSÔøΩÔøΩcYISÔøΩ_IÔøΩ#J,HÔøΩÔøΩÔøΩÔøΩzÔøΩJ1TÔøΩMÔøΩÔøΩÔøΩ#xÔøΩPxÔøΩÔøΩ‹õÔøΩÔøΩÔøΩVÔøΩÔøΩÔøΩ}`ÔøΩÔøΩ%DÔøΩÔøΩ∆´ÔøΩ[‹á1iDeÔøΩO&wÔøΩfjÔøΩjÔøΩÔøΩÔøΩK#S÷•tÔøΩ
ÔøΩsÔøΩÔøΩÔøΩ-ÔøΩÔøΩÔøΩ	ÔøΩtÔøΩÔøΩ!CÔøΩÔøΩn l@,lIÔøΩÔøΩÔøΩÔøΩ
‘µ‘ØÔøΩiÔøΩ0LÔøΩÔøΩÔøΩzk,L
ÔøΩÔøΩÔøΩHÔøΩS2∆ìzvbAÔøΩÔøΩÔøΩÂåÄllbÔøΩÔøΩeÔøΩT=Q!kÔøΩÔøΩÔøΩÔøΩU!ÔøΩ#L
ÔøΩ«¥s8ÔøΩt
ÀßM@&ÔøΩ`AÔøΩÔøΩdH0o,.^#=ÔøΩ+ÔøΩ!ÔøΩÔøΩOÔøΩÔøΩÔøΩ>pÔøΩ)ÔøΩ}T)ÔøΩ#@ÔøΩÔøΩÔøΩÔøΩÔøΩÔà±ÔøΩÔøΩPoÔøΩÔøΩ-KÔøΩu,
ÔøΩÔøΩÔøΩBƒ∞ ÔøΩÔøΩÔøΩÔøΩ’°Y
ÔøΩÔøΩTÔøΩKSÔøΩDÔøΩdÔøΩ#m[ÔøΩ`I
~ÔøΩÔøΩÔøΩEYWÔøΩÔøΩDÔøΩÔøΩe'f
6ÔøΩ_ÔøΩz#◊®ÔøΩÔøΩ.ÔøΩÔøΩiÔøΩP ÔøΩÔøΩ|ÔøΩÔøΩL|ÔøΩÔøΩzyx3ÔøΩ7ÔøΩÔøΩzYÔøΩPÔøΩÔøΩÔøΩTÔøΩ ÔøΩÔøΩÔøΩ«åis(ÔøΩuÔøΩ4ÔøΩ^ÔøΩÔøΩÔøΩ_RÔøΩbÔøΩÔøΩw;ÔøΩÔøΩÔøΩÕâÔøΩIÔøΩÔøΩ>ÔøΩm5)ÔøΩÔøΩI$ÔøΩÔøΩÕßÔøΩ
ÔøΩÔøΩÔøΩÔøΩ"Ã∫eÔøΩÔøΩ*zÔøΩM6QÔøΩ bÔøΩÔøΩ5)ÔøΩÔøΩoÔøΩÔøΩÔøΩy.HÔøΩÔøΩIcÔøΩÔøΩ-ÔøΩLÔøΩeÔøΩÔøΩBÔøΩÔøΩÔøΩÔøΩPvÔøΩÔøΩ0ÔøΩ'ÔøΩÔøΩzzÔøΩ}ÔøΩ’Ø^ÔøΩ- "ÔøΩ@?ÔøΩÔøΩ&JÔøΩvÔøΩzÔøΩÔøΩRÔøΩÔøΩWSLj
cA?ÔøΩÔøΩ,ÔøΩÔøΩCÔøΩ9ÔøΩ#ÔøΩÔøΩÔøΩÔøΩNÔøΩÔøΩ(ÔøΩCT$ÔøΩÔøΩÊ∂ÅÔøΩMÔøΩÔøΩ0I&/ÔøΩÔøΩfÔøΩVvR ÔøΩhÔøΩ0YL7fÔøΩÔøΩ1wOÔøΩJÔøΩ]ÔøΩÔøΩ|ÔøΩfÔøΩŒ†ÔøΩÔøΩ!ÔøΩ"ÔøΩ6ÔøΩ}ÔøΩÔøΩ9ÔøΩÔøΩQÔøΩÔøΩ/jÔøΩÔøΩ
GÔøΩ,,ÔøΩÔøΩhÔøΩ
ÔøΩÔøΩzÔøΩÔøΩÔøΩ'jÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ)ÔøΩÔøΩÔøΩÔøΩOI:ÔøΩÔøΩ
ÔøΩÔøΩÔøΩ9ÔøΩ ÔøΩÔøΩÔøΩ|-ÔøΩÔøΩU:ÔøΩÔøΩ!a`ÔøΩƒí⁄âÔøΩÔøΩpÔøΩÔøΩÔøΩQQ5 ÔøΩÔøΩÔøΩ-ÔøΩ0~_ÔøΩ:ÔøΩIoOÔøΩÔøΩÔøΩ≈øÔøΩ4«ßvÔøΩÔøΩ]G⁄ã)ÔøΩÔøΩ0I=ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ5ÔøΩƒ¢ÔøΩÔøΩTÔøΩƒüÔøΩ|ÔøΩT;ÔøΩÔøΩ`OÔøΩEÔøΩ
]8ÔøΩÔøΩÔøΩÔøΩT”±n#ÔøΩ(ÔøΩ ÔøΩÔøΩÔøΩkÔøΩ+$ÔøΩÔøΩÔøΩÔøΩ

index.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ include file="fragments/header.jsp" %>

<div class="container" style="max-width: 900px; margin: 50px auto; text-align: center;">
    <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ComputerList</h1>
    <p>–í—ã–±–∏—Ä–∞–π—Ç–µ –º–æ—â–Ω—ã–µ –ü–ö –¥–ª—è –∏–≥—Ä –∏ –±—Ä–æ–Ω–∏—Ä—É–π—Ç–µ –≤—Ä–µ–º—è –æ–Ω–ª–∞–π–Ω!</p>

    <a href="${pageContext.request.contextPath}/computers"
       style="display:inline-block; margin-top: 20px; padding:10px 20px; background:#007bff; color:white; border-radius:5px; text-decoration:none;">
       –í—ã–±—Ä–∞—Ç—å –ü–ö
    </a>
</div>

<%@ include file="fragments/footer.jsp" %>


IndexServlet.java

package com.computerlist.controller;


import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import java.io.IOException;

@WebServlet(name = "IndexServlet", urlPatterns = {"/index"})
public class IndexServlet extends HttpServlet {

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        // –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ JSP
        request.getRequestDispatcher("templates/index.jsp").forward(request, response);
    }
}

JsonResponseWriter.java

package com.computerlist.util;

import jakarta.servlet.http.HttpServletResponse;
import org.json.JSONArray;
import org.json.JSONObject;

import java.io.IOException;
import java.util.List;
import java.util.Map;

public class JsonResponseWriter {

    // –î–ª—è Map
    public static void write(HttpServletResponse response, Map<String, Object> data) throws IOException {
        response.setContentType("application/json; charset=UTF-8");
        JSONObject json = new JSONObject(data);
        response.getWriter().write(json.toString());
    }

    // –î–ª—è —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤
    public static void writeJson(HttpServletResponse response, List<?> data) throws IOException {
        response.setContentType("application/json; charset=UTF-8");
        JSONArray jsonArray = new JSONArray();

        for (Object obj : data) {
            JSONObject jsonObject = new JSONObject(obj);
            jsonArray.put(jsonObject);
        }

        response.getWriter().write(jsonArray.toString());
    }
}

log4j2.xml

<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="INFO">
    <Appenders>
        <!-- –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å -->
        <Console name="Console" target="SYSTEM_OUT">
            <PatternLayout pattern="[%d{HH:mm:ss}] [%t] %-5level %logger{36} - %msg%n" />
        </Console>

        <!-- –õ–æ–≥–∏ –≤ —Ñ–∞–π–ª -->
        <File name="FileLog" fileName="logs/app.log" append="true">
            <PatternLayout pattern="[%d{yyyy-MM-dd HH:mm:ss}] %-5p %c{1}:%L - %m%n" />
        </File>
    </Appenders>

    <Loggers>
        <!-- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–≤–æ–µ–≥–æ –ø–∞–∫–µ—Ç–∞ -->
        <Logger name="com.computerlist" level="debug" additivity="false">
            <AppenderRef ref="Console" />
            <AppenderRef ref="FileLog" />
        </Logger>

        <!-- –ö–æ—Ä–Ω–µ–≤–æ–π –ª–æ–≥–≥–µ—Ä (–¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π) -->
        <Root level="info">
            <AppenderRef ref="Console" />
        </Root>
    </Loggers>
</Configuration>

login.jsp

<%@ page contentType="text/html;charset=UTF-8" pageEncoding="UTF-8" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ include file="/templates/fragments/header.jsp" %>

<div class="container" style="max-width: 500px; margin: 60px auto; text-align: center;">
    <h2>–í—Ö–æ–¥</h2>

    <form action="${pageContext.request.contextPath}/login" method="post" style="text-align: left;">
        <div style="margin-bottom: 15px;">
            <label><strong>Email:</strong></label><br>
            <input type="email" name="email" required style="width: 100%; padding: 8px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label><strong>–ü–∞—Ä–æ–ª—å:</strong></label><br>
            <input type="password" name="password" required style="width: 100%; padding: 8px;">
        </div>

        <button type="submit" style="width: 100%; padding: 10px; background: #007bff; color: white; border: none; border-radius: 5px; font-size: 16px;">
            –í–æ–π—Ç–∏
        </button>
    </form>

    <% if (request.getAttribute("error") != null) { %>
        <p style="color: red; margin-top: 15px;">
            <%= request.getAttribute("error") %>
        </p>
    <% } %>

    <div style="margin-top: 20px;">
        <a href="${pageContext.request.contextPath}/register" style="color: #28a745; text-decoration: none;">
            –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        </a>
    </div>
</div>

<%@ include file="/templates/fragments/footer.jsp" %>

LoginServlet.java

package com.computerlist.controller.Auth;

import com.computerlist.model.Role;
import com.computerlist.model.User;
import com.computerlist.service.RoleService;
import com.computerlist.service.UserService;
import com.computerlist.service.impl.RoleServiceImpl;
import com.computerlist.service.impl.UserServiceImpl;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.*;
import java.io.IOException;

@WebServlet("/login")
public class LoginServlet extends HttpServlet {
    private UserService userService;
    private RoleService roleService;

    @Override
    public void init() {
        userService = new UserServiceImpl();
        roleService = new RoleServiceImpl();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        req.getRequestDispatcher("templates/user/login.jsp").forward(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        String email = req.getParameter("email");
        String password = req.getParameter("password");

        User user = userService.authenticate(email, password);

        if (user != null) {
            HttpSession session = req.getSession();
            session.setAttribute("user", user);
            String role = roleService.getRoleById(user.getRoleId()).getName();
            // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏
            switch (role) {
                case "MANAGER" -> resp.sendRedirect("admin/profile");
                default -> resp.sendRedirect("profile");
            }
        } else {
            req.setAttribute("error", "–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å");
            req.getRequestDispatcher("templates/user/login.jsp").forward(req, resp);
        }
    }
}


logout.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<%@ include file="/templates/fragments/header.jsp" %>

<div class="container" style="max-width: 600px; margin: 50px auto; text-align: center;">
    <h2>–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?</h2>

    <form method="post" action="${pageContext.request.contextPath}/logout">
        <button type="submit" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">
            –í—ã–π—Ç–∏
        </button>
        <a href="${pageContext.request.contextPath}/index" style="margin-left:20px; font-size:16px; text-decoration:none;">
            –û—Ç–º–µ–Ω–∞
        </a>
    </form>
</div>

<%@ include file="/templates/fragments/footer.jsp" %>

LogOutServlet.java

package com.computerlist.controller.Auth;

import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;

import java.io.IOException;

@WebServlet("/logout")
public class LogOutServlet extends HttpServlet {

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.getRequestDispatcher("/templates/user/logout.jsp").forward(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false); // –ø–æ–ª—É—á–∞–µ–º —Å–µ—Å—Å–∏—é
        if (session != null) {
            session.invalidate(); // —É–¥–∞–ª—è–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏
        }
        resp.sendRedirect(req.getContextPath() + "/index");
    }
}

merged.txt


pagination.js


function loadPage(page) {
    const form = document.getElementById("searchForm");
    const formData = new FormData(form);
    formData.set("page", page); // –ø–µ—Ä–µ–¥–∞—ë–º –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    const params = new URLSearchParams(formData).toString();
    fetch(form.action + "?" + params + "&ajax=1")
        .then(res => res.text())
        .then(html => document.getElementById("results").innerHTML = html)
        .catch(err => console.error(err));
}

PasswordHasher.java

package com.computerlist.util;

import java.security.MessageDigest;
import java.security.NoSuchAlgorithmException;
import java.util.Objects;

public class PasswordHasher {

    public static String hash(String password) {
        try {
            MessageDigest md = MessageDigest.getInstance("SHA-256");
            byte[] hashed = md.digest(password.getBytes());
            StringBuilder sb = new StringBuilder();
            for (byte b : hashed) {
                sb.append(String.format("%02x", b));
            }
            return sb.toString();
        } catch (NoSuchAlgorithmException e) {
            throw new RuntimeException("Error hashing password", e);
        }
    }
    public static boolean verify(String rawPassword, String hashedPassword) {
        if (rawPassword == null || hashedPassword == null) return false;
        return Objects.equals(hash(rawPassword), hashedPassword);
    }
}

RoomOption.java

package com.computerlist.model;

public class RoomOption {

    private int id;
    private String cpu;
    private String gpu;
    private int ram;
    private String storage;

    public RoomOption(int id, String cpu, String gpu, int ram, String storage) {
        this.id = id;
        this.cpu = cpu;
        this.gpu = gpu;
        this.ram = ram;
        this.storage = storage;
    }

    public String getStorage() {
        return storage;
    }

    public void setStorage(String storage) {
        this.storage = storage;
    }

    public int getRam() {
        return ram;
    }

    public void setRam(int ram) {
        this.ram = ram;
    }

    public String getGpu() {
        return gpu;
    }

    public void setGpu(String gpu) {
        this.gpu = gpu;
    }

    public String getCpu() {
        return cpu;
    }

    public void setCpu(String cpu) {
        this.cpu = cpu;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    @Override
    public String toString() {
        return "RoomOption{" +
                "id=" + id +
                ", cpu='" + cpu + '\'' +
                ", gpu='" + gpu + '\'' +
                ", ram=" + ram +
                ", storage='" + storage + '\'' +
                '}';
    }
}

RoomOptionDAO.java

package com.computerlist.dao;

import com.computerlist.model.RoomOption;

import java.util.List;

public interface RoomOptionDAO {
    public  List<RoomOption> findAllRoomsByComputerId(int computer_id);
    RoomOption findById(int id);
    List<RoomOption> findAll();
    boolean create(RoomOption option);
    boolean update(RoomOption option);
    boolean delete(int id);
}

RoomOptionDAOImpl.java

package com.computerlist.dao.impl;

import com.computerlist.dao.RoomOptionDAO;
import com.computerlist.model.RoomOption;
import com.computerlist.util.DBConnection;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class RoomOptionDAOImpl implements RoomOptionDAO {

    private static final Logger logger = LogManager.getLogger(RoomOptionDAOImpl.class);
    @Override
    public List<RoomOption> findAllRoomsByComputerId(int computer_id) {
        List<RoomOption> list = new ArrayList<>();

        String roomSql = """
            SELECT ro.id, ro.room_type, ro.capacity, ro.bed_type, ro.bed_count, ro.price_multiplier
            FROM pc_configurations ro
            JOIN computer_pc_configurations tro ON ro.id = tro.pc_configuration_id
            WHERE tro.computer_id = ?
        """;

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(roomSql)) {

            ps.setInt(1, computer_id); // ‚Üê –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä!

            try (ResultSet rs = ps.executeQuery()) {
                while (rs.next()) {
                    list.add(extractRoomOption(rs));
                }
            }

        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findAllRoomsByComputerId error", e);
        }

        return list;
    }


    @Override
    public RoomOption findById(int id) {
        String sql = "SELECT * FROM pc_configurations WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) return extractRoomOption(rs);
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findById error", e);
        }
        return null;
    }

    @Override
    public List<RoomOption> findAll() {
        List<RoomOption> list = new ArrayList<>();
        String sql = "SELECT * FROM pc_configurations";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql);
             ResultSet rs = ps.executeQuery()) {
            while (rs.next()) list.add(extractRoomOption(rs));
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findAll error", e);
        }
        return list;
    }

    @Override
    public boolean create(RoomOption option) {
        String sql = "INSERT INTO pc_configurations (room_type, capacity, bed_type, bed_count, price_multiplier) VALUES (?, ?, ?, ?, ?)";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {
            ps.setString(1, option.getRoomType());
            ps.setInt(2, option.getCapacity());
            ps.setString(3, option.getBed_type());
            ps.setInt(4, option.getBed_count());
            ps.setDouble(5, option.getPriceMultiplier());

            int affectedRows = ps.executeUpdate();
            if (affectedRows > 0) {
                try (ResultSet rs = ps.getGeneratedKeys()) {
                    if (rs.next()) {
                        option.setId(rs.getInt(1));
                    }
                }
                return true;
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("create error", e);
        }
        return false;
    }

    @Override
    public boolean update(RoomOption option) {
        String sql = "UPDATE pc_configurations SET room_type=?, capacity=?, bed_type=?, bed_count=?, price_multiplier=? WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setString(1, option.getRoomType());
            ps.setInt(2, option.getCapacity());
            ps.setString(3, option.getBed_type());
            ps.setInt(4, option.getBed_count());
            ps.setDouble(5, option.getPriceMultiplier());
            ps.setInt(6, option.getId());
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("update error", e);
        }
        return false;
    }

    @Override
    public boolean delete(int id) {
        String sql = "DELETE FROM pc_configurations WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("delete error", e);
        }
        return false;
    }

    private RoomOption extractRoomOption(ResultSet rs) throws SQLException {
        return new RoomOption(
                rs.getInt("id"),
                rs.getString("room_type"),
                rs.getInt("capacity"),
                rs.getString("bed_type"),
                rs.getInt("bed_count"),
                rs.getDouble("price_multiplier")
        );
    }

}


RoomOptionService.java

package com.computerlist.service;

import com.computerlist.model.RoomOption;
import java.util.List;

public interface RoomOptionService {

    RoomOption getRoomOptionById(int id);
    List<RoomOption> getAllRoomOptions();
    List<RoomOption> getRoomOptionsByComputer(int computerId);
    boolean createRoomOption(RoomOption option);
    boolean updateRoomOption(RoomOption option);
    boolean deleteRoomOption(int id);
}

RoomOptionServiceImpl.java

package com.computerlist.service.impl;

import com.computerlist.service.RoomOptionService;
import com.computerlist.dao.RoomOptionDAO;
import com.computerlist.dao.impl.RoomOptionDAOImpl;
import com.computerlist.model.RoomOption;

import java.util.List;

public class RoomOptionServiceImpl implements RoomOptionService {

    private final RoomOptionDAO roomOptionDAO = new RoomOptionDAOImpl();

    @Override
    public RoomOption getRoomOptionById(int id) {
        return roomOptionDAO.findById(id);
    }

    @Override
    public List<RoomOption> getAllRoomOptions() {
        return roomOptionDAO.findAll();
    }

    @Override
    public List<RoomOption> getRoomOptionsByComputer(int computerId) {
        return roomOptionDAO.findAllRoomsByComputerId(computerId);
    }

    @Override
    public boolean createRoomOption(RoomOption option) {
        if (option.getPriceMultiplier() <= 0) {
            option.setPriceMultiplier(1.0);
        }
        return roomOptionDAO.create(option);
    }

    @Override
    public boolean updateRoomOption(RoomOption option) {
        return roomOptionDAO.update(option);
    }

    @Override
    public boolean deleteRoomOption(int id) {
        return roomOptionDAO.delete(id);
    }
}

profile.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ include file="../fragments/header.jsp" %>

<div class="container" style="max-width: 900px; margin: 30px auto;">
    <h1>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h1>

    <p><strong>–ò–º—è:</strong> ${admin.name}</p>
    <p><strong>Email:</strong> ${admin.email}</p>
    <p><strong>–†–æ–ª—å:</strong> ${admin.role.name}</p>

    <div style="text-align: right; margin: 20px 0;">
        <a href="${pageContext.request.contextPath}/admin/create-computer"
           style="padding: 8px 16px; background-color: #28a745; color: white; text-decoration: none; border-radius: 4px; font-weight: bold;">
            + –°–æ–∑–¥–∞—Ç—å —Ç—É—Ä
        </a>
    </div>

    <h2>–ú–æ–∏ —Ç—É—Ä—ã</h2>

    <c:choose>
        <c:when test="${empty computers}">
            <p>–í—ã –ø–æ–∫–∞ –Ω–µ —Å–æ–∑–¥–∞–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ç—É—Ä–∞.</p>
        </c:when>
        <c:otherwise>
            <div style="display: flex; flex-direction: column; gap: 15px;">
                <c:forEach var="computer" items="${computers}">
                    <div style="border: 1px solid #ddd; padding: 15px; border-radius: 6px; background: #f9f9f9;">
                        <h3>${computer.title}</h3>
                        <p><strong>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong> ${computer.gamingZone.name}</p>
                        <p><strong>–î–∞—Ç—ã:</strong> ${computer.startDate} ‚Äì ${computer.endDate}</p>
                        <p><strong>–¶–µ–Ω–∞ –æ—Ç:</strong> ${computer.hourlyRate} ‚ÇΩ</p>
                        <div>
                            <a href="${pageContext.request.contextPath}/computer?id=${computer.id}"
                               style="margin-right: 12px; color: #007bff; text-decoration: none;">–ü—Ä–æ—Å–º–æ—Ç—Ä</a>
                            <a href="${pageContext.request.contextPath}/admin/edit-computer?id=${computer.id}"
                               style="color: #ffc107; text-decoration: none;">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                        </div>
                    </div>
                </c:forEach>
            </div>
        </c:otherwise>
    </c:choose>

    <div style="margin-top: 30px; text-align: center;">
        <a href="${pageContext.request.contextPath}/"
           style="color: #6c757d; text-decoration: none;">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>
</div>

<%@ include file="../fragments/footer.jsp" %>

profile_1.jsp

<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<%@ include file="/templates/fragments/header.jsp" %>

<div class="container" style="max-width: 900px; margin: 30px auto;">
    <h2>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>

    <form method="post" action="${pageContext.request.contextPath}/profile">
        <label>–ò–º—è:</label><br>
        <input type="text" name="name" value="${user.name}" style="width: 100%;"><br><br>
        <label>Email (–Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å):</label><br>
        <input type="text" value="${user.email}" style="width: 100%;" disabled><br><br>
        <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
    </form>

    <hr>

    <h3>–ú–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
    <c:choose>
        <c:when test="${not empty reservations}">
            <table border="1" cellpadding="5" cellspacing="0" style="width:100%;">
                <tr>
                    <th>ID</th>
                    <th>–¢—É—Ä</th>
                    <th>–î–∞—Ç–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</th>
                    <th>–ö–æ–ª-–≤–æ –ª—é–¥–µ–π</th>
                    <th>–ö–æ–ª-–≤–æ –∫–æ–º–Ω–∞—Ç</th>
                    <th>–¶–µ–Ω–∞</th>
                    <th>–°—Ç–∞—Ç—É—Å</th>
                </tr>
                <c:forEach var="b" items="${reservations}">
                    <tr>
                        <td>${b.id}</td>
                        <td>${b.computer != null ? b.computer.title : '‚Äî'}</td>
                        <td>${b.reservationDate}</td>
                        <td>${b.peopleCount}</td>
                        <td>${b.roomsCount}</td>
                        <td>${b.totalPrice}</td>
                        <td>${b.status}</td>
                    </tr>
                </c:forEach>
            </table>
        </c:when>
        <c:otherwise>
            <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π.</p>
        </c:otherwise>
    </c:choose>
</div>

<%@ include file="/templates/fragments/footer.jsp" %>

ProfileUserServlet.java

package com.computerlist.controller.User;

import com.computerlist.model.User;
import com.computerlist.model.Reservation;
import com.computerlist.service.UserService;
import com.computerlist.service.ReservationService;
import com.computerlist.service.impl.UserServiceImpl;
import com.computerlist.service.impl.ReservationServiceImpl;

import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;

import java.io.IOException;
import java.util.List;

@WebServlet("/profile")
public class ProfileUserServlet extends HttpServlet {

    private UserService userService;
    private ReservationService reservationService;

    @Override
    public void init() {
        userService = new UserServiceImpl();
        reservationService = new ReservationServiceImpl();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        User user = (session != null) ? (User) session.getAttribute("user") : null;

        if (user == null) {
            resp.sendRedirect(req.getContextPath() +  "/login");
            return;
        }

        // –ü–æ–¥–≥—Ä—É–∂–∞–µ–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        List<Reservation> reservations = reservationService.getReservationsByUserId(user.getId());

        req.setAttribute("user", user);
        req.setAttribute("reservations", reservations);

        req.getRequestDispatcher("/templates/user/profile.jsp").forward(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        User user = (session != null) ? (User) session.getAttribute("user") : null;

        if (user == null) {
            resp.sendRedirect(req.getContextPath() +  "/login");
            return;
        }

        // –ò–∑–º–µ–Ω—è–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        String newName = req.getParameter("name");
        if (newName != null && !newName.trim().isEmpty()) {
            user.setName(newName.trim());
            userService.updateUser(user); // –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ UserService —É–º–µ–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            session.setAttribute("user", user); // –æ–±–Ω–æ–≤–ª—è–µ–º —Å–µ—Å—Å–∏—é
        }

        resp.sendRedirect(req.getContextPath() + "/profile");
    }
}

register.jsp

<%@ page contentType="text/html;charset=UTF-8" pageEncoding="UTF-8" %>

<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/styles.css" />
<%@ include file="/templates/fragments/header.jsp" %>

<div class="container" style="max-width: 500px; margin: 40px auto;">
    <h2 style="text-align: center;">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>

    <form action="${pageContext.request.contextPath}/register" method="post">
        <div style="margin-bottom: 15px;">
            <label><strong>–ò–º—è:</strong></label><br/>
            <input type="text" name="name" required
                   value="${param.name}" style="width: 100%; padding: 8px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label><strong>Email:</strong></label><br/>
            <input type="email" name="email" required
                   value="${param.email}" style="width: 100%; padding: 8px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label><strong>–ü–∞—Ä–æ–ª—å:</strong></label><br/>
            <input type="password" name="password" required minlength="6"
                   style="width: 100%; padding: 8px;">
        </div>

        <div style="margin-bottom: 15px;">
            <label><strong>–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å:</strong></label><br/>
            <input type="password" name="confirmPassword" required minlength="6"
                   style="width: 100%; padding: 8px;">
        </div>

        <div style="margin-bottom: 20px;">
            <label><strong>–†–æ–ª—å:</strong></label><br/>
            <select name="roleId" style="width: 100%; padding: 8px;">
                <option value="3">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</option>
                <option value="2">–ú–µ–Ω–µ–¥–∂–µ—Ä</option>
            </select>
        </div>

        <button type="submit" style="width: 100%; padding: 10px; background: #28a745; color: white; border: none; border-radius: 5px; font-size: 16px;">
            –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
        </button>
    </form>

    <% if (request.getAttribute("error") != null) { %>
        <p style="color: red; margin-top: 15px; text-align: center;">
            <%= request.getAttribute("error") %>
        </p>
    <% } %>

    <div style="text-align: center; margin-top: 20px;">
        <a href="${pageContext.request.contextPath}/login" style="color: #007bff; text-decoration: none;">
            ‚Üê –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏
        </a>
    </div>
</div>

<%@ include file="/templates/fragments/footer.jsp" %>

RegisterServlet.java

package com.computerlist.controller.Auth;

import com.computerlist.model.User;
import com.computerlist.service.impl.UserServiceImpl;
import com.computerlist.util.PasswordHasher;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;

import java.io.IOException;

@WebServlet("/register")
public class RegisterServlet extends HttpServlet {

    private UserServiceImpl userService;

    @Override
    public void init() {
        userService = new UserServiceImpl();
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        req.getRequestDispatcher("/templates/user/register.jsp").forward(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {

        String name = req.getParameter("name");
        String email = req.getParameter("email");
        String password = req.getParameter("password");
        String confirmPassword = req.getParameter("confirmPassword");
        String roleIdStr = req.getParameter("roleId");

        // –í–∞–ª–∏–¥–∞—Ü–∏—è
        if (name == null || name.trim().isEmpty() ||
                email == null || email.trim().isEmpty() ||
                password == null || confirmPassword == null ||
                !password.equals(confirmPassword)) {

            req.setAttribute("error", "–í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã. –ü–∞—Ä–æ–ª–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å.");
            req.setAttribute("name", name);
            req.setAttribute("email", email);
            req.getRequestDispatcher("/templates/user/register.jsp").forward(req, resp);
            return;
        }

        if (password.length() < 6 || password.length() > 16) {
            req.setAttribute("error", "–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—Ç 6 –¥–æ 16 —Å–∏–º–≤–æ–ª–æ–≤.");
            req.setAttribute("name", name);
            req.setAttribute("email", email);
            req.getRequestDispatcher("/templates/user/register.jsp").forward(req, resp);
            return;
        }

        int roleId;
        try {
            roleId = Integer.parseInt(roleIdStr);
            // –†–∞–∑—Ä–µ—à–∞–µ–º —Ç–æ–ª—å–∫–æ –≤–∞—à–∏ ID: 2 (–º–µ–Ω–µ–¥–∂–µ—Ä) –∏ 3 (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
            if (roleId != 2 && roleId != 3) {
                roleId = 3; // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
            }
        } catch (NumberFormatException e) {
            roleId = 3;
        }

        User user = new User();
        user.setName(name.trim());
        user.setEmail(email.trim());
        user.setPasswordHash(PasswordHasher.hash(password));
        user.setRoleId(roleId);

        if (userService.createUser(user)) {
            resp.sendRedirect(req.getContextPath() + "/login?registered=success");
        } else {
            req.setAttribute("error", "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.");
            req.setAttribute("name", name);
            req.setAttribute("email", email);
            req.getRequestDispatcher("/templates/user/register.jsp").forward(req, resp);
        }
    }
}

Reservation.java

package com.computerlist.model;

import java.time.LocalDateTime;

public class Reservation {

    private int id;
    private int userId;
    private User user;
    private int computerId;
    private Computer computer;
    private LocalDateTime reservationDate;
    private int peopleCount;
    private int roomsCount;
    private double totalPrice;
    private String status;

    public Reservation() {}

    public Reservation(int id, int userId, User user, int computerId, Computer computer,
                   LocalDateTime reservationDate, int peopleCount,
                   int roomsCount, double totalPrice, String status) {
        this.id = id;
        this.userId = userId;
        this.user = user;
        this.computerId = computerId;
        this.computer = computer;
        this.reservationDate = reservationDate;
        this.peopleCount = peopleCount;
        this.roomsCount = roomsCount;
        this.totalPrice = totalPrice;
        this.status = status;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public int getUserId() {
        return userId;
    }

    public void setUserId(int userId) {
        this.userId = userId;
    }

    public User getUser() {
        return user;
    }

    public void setUser(User user) {
        this.user = user;
    }

    public int getComputerId() {
        return computerId;
    }

    public void setComputerId(int computerId) {
        this.computerId = computerId;
    }

    public Computer getComputer() {
        return computer;
    }

    public void setComputer(Computer computer) {
        this.computer = computer;
    }

    public LocalDateTime getReservationDate() {
        return reservationDate;
    }

    public void setReservationDate(LocalDateTime reservationDate) {
        this.reservationDate = reservationDate;
    }

    public int getPeopleCount() {
        return peopleCount;
    }

    public void setPeopleCount(int peopleCount) {
        this.peopleCount = peopleCount;
    }

    public int getRoomsCount() {
        return roomsCount;
    }

    public void setRoomsCount(int roomsCount) {
        this.roomsCount = roomsCount;
    }

    public double getTotalPrice() {
        return totalPrice;
    }

    public void setTotalPrice(double totalPrice) {
        this.totalPrice = totalPrice;
    }

    public String getStatus() {
        return status;
    }

    public void setStatus(String status) {
        this.status = status;
    }

    @Override
    public String toString() {
        return "Reservation{" +
                "id=" + id +
                ", userId=" + userId +
                ", user=" + user +
                ", computerId=" + computerId +
                ", computer=" + computer +
                ", reservationDate=" + reservationDate +
                ", peopleCount=" + peopleCount +
                ", roomsCount=" + roomsCount +
                ", totalPrice=" + totalPrice +
                ", status='" + status + '\'' +
                '}';
    }
}

ReservationDAO.java

package com.computerlist.dao;


import com.computerlist.model.Reservation;

import java.util.List;

public interface ReservationDAO {
    Reservation findById(int id);
    List<Reservation> findByUserId(int userId);
    boolean create(Reservation reservation);
    boolean update(Reservation reservation);
    boolean delete(int id);
}


ReservationDAOImpl.java

package com.computerlist.dao.impl;


import com.computerlist.dao.ReservationDAO;
import com.computerlist.model.Reservation;
import com.computerlist.util.DBConnection;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import java.sql.*;
import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;

public class ReservationDAOImpl implements ReservationDAO {

    private static final Logger logger = LogManager.getLogger(ReservationDAOImpl.class);

    @Override
    public Reservation findById(int id) {
        String sql = "SELECT * FROM reservations WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) return extractReservation(rs);
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findById error", e);
        }
        return null;
    }

    @Override
    public List<Reservation> findByUserId(int userId) {
        List<Reservation> list = new ArrayList<>();
        String sql = "SELECT * FROM reservations WHERE user_id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, userId);
            try (ResultSet rs = ps.executeQuery()) {
                while (rs.next()) list.add(extractReservation(rs));
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findByUserId error", e);
        }
        return list;
    }

    @Override
    public boolean create(Reservation reservation) {
        String sql = "INSERT INTO reservations (user_id, computer_id, reservation_date, people_count, rooms_count, total_price, status) " +
                "VALUES (?, ?, ?, ?, ?, ?, ?)";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, reservation.getUserId());
            ps.setInt(2, reservation.getComputerId());
            ps.setTimestamp(3, Timestamp.valueOf(reservation.getReservationDate()));
            ps.setInt(4, reservation.getPeopleCount());
            ps.setInt(5, reservation.getRoomsCount());
            ps.setDouble(6, reservation.getTotalPrice());
            ps.setString(7, reservation.getStatus());
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("create error", e);
        }
        return false;
    }

    @Override
    public boolean update(Reservation reservation) {
        String sql = "UPDATE reservations SET user_id=?, computer_id=?, reservation_date=?, people_count=?, rooms_count=?, total_price=?, status=? WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, reservation.getUserId());
            ps.setInt(2, reservation.getComputerId());
            ps.setTimestamp(3, Timestamp.valueOf(reservation.getReservationDate()));
            ps.setInt(4, reservation.getPeopleCount());
            ps.setInt(5, reservation.getRoomsCount());
            ps.setDouble(6, reservation.getTotalPrice());
            ps.setString(7, reservation.getStatus());
            ps.setInt(8, reservation.getId());
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("update error", e);
        }
        return false;
    }

    @Override
    public boolean delete(int id) {
        String sql = "DELETE FROM reservations WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("delete error", e);
        }
        return false;
    }

    private Reservation extractReservation(ResultSet rs) throws SQLException {
        return new Reservation(
                rs.getInt("id"),
                rs.getInt("user_id"),
                null, // user –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º DAO
                rs.getInt("computer_id"),
                null, // computer –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º DAO
                rs.getTimestamp("reservation_date").toLocalDateTime(),
                rs.getInt("people_count"),
                rs.getInt("rooms_count"),
                rs.getDouble("total_price"),
                rs.getString("status")
        );
    }
}

ReservationService.java

package com.computerlist.service;

import com.computerlist.model.Reservation;
import java.util.List;

public interface ReservationService {

    Reservation getReservationById(int id);
    List<Reservation> getReservationsByUserId(int userId);
    boolean createReservation(Reservation reservation);
    boolean updateReservation(Reservation reservation);
    boolean cancelReservation(int id); // –ª–æ–≥–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
    boolean deleteReservation(int id); // —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
}

ReservationServiceImpl.java

package com.computerlist.service.impl;

import com.computerlist.dao.ReservationDAO;
import com.computerlist.dao.ComputerDAO;
import com.computerlist.dao.UserDAO;
import com.computerlist.dao.impl.ReservationDAOImpl;
import com.computerlist.dao.impl.ComputerDAOImpl;
import com.computerlist.dao.impl.UserDAOImpl;
import com.computerlist.model.Reservation;
import com.computerlist.model.Computer;
import com.computerlist.model.User;
import com.computerlist.service.ReservationService;

import java.time.LocalDateTime;
import java.util.List;

public class ReservationServiceImpl implements ReservationService {

    private final ReservationDAO reservationDAO = new ReservationDAOImpl();
    private final UserDAO userDAO = new UserDAOImpl();
    private final ComputerDAO computerDAO = new ComputerDAOImpl();

    @Override
    public Reservation getReservationById(int id) {
        Reservation reservation = reservationDAO.findById(id);
        if (reservation != null) {
            // –ü–æ–¥–≥—Ä—É–∑–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
            User user = userDAO.findById(reservation.getUserId());
            Computer computer = computerDAO.findById(reservation.getComputerId());
            reservation.setUser(user);
            reservation.setComputer(computer);
        }
        return reservation;
    }

    @Override
    public List<Reservation> getReservationsByUserId(int userId) {
        List<Reservation> list = reservationDAO.findByUserId(userId);
        for (Reservation b : list) {
            b.setUser(userDAO.findById(b.getUserId()));
            b.setComputer(computerDAO.findById(b.getComputerId()));
        }
        return list;
    }

    @Override
    public boolean createReservation(Reservation reservation) {
        if (reservation.getReservationDate() == null) {
            reservation.setReservationDate(LocalDateTime.now());
        }
        if (reservation.getStatus() == null || reservation.getStatus().isEmpty()) {
            reservation.setStatus("PENDING");
        }

        // –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Ä–∞—Å—á—ë—Ç –¥–ª—è –ü–ö: —Ü–µ–Ω–∞ –∑–∞ —á–∞—Å * –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤
        Computer computer = computerDAO.findById(reservation.getComputerId());
        if (computer != null) {
            // –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ durationHours —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ reservation.peopleCount
            int durationHours = reservation.getPeopleCount();
            reservation.setTotalPrice(computer.getHourlyRate() * durationHours);
        }

        return reservationDAO.create(reservation);
    }

    @Override
    public boolean updateReservation(Reservation reservation) {
        return reservationDAO.update(reservation);
    }

    @Override
    public boolean cancelReservation(int id) {
        Reservation reservation = reservationDAO.findById(id);
        if (reservation == null) return false;

        reservation.setStatus("CANCELLED");
        return reservationDAO.update(reservation);
    }

    @Override
    public boolean deleteReservation(int id) {
        return reservationDAO.delete(id);
    }
}


Role.java

package com.computerlist.model;

public class Role {

    private int id;
    private String name;

    public Role() {}

    public Role(int id, String name) {
        this.id = id;
        this.name = name;
    }
    // getters
    public int getId() {
        return id;
    }

    public String getName() {
        return name;
    }
    //setters


    public void setId(int id) {
        this.id = id;
    }

    public void setName(String name) {
        this.name = name;
    }

    @Override
    public String toString() {
        return "Role{" +
                "id=" + id +
                ", name='" + name + '\'' +
                '}';
    }
}

RoleDAO.java

package com.computerlist.dao;


import com.computerlist.model.Role;

import java.util.List;

public interface RoleDAO {
    Role findById(int id);
    Role findByName(String name);
    List<Role> findAll();
}

RoleDAOImpl.java

package com.computerlist.dao.impl;


import com.computerlist.dao.RoleDAO;
import com.computerlist.model.Role;
import com.computerlist.util.DBConnection;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class RoleDAOImpl implements RoleDAO {

    private static final Logger logger = LogManager.getLogger(RoleDAOImpl.class);

    @Override
    public Role findById(int id) {
        String sql = "SELECT * FROM roles WHERE id = ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) return extractRole(rs);
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findById error", e);
        }
        return null;
    }

    @Override
    public Role findByName(String name) {
        String sql = "SELECT * FROM roles WHERE name = ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setString(1, name);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) return extractRole(rs);
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findByName error", e);
        }
        return null;
    }

    @Override
    public List<Role> findAll() {
        List<Role> list = new ArrayList<>();
        String sql = "SELECT * FROM roles";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql);
             ResultSet rs = ps.executeQuery()) {
            while (rs.next()) list.add(extractRole(rs));
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("findAll error", e);
        }
        return list;
    }

    private Role extractRole(ResultSet rs) throws SQLException {
        return new Role(
                rs.getInt("id"),
                rs.getString("name")
        );
    }
}


RoleService.java

package com.computerlist.service;

import com.computerlist.model.Role;
import java.util.List;

public interface RoleService {
    Role getRoleById(int id);
    Role getRoleByName(String name);
    List<Role> getAllRoles();
}

RoleServiceImpl.java

package com.computerlist.service.impl;

import com.computerlist.dao.RoleDAO;
import com.computerlist.dao.impl.RoleDAOImpl;
import com.computerlist.model.Role;
import com.computerlist.service.RoleService;

import java.util.List;

public class RoleServiceImpl implements RoleService {

    private final RoleDAO roleDAO = new RoleDAOImpl();

    @Override
    public Role getRoleById(int id) {
        return roleDAO.findById(id);
    }

    @Override
    public Role getRoleByName(String name) {
        return roleDAO.findByName(name);
    }

    @Override
    public List<Role> getAllRoles() {
        return roleDAO.findAll();
    }
}


SearchService.java

package com.computerlist.service;

import com.computerlist.model.Computer;

import java.util.List;

public interface SearchService {
    public List<Computer> searchComputers(String query);
}

SearchServiceImpl.java

package com.computerlist.service.impl;


import com.computerlist.dao.impl.ComputerDAOImpl;
import com.computerlist.model.Computer;
import com.computerlist.service.SearchService;

import java.util.List;
import java.util.stream.Collectors;

public class SearchServiceImpl implements SearchService {

    private ComputerDAOImpl computerDAO = new ComputerDAOImpl();

    public List<Computer> searchComputers(String query) {
        if (query == null || query.isEmpty()) {
            return computerDAO.findAll();
        }
        String lower = query.toLowerCase();
        return computerDAO.findAll().stream()
                .filter(t -> t.getTitle().toLowerCase().contains(lower))
                .collect(Collectors.toList());
    }
}

TestDAO.java

package com.computerlist.dao;



import com.computerlist.dao.impl.*;
import com.computerlist.model.*;

import java.time.LocalDateTime;
import java.util.List;

public class TestDAO {
    public static void main(String[] args) {

        // ----------------- UserDAO -----------------
        UserDAOImpl userDAO = new UserDAOImpl();
        RoleDAOImpl roleDAO = new RoleDAOImpl();

        // –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        User user = userDAO.findById(1);
        System.out.println("Find user by ID: " + user);

        // –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        User newUser = new User();
        newUser.setName("Test User");
        newUser.setEmail("testuser@mail.com");
        newUser.setPasswordHash("hashedPassword");
        newUser.setRoleId(2); // –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —Ä–æ–ª—å USER
        boolean created = userDAO.create(newUser);
        System.out.println("User created: " + created);

        // –ù–∞–π—Ç–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        List<User> allUsers = userDAO.findAll();
        allUsers.forEach(System.out::println);

        // ----------------- RoleDAO -----------------
        Role role = roleDAO.findByName("ADMIN");
        System.out.println("Role by name: " + role);

        // ----------------- GamingZoneDAO -----------------
        GamingZoneDAOImpl gamingZoneDAO = new GamingZoneDAOImpl();
        List<GamingZone> gamingZones = gamingZoneDAO.findAll();
        gamingZones.forEach(System.out::println);

        // ----------------- ComputerDAO -----------------
        ComputerDAOImpl computerDAO = new ComputerDAOImpl();
        List<Computer> computers = computerDAO.findAll();
        computers.forEach(System.out::println);

        // ----------------- RoomOptionDAO -----------------
        RoomOptionDAOImpl roomDAO = new RoomOptionDAOImpl();
        List<RoomOption> rooms = roomDAO.findAll();
        rooms.forEach(System.out::println);

        // ----------------- ReservationDAO -----------------
        ReservationDAOImpl reservationDAO = new ReservationDAOImpl();

        // –°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
        Reservation reservation = new Reservation();
        reservation.setUserId(1);
        reservation.setComputerId(1);
        reservation.setReservationDate(LocalDateTime.now());
        reservation.setPeopleCount(2);
        reservation.setRoomsCount(1);
        reservation.setTotalPrice(1000.0);
        reservation.setStatus("PENDING");

        boolean reservationCreated = reservationDAO.create(reservation);
        System.out.println("Reservation created: " + reservationCreated);

        // –ü–æ–ª—É—á–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        List<Reservation> reservations = reservationDAO.findByUserId(1);
        reservations.forEach(System.out::println);
    }
}


User.java

package com.computerlist.model;

public class User {
    private int id;
    private String name;
    private String email;
    private String passwordHash;
    private int roleId;
    private Role role; // optional ‚Äî –µ—Å–ª–∏ —Ç—ã –±—É–¥–µ—à—å –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å –æ–±—ä–µ–∫—Ç Role

    public User() {}

    public User(int id, String name, String email, String passwordHash, int roleId) {
        this.id = id;
        this.name = name;
        this.email = email;
        this.passwordHash = passwordHash;
        this.roleId = roleId;
    }

    public int getId() {
        return id;
    }

    public String getName() {
        return name;
    }

    public String getEmail() {
        return email;
    }

    public String getPasswordHash() {
        return passwordHash;
    }

    public int getRoleId() {
        return roleId;
    }

    public Role getRole() {
        return role;
    }

    public void setId(int id) {
        this.id = id;
    }

    public void setName(String name) {
        this.name = name;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public void setPasswordHash(String passwordHash) {
        this.passwordHash = passwordHash;
    }

    public void setRoleId(int roleId) {
        this.roleId = roleId;
    }

    public void setRole(Role role) {
        this.role = role;
    }
    @Override
    public String toString() {
        return "User{" +
                "id=" + id +
                ", name='" + name + '\'' +
                ", email='" + email + '\'' +
                ", passwordHash='" + passwordHash + '\'' +
                ", roleId=" + roleId +
                ", role=" + role +
                '}';
    }
}

UserDAO.java

package com.computerlist.dao;


import com.computerlist.model.User;

import java.util.List;

public interface UserDAO {
    User findById(int id);
    User findByEmail(String email);
    List<User> findAll();
    boolean create(User user);
    boolean update(User user);
    boolean delete(int id);
}

UserDAOImpl.java

package com.computerlist.dao.impl;


import com.computerlist.dao.UserDAO;
import com.computerlist.model.User;
import com.computerlist.util.DBConnection;


import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class UserDAOImpl implements UserDAO {

    private static final Logger logger = LogManager.getLogger(UserDAOImpl.class);

    @Override
    public User findById(int id) {
        String sql = "SELECT * FROM users WHERE id = ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) {
                    return extractUser(rs);
                }
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("Error in findById", e);
        }
        return null;
    }

    @Override
    public User findByEmail(String email) {
        String sql = "SELECT * FROM users WHERE email = ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setString(1, email);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) {
                    return extractUser(rs);
                }
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("Error in findByEmail", e);
        }
        return null;
    }

    @Override
    public List<User> findAll() {
        List<User> list = new ArrayList<>();
        String sql = "SELECT * FROM users";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql);
             ResultSet rs = ps.executeQuery()) {
            while (rs.next()) {
                list.add(extractUser(rs));
            }
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("Error in findAll", e);
        }
        return list;
    }

    @Override
    public boolean create(User user) {
        String sql = "INSERT INTO users (name, email, password_hash, role_id) VALUES (?, ?, ?, ?)";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setString(1, user.getName());
            ps.setString(2, user.getEmail());
            ps.setString(3, user.getPasswordHash());
            ps.setInt(4, user.getRoleId());
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("Error in create user", e);
        }
        return false;
    }

    @Override
    public boolean update(User user) {
        String sql = "UPDATE users SET name=?, email=?, password_hash=?, role_id=? WHERE id=?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setString(1, user.getName());
            ps.setString(2, user.getEmail());
            ps.setString(3, user.getPasswordHash());
            ps.setInt(4, user.getRoleId());
            ps.setInt(5, user.getId());
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("Error in update user", e);
        }
        return false;
    }

    @Override
    public boolean delete(int id) {
        String sql = "DELETE FROM users WHERE id = ?";
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            ps.setInt(1, id);
            return ps.executeUpdate() > 0;
        } catch (SQLException | ClassNotFoundException e) {
            logger.error("Error in delete user", e);
        }
        return false;
    }

    // --- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ ResultSet ---
    private User extractUser(ResultSet rs) throws SQLException {
        return new User(
                rs.getInt("id"),
                rs.getString("name"),
                rs.getString("email"),
                rs.getString("password_hash"),
                rs.getInt("role_id")
        );
    }

}


UserService.java

package com.computerlist.service;

import com.computerlist.model.User;
import java.util.List;

public interface UserService {

    User getUserById(int id);
    User getUserByEmail(String email);
    List<User> getAllUsers();
    boolean createUser(User user);
    boolean updateUser(User user);
    boolean deleteUser(int id);
    User authenticate(String email, String password);
}


UserServiceImpl.java

package com.computerlist.service.impl;

import com.computerlist.dao.RoleDAO;
import com.computerlist.dao.UserDAO;
import com.computerlist.dao.impl.RoleDAOImpl;
import com.computerlist.dao.impl.UserDAOImpl;
import com.computerlist.model.Role;
import com.computerlist.model.User;
import com.computerlist.service.UserService;
import com.computerlist.util.PasswordHasher;

import java.util.List;


public class UserServiceImpl implements UserService {
    private final UserDAO userDAO = new UserDAOImpl();
    private final RoleDAO roleDAO = new RoleDAOImpl();

    @Override
    public User getUserById(int id) {
        User user = userDAO.findById(id);
        if (user != null) {
            user.setRole(roleDAO.findById(user.getRoleId()));
        }
        return user;
    }

    @Override
    public User getUserByEmail(String email) {
        User user = userDAO.findByEmail(email);
        if (user != null) {
            user.setRole(roleDAO.findById(user.getRoleId()));
        }
        return user;
    }

    @Override
    public List<User> getAllUsers() {
        List<User> users = userDAO.findAll();
        users.forEach(u -> u.setRole(roleDAO.findById(u.getRoleId())));
        return users;
    }

    @Override
    public boolean createUser(User user) {
        if (userDAO.findByEmail(user.getEmail()) != null) {
            return false; // email —É–∂–µ –∑–∞–Ω—è—Ç
        }
        return userDAO.create(user);
    }

    @Override
    public boolean updateUser(User user) {
        return userDAO.update(user);
    }

    @Override
    public boolean deleteUser(int id) {
        return userDAO.delete(id);
    }

    @Override
    public User authenticate(String email, String password) {
        User user = userDAO.findByEmail(email);
        if (user != null && user.getPasswordHash().equals(PasswordHasher.hash(password))) {
            return user;
        }
        return null;
    }
}




web.xml

<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee
                             http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"
         version="3.1">

  <display-name>ComputerList Application</display-name>

</web-app>

